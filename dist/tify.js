!function(n){function i(t){if(r[t])return r[t].exports;var e=r[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,i),e.l=!0,e.exports}var r={};i.m=n,i.c=r,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=53)}([function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e,n){var i=n(38)("wks"),r=n(23),o=n(0).Symbol,s="function"==typeof o;(t.exports=function(t){return i[t]||(i[t]=s&&o[t]||(s?o:r)("Symbol."+t))}).store=i},function(t,e){var n=t.exports={version:"2.5.1"};"number"==typeof __e&&(__e=n)},function(t,e){t.exports=function(t,e,n,i,r,o){var s,a=t=t||{},l=typeof t.default;"object"!=l&&"function"!=l||(a=(s=t).default);var c,u="function"==typeof a?a.options:a;if(e&&(u.render=e.render,u.staticRenderFns=e.staticRenderFns,u._compiled=!0),n&&(u.functional=!0),r&&(u._scopeId=r),o?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},u._ssrRegister=c):i&&(c=i),c){var h=u.functional,d=h?u.render:u.beforeCreate;h?(u._injectStyles=c,u.render=function(t,e){return c.call(e),d(t,e)}):u.beforeCreate=d?[].concat(d,c):[c]}return{esModule:s,exports:a,options:u}}},function(t,e,n){"use strict";function o(t){return"[object Array]"===c.call(t)}function i(t){return null!==t&&"object"==typeof t}function r(t){return"[object Function]"===c.call(t)}function s(t,e){if(null!=t)if("object"!=typeof t&&(t=[t]),o(t))for(var n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.call(null,t[r],r,t)}var a=n(76),l=n(198),c=Object.prototype.toString;t.exports={isArray:o,isArrayBuffer:function(t){return"[object ArrayBuffer]"===c.call(t)},isBuffer:l,isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:i,isUndefined:function(t){return void 0===t},isDate:function(t){return"[object Date]"===c.call(t)},isFile:function(t){return"[object File]"===c.call(t)},isBlob:function(t){return"[object Blob]"===c.call(t)},isFunction:r,isStream:function(t){return i(t)&&r(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:s,merge:function n(){function t(t,e){"object"==typeof i[e]&&"object"==typeof t?i[e]=n(i[e],t):i[e]=t}for(var i={},e=0,r=arguments.length;e<r;e++)s(arguments[e],t);return i},extend:function(n,t,i){return s(t,function(t,e){n[e]=i&&"function"==typeof t?a(t,i):t}),n},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(t,e,n){var v=n(0),g=n(2),m=n(11),y=n(9),w=function(t,e,n){var i,r,o,s=t&w.F,a=t&w.G,l=t&w.S,c=t&w.P,u=t&w.B,h=t&w.W,d=a?g:g[e]||(g[e]={}),f=d.prototype,p=a?v:l?v[e]:(v[e]||{}).prototype;for(i in a&&(n=e),n)(r=!s&&p&&void 0!==p[i])&&i in d||(o=r?p[i]:n[i],d[i]=a&&"function"!=typeof p[i]?n[i]:u&&r?m(o,v):h&&p[i]==o?function(i){function t(t,e,n){if(this instanceof i){switch(arguments.length){case 0:return new i;case 1:return new i(t);case 2:return new i(t,e)}return new i(t,e,n)}return i.apply(this,arguments)}return t.prototype=i.prototype,t}(o):c&&"function"==typeof o?m(Function.call,o):o,c&&((d.virtual||(d.virtual={}))[i]=o,t&w.R&&f&&!f[i]&&y(f,i,o)))};w.F=1,w.G=2,w.S=4,w.P=8,w.B=16,w.W=32,w.U=64,w.R=128,t.exports=w},function(t,e,n){var i=n(10),r=n(55),o=n(33),s=Object.defineProperty;e.f=n(8)?Object.defineProperty:function(t,e,n){if(i(t),e=o(e,!0),i(n),r)try{return s(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){t.exports=!n(12)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e,n){var i=n(6),r=n(22);t.exports=n(8)?function(t,e,n){return i.f(t,e,r(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var i=n(7);t.exports=function(t){if(!i(t))throw TypeError(t+" is not an object!");return t}},function(t,e,n){var o=n(15);t.exports=function(i,r,t){if(o(i),void 0===r)return i;switch(t){case 1:return function(t){return i.call(r,t)};case 2:return function(t,e){return i.call(r,t,e)};case 3:return function(t,e,n){return i.call(r,t,e,n)}}return function(){return i.apply(r,arguments)}}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var i=n(35),r=n(30);t.exports=function(t){return i(r(t))}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e){t.exports={}},function(t,e,n){var i=n(57),r=n(39);t.exports=Object.keys||function(t){return i(t,r)}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){var i=n(6).f,r=n(13),o=n(1)("toStringTag");t.exports=function(t,e,n){t&&!r(t=n?t:t.prototype,o)&&i(t,o,{configurable:!0,value:e})}},function(t,e,n){var d=n(11),f=n(91),p=n(92),v=n(10),g=n(36),m=n(93),y={},w={};(e=t.exports=function(t,e,n,i,r){var o,s,a,l,c=r?function(){return t}:m(t),u=d(n,i,e?2:1),h=0;if("function"!=typeof c)throw TypeError(t+" is not iterable!");if(p(c)){for(o=g(t.length);h<o;h++)if((l=e?u(v(s=t[h])[0],s[1]):u(t[h]))===y||l===w)return l}else for(a=c.call(t);!(s=a.next()).done;)if((l=f(a,u,s.value,e))===y||l===w)return l}).BREAK=y,e.RETURN=w},function(t,e){t.exports=!0},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){var n=0,i=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+i).toString(36))}},function(t,e,n){var i=n(30);t.exports=function(t){return Object(i(t))}},function(t,e){e.f={}.propertyIsEnumerable},function(t,mr,e){"use strict";(function(t,e){function D(t){return null==t}function L(t){return null!=t}function R(t){return!0===t}function k(t){return"string"==typeof t||"number"==typeof t||"boolean"==typeof t}function B(t){return null!==t&&"object"==typeof t}function c(t){return"[object Object]"===He.call(t)}function r(t){var e=parseFloat(String(t));return 0<=e&&Math.floor(e)===e&&isFinite(t)}function n(t){return null==t?"":"object"==typeof t?JSON.stringify(t,null,2):String(t)}function F(t){var e=parseFloat(t);return isNaN(e)?t:e}function a(t,e){for(var n=Object.create(null),i=t.split(","),r=0;r<i.length;r++)n[i[r]]=!0;return e?function(t){return n[t.toLowerCase()]}:function(t){return n[t]}}function u(t,e){if(t.length){var n=t.indexOf(e);if(-1<n)return t.splice(n,1)}}function h(t,e){return ze.call(t,e)}function i(e){var n=Object.create(null);return function(t){return n[t]||(n[t]=e(t))}}function o(n,i){function t(t){var e=arguments.length;return e?1<e?n.apply(i,arguments):n.call(i,t):n.call(i)}return t._length=n.length,t}function s(t,e){e=e||0;for(var n=t.length-e,i=new Array(n);n--;)i[n]=t[n+e];return i}function f(t,e){for(var n in e)t[n]=e[n];return t}function l(t){for(var e={},n=0;n<t.length;n++)t[n]&&f(e,t[n]);return e}function d(t,e,n){}function p(e,n){if(e===n)return!0;var t=B(e),i=B(n);if(!t||!i)return!t&&!i&&String(e)===String(n);try{var r=Array.isArray(e),o=Array.isArray(n);if(r&&o)return e.length===n.length&&e.every(function(t,e){return p(t,n[e])});if(r||o)return!1;var s=Object.keys(e),a=Object.keys(n);return s.length===a.length&&s.every(function(t){return p(e[t],n[t])})}catch(e){return!1}}function v(t,e){for(var n=0;n<t.length;n++)if(p(t[n],e))return n;return-1}function H(t){var e=!1;return function(){e||(e=!0,t.apply(this,arguments))}}function g(t,e,n,i){Object.defineProperty(t,e,{value:n,enumerable:!!i,writable:!0,configurable:!0})}function m(t){return"function"==typeof t&&/native code/.test(t.toString())}function y(t){return new bn(void 0,void 0,void 0,String(t))}function w(t,e){var n=t.componentOptions,i=new bn(t.tag,t.data,t.children,t.text,t.elm,t.context,n,t.asyncFactory);return i.ns=t.ns,i.isStatic=t.isStatic,i.key=t.key,i.isComment=t.isComment,i.isCloned=!0,e&&(t.children&&(i.children=_(t.children,!0)),n&&n.children&&(n.children=_(n.children,!0))),i}function _(t,e){for(var n=t.length,i=new Array(n),r=0;r<n;r++)i[r]=w(t[r],e);return i}function x(t,e){var n;if(B(t)&&!(t instanceof bn))return h(t,"__ob__")&&t.__ob__ instanceof On?n=t.__ob__:kn.shouldConvert&&!vn()&&(Array.isArray(t)||c(t))&&Object.isExtensible(t)&&!t._isVue&&(n=new On(t)),e&&n&&n.vmCount++,n}function T(n,t,i,e,r){var o=new xn,s=Object.getOwnPropertyDescriptor(n,t);if(!s||!1!==s.configurable){var a=s&&s.get,l=s&&s.set,c=!r&&x(i);Object.defineProperty(n,t,{enumerable:!0,configurable:!0,get:function(){var t=a?a.call(n):i;return xn.target&&(o.depend(),c&&(c.dep.depend(),Array.isArray(t)&&function t(e){for(var n=void 0,i=0,r=e.length;i<r;i++)n=e[i],n&&n.__ob__&&n.__ob__.dep.depend(),Array.isArray(n)&&t(n)}(t))),t},set:function(t){var e=a?a.call(n):i;t===e||t!=t&&e!=e||(l?l.call(n,t):i=t,c=!r&&x(t),o.notify())}})}}function b(t,e,n){if(Array.isArray(t)&&r(e))return t.length=Math.max(t.length,e),t.splice(e,1,n),n;if(e in t&&!(e in Object.prototype))return t[e]=n;var i=t.__ob__;return t._isVue||i&&i.vmCount||(i?(T(i.value,e,n),i.dep.notify()):t[e]=n),n}function S(t,e){if(Array.isArray(t)&&r(e))t.splice(e,1);else{var n=t.__ob__;t._isVue||n&&n.vmCount||h(t,e)&&(delete t[e],n&&n.dep.notify())}}function P(t,e){if(!e)return t;for(var n,i,r,o=Object.keys(e),s=0;s<o.length;s++)i=t[n=o[s]],r=e[n],h(t,n)?c(i)&&c(r)&&P(i,r):b(t,n,r);return t}function C(n,i,r){return r?function(){var t="function"==typeof i?i.call(r):i,e="function"==typeof n?n.call(r):n;return t?P(t,e):e}:i?n?function(){return P("function"==typeof i?i.call(this):i,"function"==typeof n?n.call(this):n)}:i:n}function E(t,e){return e?t?t.concat(e):Array.isArray(e)?e:[e]:t}function O(t,e,n,i){var r=Object.create(t||null);return e?f(r,e):r}function I(n,i,r){function t(t){var e=In[t]||Mn;l[t]=e(n[t],i[t],r,t)}"function"==typeof i&&(i=i.options),function(t){var e=t.props;if(e){var n,i,r={};if(Array.isArray(e))for(n=e.length;n--;)"string"==typeof(i=e[n])&&(r[Ve(i)]={type:null});else if(c(e))for(var o in e)i=e[o],r[Ve(o)]=c(i)?i:{type:i};t.props=r}}(i),function(t){var e=t.inject,n=t.inject={};if(Array.isArray(e))for(var i=0;i<e.length;i++)n[e[i]]={from:e[i]};else if(c(e))for(var r in e){var o=e[r];n[r]=c(o)?f({from:r},o):{from:o}}}(i),function(t){var e=t.directives;if(e)for(var n in e){var i=e[n];"function"==typeof i&&(e[n]={bind:i,update:i})}}(i);var e=i.extends;if(e&&(n=I(n,e,r)),i.mixins)for(var o=0,s=i.mixins.length;o<s;o++)n=I(n,i.mixins[o],r);var a,l={};for(a in n)t(a);for(a in i)h(n,a)||t(a);return l}function A(t,e,n){if("string"==typeof n){var i=t[e];if(h(i,n))return i[n];var r=Ve(n);if(h(i,r))return i[r];var o=Ue(r);return h(i,o)?i[o]:i[n]||i[r]||i[o]}}function $(t,e,n,i){var r=e[t],o=!h(n,t),s=n[t];if(N(Boolean,r.type)&&(o&&!h(r,"default")?s=!1:N(String,r.type)||""!==s&&s!==qe(t)||(s=!0)),void 0===s){s=function(t,e,n){if(h(e,"default")){var i=e.default;return t&&t.$options.propsData&&void 0===t.$options.propsData[n]&&void 0!==t._props[n]?t._props[n]:"function"==typeof i&&"Function"!==M(e.type)?i.call(t):i}}(i,r,t);var a=kn.shouldConvert;kn.shouldConvert=!0,x(s),kn.shouldConvert=a}return s}function M(t){var e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:""}function N(t,e){if(!Array.isArray(e))return M(e)===M(t);for(var n=0,i=e.length;n<i;n++)if(M(e[n])===M(t))return!0;return!1}function z(t,e,n){if(e)for(var i=e;i=i.$parent;){var r=i.$options.errorCaptured;if(r)for(var o=0;o<r.length;o++)try{if(!1===r[o].call(i,t,e,n))return}catch(t){j(t,i,"errorCaptured hook")}}j(t,e,n)}function j(t,e,n){if(Ye.errorHandler)try{return Ye.errorHandler.call(null,t,e,n)}catch(t){V(t,null,"config.errorHandler")}V(t,e,n)}function V(t){if(!tn&&!en||"undefined"==typeof console)throw t;console.error(t)}function U(){Ln=!1;for(var t=Dn.slice(0),e=Dn.length=0;e<t.length;e++)t[e]()}function W(t,e){var n;if(Dn.push(function(){if(t)try{t.call(e)}catch(t){z(t,e,"nextTick")}else n&&n(e)}),Ln||(Ln=!0,Bn?$n():An()),!t&&"undefined"!=typeof Promise)return new Promise(function(t){n=t})}function q(t){(function t(e,n){var i,r,o=Array.isArray(e);if((o||B(e))&&!Object.isFrozen(e)){if(e.__ob__){var s=e.__ob__.dep.id;if(n.has(s))return;n.add(s)}if(o)for(i=e.length;i--;)t(e[i],n);else for(r=Object.keys(e),i=r.length;i--;)t(e[r[i]],n)}})(t,jn),jn.clear()}function G(t){function r(){var t=arguments,e=r.fns;if(!Array.isArray(e))return e.apply(null,arguments);for(var n=e.slice(),i=0;i<n.length;i++)n[i].apply(null,t)}return r.fns=t,r}function Z(t,e,n,i){var r,o,s,a;for(r in t)o=t[r],s=e[r],a=Vn(r),D(o)||(D(s)?(D(o.fns)&&(o=t[r]=G(o)),n(a.name,o,a.once,a.capture,a.passive)):o!==s&&(s.fns=o,t[r]=s));for(r in e)D(t[r])&&i((a=Vn(r)).name,e[r],a.capture)}function X(t,e,n){function i(){n.apply(this,arguments),u(r.fns,i)}t instanceof bn&&(t=t.data.hook||(t.data.hook={}));var r,o=t[e];D(o)?r=G([i]):L(o.fns)&&R(o.merged)?(r=o).fns.push(i):r=G([o,i]),r.merged=!0,t[e]=r}function K(t,e,n,i,r){if(L(e)){if(h(e,n))return t[n]=e[n],r||delete e[n],!0;if(h(e,i))return t[n]=e[i],r||delete e[i],!0}return!1}function Y(t){return k(t)?[y(t)]:Array.isArray(t)?function t(e,n){var i,r,o,s,a=[];for(i=0;i<e.length;i++)r=e[i],D(r)||"boolean"==typeof r||(o=a.length-1,s=a[o],Array.isArray(r)?0<r.length&&(r=t(r,(n||"")+"_"+i),J(r[0])&&J(s)&&(a[o]=y(s.text+r[0].text),r.shift()),a.push.apply(a,r)):k(r)?J(s)?a[o]=y(s.text+r):""!==r&&a.push(y(r)):J(r)&&J(s)?a[o]=y(s.text+r.text):(R(e._isVList)&&L(r.tag)&&D(r.key)&&L(n)&&(r.key="__vlist"+n+"_"+i+"__"),a.push(r)));return a}(t):void 0}function J(t){return L(t)&&L(t.text)&&function(t){return!1===t}(t.isComment)}function Q(t,e){return(t.__esModule||mn&&"Module"===t[Symbol.toStringTag])&&(t=t.default),B(t)?e.extend(t):t}function tt(t){return t.isComment&&t.asyncFactory}function et(t){if(Array.isArray(t))for(var e=0;e<t.length;e++){var n=t[e];if(L(n)&&(L(n.componentOptions)||tt(n)))return n}}function nt(t,e,n){n?zn.$once(t,e):zn.$on(t,e)}function it(t,e){zn.$off(t,e)}function rt(t,e,n){zn=t,Z(e,n||{},nt,it),zn=void 0}function ot(t,e){var n={};if(!t)return n;for(var i=0,r=t.length;i<r;i++){var o=t[i],s=o.data;if(s&&s.attrs&&s.attrs.slot&&delete s.attrs.slot,o.context!==e&&o.functionalContext!==e||!s||null==s.slot)(n.default||(n.default=[])).push(o);else{var a=o.data.slot,l=n[a]||(n[a]=[]);"template"===o.tag?l.push.apply(l,o.children):l.push(o)}}for(var c in n)n[c].every(st)&&delete n[c];return n}function st(t){return t.isComment&&!t.asyncFactory||" "===t.text}function at(t,e){e=e||{};for(var n=0;n<t.length;n++)Array.isArray(t[n])?at(t[n],e):e[t[n].key]=t[n].fn;return e}function lt(t){for(;t=t&&t.$parent;)if(t._inactive)return!0;return!1}function ct(t,e){if(e){if(t._directInactive=!1,lt(t))return}else if(t._directInactive)return;if(t._inactive||null===t._inactive){t._inactive=!1;for(var n=0;n<t.$children.length;n++)ct(t.$children[n]);ut(t,"activated")}}function ut(t,e){var n=t.$options[e];if(n)for(var i=0,r=n.length;i<r;i++)try{n[i].call(t)}catch(n){z(n,t,e+" hook")}t._hasHookEvent&&t.$emit("hook:"+e)}function ht(){var t,e;for(Xn=!0,Wn.sort(function(t,e){return t.id-e.id}),Kn=0;Kn<Wn.length;Kn++)e=(t=Wn[Kn]).id,Gn[e]=null,t.run();var n=qn.slice(),i=Wn.slice();Kn=Wn.length=qn.length=0,Zn=Xn=!(Gn={}),function(t){for(var e=0;e<t.length;e++)t[e]._inactive=!0,ct(t[e],!0)}(n),function(t){for(var e=t.length;e--;){var n=t[e],i=n.vm;i._watcher===n&&i._isMounted&&ut(i,"updated")}}(i),gn&&Ye.devtools&&gn.emit("flush")}function dt(t,e,n){Qn.get=function(){return this[e][n]},Qn.set=function(t){this[e][n]=t},Object.defineProperty(t,n,Qn)}function ft(t){t._watchers=[];var e=t.$options;e.props&&function(n,i){var r=n.$options.propsData||{},o=n._props={},s=n.$options._propKeys=[],t=!n.$parent;for(var e in kn.shouldConvert=t,i)!function(t){s.push(t);var e=$(t,i,r,n);T(o,t,e),t in n||dt(n,"_props",t)}(e);kn.shouldConvert=!0}(t,e.props),e.methods&&function(t,e){for(var n in t.$options.props,e)t[n]=null==e[n]?d:o(e[n],t)}(t,e.methods),e.data?function(t){var e=t.$options.data;c(e=t._data="function"==typeof e?function(t,e){try{return t.call(e,e)}catch(t){return z(t,e,"data()"),{}}}(e,t):e||{})||(e={});for(var n=Object.keys(e),i=t.$options.props,r=(t.$options.methods,n.length);r--;){var o=n[r];i&&h(i,o)||(void 0,36===(s=(o+"").charCodeAt(0))||95===s)||dt(t,"_data",o)}var s;x(e,!0)}(t):x(t._data={},!0),e.computed&&function(t,e){var n=t._computedWatchers=Object.create(null),i=vn();for(var r in e){var o=e[r],s="function"==typeof o?o:o.get;i||(n[r]=new Jn(t,s||d,d,ti)),r in t||pt(t,r,o)}}(t,e.computed),e.watch&&e.watch!==un&&function(t,e){for(var n in e){var i=e[n];if(Array.isArray(i))for(var r=0;r<i.length;r++)gt(t,n,i[r]);else gt(t,n,i)}}(t,e.watch)}function pt(t,e,n){var i=!vn();"function"==typeof n?(Qn.get=i?vt(e):n,Qn.set=d):(Qn.get=n.get?i&&!1!==n.cache?vt(e):n.get:d,Qn.set=n.set?n.set:d),Object.defineProperty(t,e,Qn)}function vt(e){return function(){var t=this._computedWatchers&&this._computedWatchers[e];if(t)return t.dirty&&t.evaluate(),xn.target&&t.depend(),t.value}}function gt(t,e,n,i){return c(n)&&(n=(i=n).handler),"string"==typeof n&&(n=t[n]),t.$watch(e,n,i)}function mt(e,t){if(e){for(var n=Object.create(null),i=mn?Reflect.ownKeys(e).filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}):Object.keys(e),r=0;r<i.length;r++){for(var o=i[r],s=e[o].from,a=t;a;){if(a._provided&&s in a._provided){n[o]=a._provided[s];break}a=a.$parent}if(!a&&"default"in e[o]){var l=e[o].default;n[o]="function"==typeof l?l.call(t):l}}return n}}function yt(t,e){var n,i,r,o,s;if(Array.isArray(t)||"string"==typeof t)for(n=new Array(t.length),i=0,r=t.length;i<r;i++)n[i]=e(t[i],i);else if("number"==typeof t)for(n=new Array(t),i=0;i<t;i++)n[i]=e(i+1,i);else if(B(t))for(o=Object.keys(t),n=new Array(o.length),i=0,r=o.length;i<r;i++)s=o[i],n[i]=e(t[s],s,i);return L(n)&&(n._isVList=!0),n}function wt(t,e,n,i){var r,o=this.$scopedSlots[t];if(o)n=n||{},i&&(n=f(f({},i),n)),r=o(n)||e;else{var s=this.$slots[t];s&&(s._rendered=!0),r=s||e}var a=n&&n.slot;return a?this.$createElement("template",{slot:a},r):r}function _t(t){return A(this.$options,"filters",t)||Ge}function xt(t,e,n,i){var r=Ye.keyCodes[e]||n;return r?Array.isArray(r)?-1===r.indexOf(t):r!==t:i?qe(i)!==e:void 0}function Tt(n,i,r,o,s){var a;if(r&&B(r))for(var t in Array.isArray(r)&&(r=l(r)),r)!function(e){if("class"===e||"style"===e||Ne(e))a=n;else{var t=n.attrs&&n.attrs.type;a=o||Ye.mustUseProp(i,t,e)?n.domProps||(n.domProps={}):n.attrs||(n.attrs={})}e in a||(a[e]=r[e],!s)||((n.on||(n.on={}))["update:"+e]=function(t){r[e]=t})}(t);return n}function bt(t,e,n){var i=arguments.length<3,r=this.$options.staticRenderFns,o=i||n?this._staticTrees||(this._staticTrees=[]):r.cached||(r.cached=[]),s=o[t];return s&&!e?Array.isArray(s)?_(s):w(s):(Pt(s=o[t]=r[t].call(this._renderProxy,null,this),"__static__"+t,!1),s)}function St(t,e,n){return Pt(t,"__once__"+e+(n?"_"+n:""),!0),t}function Pt(t,e,n){if(Array.isArray(t))for(var i=0;i<t.length;i++)t[i]&&"string"!=typeof t[i]&&Ct(t[i],e+"_"+i,n);else Ct(t,e,n)}function Ct(t,e,n){t.isStatic=!0,t.key=e,t.isOnce=n}function Et(t,e){if(e&&c(e)){var n=t.on=t.on?f({},t.on):{};for(var i in e){var r=n[i],o=e[i];n[i]=r?[].concat(r,o):o}}return t}function Rt(t){t._o=St,t._n=F,t._s=n,t._l=yt,t._t=wt,t._q=p,t._i=v,t._m=bt,t._f=_t,t._k=xt,t._b=Tt,t._v=y,t._e=Pn,t._u=at,t._g=Et}function kt(t,e,n,o,i){var s=i.options;this.data=t,this.props=e,this.children=n,this.parent=o,this.listeners=t.on||Fe,this.injections=mt(s.inject,o),this.slots=function(){return ot(n,o)};var a=Object.create(o),r=R(s._compiled),l=!r;r&&(this.$options=s,this.$slots=this.slots(),this.$scopedSlots=t.scopedSlots||Fe),s._scopeId?this._c=function(t,e,n,i){var r=$t(a,t,e,n,i,l);return r&&(r.functionalScopeId=s._scopeId,r.functionalContext=o),r}:this._c=function(t,e,n,i){return $t(a,t,e,n,i,l)}}function Ot(t,e){for(var n in e)t[Ve(n)]=e[n]}function It(t,e,n,i,r){if(!D(t)){var o=n.$options._base;if(B(t)&&(t=o.extend(t)),"function"==typeof t){var s;if(D(t.cid)&&void 0===(t=function(e,n,t){if(R(e.error)&&L(e.errorComp))return e.errorComp;if(L(e.resolved))return e.resolved;if(R(e.loading)&&L(e.loadingComp))return e.loadingComp;if(!L(e.contexts)){var i=e.contexts=[t],r=!0,o=function(){for(var t=0,e=i.length;t<e;t++)i[t].$forceUpdate()},s=H(function(t){e.resolved=Q(t,n),r||o()}),a=H(function(t){L(e.errorComp)&&(e.error=!0,o())}),l=e(s,a);return B(l)&&("function"==typeof l.then?D(e.resolved)&&l.then(s,a):L(l.component)&&"function"==typeof l.component.then&&(l.component.then(s,a),L(l.error)&&(e.errorComp=Q(l.error,n)),L(l.loading)&&(e.loadingComp=Q(l.loading,n),0===l.delay?e.loading=!0:setTimeout(function(){D(e.resolved)&&D(e.error)&&(e.loading=!0,o())},l.delay||200)),L(l.timeout)&&setTimeout(function(){D(e.resolved)&&a(null)},l.timeout))),r=!1,e.loading?e.loadingComp:e.resolved}e.contexts.push(t)}(s=t,o,n)))return function(t,e,n,i,r){var o=Pn();return o.asyncFactory=t,o.asyncMeta={data:e,context:n,children:i,tag:r},o}(s,e,n,i,r);e=e||{},Mt(t),L(e.model)&&function(t,e){var n=t.model&&t.model.prop||"value",i=t.model&&t.model.event||"input";(e.props||(e.props={}))[n]=e.model.value;var r=e.on||(e.on={});L(r[i])?r[i]=[e.model.callback].concat(r[i]):r[i]=e.model.callback}(t.options,e);var a=function(t,e){var n=e.options.props;if(!D(n)){var i={},r=t.attrs,o=t.props;if(L(r)||L(o))for(var s in n){var a=qe(s);K(i,o,s,a,!0)||K(i,r,s,a,!1)}return i}}(e,t);if(R(t.options.functional))return function(t,e,n,i,r){var o=t.options,s={},a=o.props;if(L(a))for(var l in a)s[l]=$(l,a,e||Fe);else L(n.attrs)&&Ot(s,n.attrs),L(n.props)&&Ot(s,n.props);var c=new kt(n,s,r,i,t),u=o.render.call(null,c._c,c);return u instanceof bn&&(u.functionalContext=i,u.functionalOptions=o,n.slot&&((u.data||(u.data={})).slot=n.slot)),u}(t,a,e,n,i);var l=e.on;if(e.on=e.nativeOn,R(t.options.abstract)){var c=e.slot;e={},c&&(e.slot=c)}!function(t){t.hook||(t.hook={});for(var e=0;e<ci.length;e++){var n=ci[e],i=t.hook[n],r=li[n];t.hook[n]=i?At(r,i):r}}(e);var u=t.options.name||r;return new bn("vue-component-"+t.cid+(u?"-"+u:""),e,void 0,void 0,void 0,n,{Ctor:t,propsData:a,listeners:l,tag:r,children:i},s)}}}function At(r,o){return function(t,e,n,i){r(t,e,n,i),o(t,e,n,i)}}function $t(t,e,n,i,r,o){return(Array.isArray(n)||k(n))&&(r=i,i=n,n=void 0),R(o)&&(r=hi),function(t,e,n,i,r){if(L(n)&&L(n.__ob__))return Pn();if(L(n)&&L(n.is)&&(e=n.is),!e)return Pn();var o,s,a;Array.isArray(i)&&"function"==typeof i[0]&&((n=n||{}).scopedSlots={default:i[0]},i.length=0),r===hi?i=Y(i):r===ui&&(i=function(t){for(var e=0;e<t.length;e++)if(Array.isArray(t[e]))return Array.prototype.concat.apply([],t);return t}(i)),o="string"==typeof e?(s=t.$vnode&&t.$vnode.ns||Ye.getTagNamespace(e),Ye.isReservedTag(e)?new bn(Ye.parsePlatformTagName(e),n,i,void 0,void 0,t):L(a=A(t.$options,"components",e))?It(a,n,t,i,e):new bn(e,n,i,void 0,void 0,t)):It(e,n,t,i);return L(o)?(s&&function t(e,n,i){if(e.ns=n,"foreignObject"===e.tag&&(n=void 0,i=!0),L(e.children))for(var r=0,o=e.children.length;r<o;r++){var s=e.children[r];L(s.tag)&&(D(s.ns)||R(i))&&t(s,n,i)}}(o,s),o):Pn()}(t,e,n,i,r)}function Mt(t){var e=t.options;if(t.super){var n=Mt(t.super);if(n!==t.superOptions){t.superOptions=n;var i=function(t){var e,n=t.options,i=t.extendOptions,r=t.sealedOptions;for(var o in n)n[o]!==r[o]&&(e=e||{},e[o]=Dt(n[o],i[o],r[o]));return e}(t);i&&f(t.extendOptions,i),(e=t.options=I(n,t.extendOptions)).name&&(e.components[e.name]=t)}}return e}function Dt(t,e,n){if(Array.isArray(t)){var i=[];n=Array.isArray(n)?n:[n],e=Array.isArray(e)?e:[e];for(var r=0;r<t.length;r++)(0<=e.indexOf(t[r])||n.indexOf(t[r])<0)&&i.push(t[r]);return i}return t}function Lt(t){this._init(t)}function Bt(t){t.cid=0;var s=1;t.extend=function(t){t=t||{};var e=this,n=e.cid,i=t._Ctor||(t._Ctor={});if(i[n])return i[n];function r(t){this._init(t)}var o=t.name||e.options.name;return((r.prototype=Object.create(e.prototype)).constructor=r).cid=s++,r.options=I(e.options,t),r.super=e,r.options.props&&function(t){var e=t.options.props;for(var n in e)dt(t.prototype,"_props",n)}(r),r.options.computed&&function(t){var e=t.options.computed;for(var n in e)pt(t.prototype,n,e[n])}(r),r.extend=e.extend,r.mixin=e.mixin,r.use=e.use,Xe.forEach(function(t){r[t]=e[t]}),o&&(r.options.components[o]=r),r.superOptions=e.options,r.extendOptions=t,r.sealedOptions=f({},r.options),i[n]=r}}function Ft(t){return t&&(t.Ctor.options.name||t.tag)}function Ht(t,e){return Array.isArray(t)?-1<t.indexOf(e):"string"==typeof t?-1<t.split(",").indexOf(e):!!function(t){return"[object RegExp]"===He.call(t)}(t)&&t.test(e)}function Nt(t,e){var n=t.cache,i=t.keys,r=t._vnode;for(var o in n){var s=n[o];if(s){var a=Ft(s.componentOptions);a&&!e(a)&&zt(n,o,i,r)}}}function zt(t,e,n,i){var r=t[e];r&&r!==i&&r.componentInstance.$destroy(),t[e]=null,u(n,e)}function jt(t){for(var e=t.data,n=t,i=t;L(i.componentInstance);)(i=i.componentInstance._vnode).data&&(e=Vt(i.data,e));for(;L(n=n.parent);)n.data&&(e=Vt(e,n.data));return function(t,e){return L(t)||L(e)?Ut(t,Wt(e)):""}(e.staticClass,e.class)}function Vt(t,e){return{staticClass:Ut(t.staticClass,e.staticClass),class:L(t.class)?[t.class,e.class]:e.class}}function Ut(t,e){return t?e?t+" "+e:t:e||""}function Wt(t){return Array.isArray(t)?function(t){for(var e,n="",i=0,r=t.length;i<r;i++)L(e=Wt(t[i]))&&""!==e&&(n&&(n+=" "),n+=e);return n}(t):B(t)?function(t){var e="";for(var n in t)t[n]&&(e&&(e+=" "),e+=n);return e}(t):"string"==typeof t?t:""}function qt(t,e){var n=t.data.ref;if(n){var i=t.context,r=t.componentInstance||t.elm,o=i.$refs;e?Array.isArray(o[n])?u(o[n],r):o[n]===r&&(o[n]=void 0):t.data.refInFor?Array.isArray(o[n])?o[n].indexOf(r)<0&&o[n].push(r):o[n]=[r]:o[n]=r}}function Gt(t,e){return t.key===e.key&&(t.tag===e.tag&&t.isComment===e.isComment&&L(t.data)===L(e.data)&&function(t,e){if("input"!==t.tag)return!0;var n,i=L(n=t.data)&&L(n=n.attrs)&&n.type,r=L(n=e.data)&&L(n=n.attrs)&&n.type;return i===r||Mi(i)&&Mi(r)}(t,e)||R(t.isAsyncPlaceholder)&&t.asyncFactory===e.asyncFactory&&D(e.asyncFactory.error))}function Zt(t,e,n){var i,r,o={};for(i=e;i<=n;++i)L(r=t[i].key)&&(o[r]=i);return o}function Xt(t,e){(t.data.directives||e.data.directives)&&function(e,n){var t,i,r,o=e===Bi,s=n===Bi,a=Kt(e.data.directives,e.context),l=Kt(n.data.directives,n.context),c=[],u=[];for(t in l)i=a[t],r=l[t],i?(r.oldValue=i.value,Yt(r,"update",n,e),r.def&&r.def.componentUpdated&&u.push(r)):(Yt(r,"bind",n,e),r.def&&r.def.inserted&&c.push(r));if(c.length){var h=function(){for(var t=0;t<c.length;t++)Yt(c[t],"inserted",n,e)};o?X(n,"insert",h):h()}if(u.length&&X(n,"postpatch",function(){for(var t=0;t<u.length;t++)Yt(u[t],"componentUpdated",n,e)}),!o)for(t in a)l[t]||Yt(a[t],"unbind",e,e,s)}(t,e)}function Kt(t,e){var n,i,r,o=Object.create(null);if(!t)return o;for(n=0;n<t.length;n++)(i=t[n]).modifiers||(i.modifiers=Ni),(o[(r=i).rawName||r.name+"."+Object.keys(r.modifiers||{}).join(".")]=i).def=A(e.$options,"directives",i.name);return o}function Yt(t,e,n,i,r){var o=t.def&&t.def[e];if(o)try{o(n.elm,t,n,i,r)}catch(i){z(i,n.context,"directive "+t.name+" "+e+" hook")}}function Jt(t,e){var n=e.componentOptions;if(!(L(n)&&!1===n.Ctor.options.inheritAttrs||D(t.data.attrs)&&D(e.data.attrs))){var i,r,o=e.elm,s=t.data.attrs||{},a=e.data.attrs||{};for(i in L(a.__ob__)&&(a=e.data.attrs=f({},a)),a)r=a[i],s[i]!==r&&Qt(o,i,r);for(i in(sn||an)&&a.value!==s.value&&Qt(o,"value",a.value),s)D(a[i])&&(Ei(i)?o.removeAttributeNS(Ci,Ri(i)):Si(i)||o.removeAttribute(i))}}function Qt(t,e,n){Pi(e)?ki(n)?t.removeAttribute(e):(n="allowfullscreen"===e&&"EMBED"===t.tagName?"true":e,t.setAttribute(e,n)):Si(e)?t.setAttribute(e,ki(n)||"false"===n?"false":"true"):Ei(e)?ki(n)?t.removeAttributeNS(Ci,Ri(e)):t.setAttributeNS(Ci,e,n):ki(n)?t.removeAttribute(e):t.setAttribute(e,n)}function te(t,e){var n=e.elm,i=e.data,r=t.data;if(!(D(i.staticClass)&&D(i.class)&&(D(r)||D(r.staticClass)&&D(r.class)))){var o=jt(e),s=n._transitionClasses;L(s)&&(o=Ut(o,Wt(s))),o!==n._prevClass&&(n.setAttribute("class",o),n._prevClass=o)}}function ee(t,e,n,i,r){e=function(e){return e._withTask||(e._withTask=function(){Bn=!0;var t=e.apply(null,arguments);return Bn=!1,t})}(e),n&&(e=function(e,n,i){var r=_i;return function t(){null!==e.apply(null,arguments)&&ne(n,t,i,r)}}(e,t,i)),_i.addEventListener(t,e,hn?{capture:i,passive:r}:i)}function ne(t,e,n,i){(i||_i).removeEventListener(t,e._withTask||e,n)}function ie(t,e){if(!D(t.data.on)||!D(e.data.on)){var n=e.data.on||{},i=t.data.on||{};_i=e.elm,function(t){if(L(t[Ui])){var e=on?"change":"input";t[e]=[].concat(t[Ui],t[e]||[]),delete t[Ui]}L(t[Wi])&&(t.change=[].concat(t[Wi],t.change||[]),delete t[Wi])}(n),Z(n,i,ee,ne,e.context),_i=void 0}}function re(t,e){if(!D(t.data.domProps)||!D(e.data.domProps)){var n,i,r=e.elm,o=t.data.domProps||{},s=e.data.domProps||{};for(n in L(s.__ob__)&&(s=e.data.domProps=f({},s)),o)D(s[n])&&(r[n]="");for(n in s){if(i=s[n],"textContent"===n||"innerHTML"===n){if(e.children&&(e.children.length=0),i===o[n])continue;1===r.childNodes.length&&r.removeChild(r.childNodes[0])}if("value"===n){var a=D(r._value=i)?"":String(i);c=a,(l=r).composing||"OPTION"!==l.tagName&&!function(t,e){var n=!0;try{n=document.activeElement!==t}catch(t){}return n&&t.value!==e}(l,c)&&!function(t,e){var n=t.value,i=t._vModifiers;return L(i)&&i.number?F(n)!==F(e):L(i)&&i.trim?n.trim()!==e.trim():n!==e}(l,c)||(r.value=a)}else r[n]=i}}var l,c}function oe(t){var e=se(t.style);return t.staticStyle?f(t.staticStyle,e):e}function se(t){return Array.isArray(t)?l(t):"string"==typeof t?Zi(t):t}function ae(t,e){var n=e.data,i=t.data;if(!(D(n.staticStyle)&&D(n.style)&&D(i.staticStyle)&&D(i.style))){var r,o,s=e.elm,a=i.staticStyle,l=i.normalizedStyle||i.style||{},c=a||l,u=se(e.data.style)||{};e.data.normalizedStyle=L(u.__ob__)?f({},u):u;var h=function(t,e){var n,i={};if(e)for(var r=t;r.componentInstance;)(r=r.componentInstance._vnode).data&&(n=oe(r.data))&&f(i,n);(n=oe(t.data))&&f(i,n);for(var o=t;o=o.parent;)o.data&&(n=oe(o.data))&&f(i,n);return i}(e,!0);for(o in c)D(h[o])&&wi(s,o,"");for(o in h)(r=h[o])!==c[o]&&wi(s,o,null==r?"":r)}}function le(e,t){if(t=t&&t.trim())if(e.classList)-1<t.indexOf(" ")?t.split(/\s+/).forEach(function(t){return e.classList.add(t)}):e.classList.add(t);else{var n=" "+(e.getAttribute("class")||"")+" ";n.indexOf(" "+t+" ")<0&&e.setAttribute("class",(n+t).trim())}}function ce(e,t){if(t=t&&t.trim())if(e.classList)-1<t.indexOf(" ")?t.split(/\s+/).forEach(function(t){return e.classList.remove(t)}):e.classList.remove(t),e.classList.length||e.removeAttribute("class");else{for(var n=" "+(e.getAttribute("class")||"")+" ",i=" "+t+" ";0<=n.indexOf(i);)n=n.replace(i," ");(n=n.trim())?e.setAttribute("class",n):e.removeAttribute("class")}}function ue(t){if(t){if("object"!=typeof t)return"string"==typeof t?tr(t):void 0;var e={};return!1!==t.css&&f(e,tr(t.name||"v")),f(e,t),e}}function he(t){lr(function(){lr(t)})}function de(t,e){var n=t._transitionClasses||(t._transitionClasses=[]);n.indexOf(e)<0&&(n.push(e),le(t,e))}function fe(t,e){t._transitionClasses&&u(t._transitionClasses,e),ce(t,e)}function pe(e,t,n){var i=ve(e,t),r=i.type,o=i.timeout,s=i.propCount;if(!r)return n();function a(){e.removeEventListener(l,u),n()}var l=r===nr?or:ar,c=0,u=function(t){t.target===e&&++c>=s&&a()};setTimeout(function(){c<s&&a()},o+1),e.addEventListener(l,u)}function ve(t,e){var n,i=window.getComputedStyle(t),r=i[rr+"Delay"].split(", "),o=i[rr+"Duration"].split(", "),s=ge(r,o),a=i[sr+"Delay"].split(", "),l=i[sr+"Duration"].split(", "),c=ge(a,l),u=0,h=0;return e===nr?0<s&&(n=nr,u=s,h=o.length):e===ir?0<c&&(n=ir,u=c,h=l.length):h=(n=0<(u=Math.max(s,c))?c<s?nr:ir:null)?n===nr?o.length:l.length:0,{type:n,timeout:u,propCount:h,hasTransform:n===nr&&cr.test(i[rr+"Property"])}}function ge(n,t){for(;n.length<t.length;)n=n.concat(n);return Math.max.apply(null,t.map(function(t,e){return me(t)+me(n[e])}))}function me(t){return 1e3*Number(t.slice(0,-1))}function ye(n,t){var i=n.elm;L(i._leaveCb)&&(i._leaveCb.cancelled=!0,i._leaveCb());var e=ue(n.data.transition);if(!D(e)&&!L(i._enterCb)&&1===i.nodeType){for(var r=e.css,o=e.type,s=e.enterClass,a=e.enterToClass,l=e.enterActiveClass,c=e.appearClass,u=e.appearToClass,h=e.appearActiveClass,d=e.beforeEnter,f=e.enter,p=e.afterEnter,v=e.enterCancelled,g=e.beforeAppear,m=e.appear,y=e.afterAppear,w=e.appearCancelled,_=e.duration,x=Un,T=Un.$vnode;T&&T.parent;)x=(T=T.parent).context;var b=!x._isMounted||!n.isRootInsert;if(!b||m||""===m){var S=b&&c?c:s,P=b&&h?h:l,C=b&&u?u:a,E=b&&g||d,R=b&&"function"==typeof m?m:f,k=b&&y||p,O=b&&w||v,I=F(B(_)?_.enter:_),A=!1!==r&&!sn,$=xe(R),M=i._enterCb=H(function(){A&&(fe(i,C),fe(i,P)),M.cancelled?(A&&fe(i,S),O&&O(i)):k&&k(i),i._enterCb=null});n.data.show||X(n,"insert",function(){var t=i.parentNode,e=t&&t._pending&&t._pending[n.key];e&&e.tag===n.tag&&e.elm._leaveCb&&e.elm._leaveCb(),R&&R(i,M)}),E&&E(i),A&&(de(i,S),de(i,P),he(function(){de(i,C),fe(i,S),M.cancelled||$||(_e(I)?setTimeout(M,I):pe(i,o,M))})),n.data.show&&(t&&t(),R&&R(i,M)),A||$||M()}}}function we(t,e){function n(){w.cancelled||(t.data.show||((i.parentNode._pending||(i.parentNode._pending={}))[t.key]=t),u&&u(i),g&&(de(i,a),de(i,c),he(function(){de(i,l),fe(i,a),w.cancelled||m||(_e(y)?setTimeout(w,y):pe(i,s,w))})),h&&h(i,w),g||m||w())}var i=t.elm;L(i._enterCb)&&(i._enterCb.cancelled=!0,i._enterCb());var r=ue(t.data.transition);if(D(r)||1!==i.nodeType)return e();if(!L(i._leaveCb)){var o=r.css,s=r.type,a=r.leaveClass,l=r.leaveToClass,c=r.leaveActiveClass,u=r.beforeLeave,h=r.leave,d=r.afterLeave,f=r.leaveCancelled,p=r.delayLeave,v=r.duration,g=!1!==o&&!sn,m=xe(h),y=F(B(v)?v.leave:v),w=i._leaveCb=H(function(){i.parentNode&&i.parentNode._pending&&(i.parentNode._pending[t.key]=null),g&&(fe(i,l),fe(i,c)),w.cancelled?(g&&fe(i,a),f&&f(i)):(e(),d&&d(i)),i._leaveCb=null});p?p(n):n()}}function _e(t){return"number"==typeof t&&!isNaN(t)}function xe(t){if(D(t))return!1;var e=t.fns;return L(e)?xe(Array.isArray(e)?e[0]:e):1<(t._length||t.length)}function Te(t,e){!0!==e.data.show&&ye(e)}function be(t,e,n){Se(t,e,n),(on||an)&&setTimeout(function(){Se(t,e,n)},0)}function Se(t,e){var n=e.value,i=t.multiple;if(!i||Array.isArray(n)){for(var r,o,s=0,a=t.options.length;s<a;s++)if(o=t.options[s],i)r=-1<v(n,Ce(o)),o.selected!==r&&(o.selected=r);else if(p(Ce(o),n))return void(t.selectedIndex!==s&&(t.selectedIndex=s));i||(t.selectedIndex=-1)}}function Pe(e,t){return t.every(function(t){return!p(t,e)})}function Ce(t){return"_value"in t?t._value:t.value}function Ee(t){t.target.composing=!0}function Re(t){t.target.composing&&(t.target.composing=!1,ke(t.target,"input"))}function ke(t,e){var n=document.createEvent("HTMLEvents");n.initEvent(e,!0,!0),t.dispatchEvent(n)}function Oe(t){return!t.componentInstance||t.data&&t.data.transition?t:Oe(t.componentInstance._vnode)}function Ie(t){var e=t&&t.componentOptions;return e&&e.Ctor.options.abstract?Ie(et(e.children)):t}function Ae(t){var e={},n=t.$options;for(var i in n.propsData)e[i]=t[i];var r=n._parentListeners;for(var o in r)e[Ve(o)]=r[o];return e}function $e(t,e){if(/\d-keep-alive$/.test(e.tag))return t("keep-alive",{props:e.componentOptions.propsData})}function Me(t){t.elm._moveCb&&t.elm._moveCb(),t.elm._enterCb&&t.elm._enterCb()}function De(t){t.data.newPos=t.elm.getBoundingClientRect()}function Le(t){var e=t.data.pos,n=t.data.newPos,i=e.left-n.left,r=e.top-n.top;if(i||r){t.data.moved=!0;var o=t.elm.style;o.transform=o.WebkitTransform="translate("+i+"px,"+r+"px)",o.transitionDuration="0s"}}function Be(t,e,n){return!1}var Fe=Object.freeze({}),He=Object.prototype.toString,Ne=(a("slot,component",!0),a("key,ref,slot,slot-scope,is")),ze=Object.prototype.hasOwnProperty,je=/-(\w)/g,Ve=i(function(t){return t.replace(je,function(t,e){return e?e.toUpperCase():""})}),Ue=i(function(t){return t.charAt(0).toUpperCase()+t.slice(1)}),We=/\B([A-Z])/g,qe=i(function(t){return t.replace(We,"-$1").toLowerCase()}),Ge=function(t){return t},Ze="data-server-rendered",Xe=["component","directive","filter"],Ke=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured"],Ye={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:Be,isReservedAttr:Be,isUnknownElement:Be,getTagNamespace:d,parsePlatformTagName:Ge,mustUseProp:Be,_lifecycleHooks:Ke},Je=/[^\w.$]/,Qe="__proto__"in{},tn="undefined"!=typeof window,en="undefined"!=typeof WXEnvironment&&!!WXEnvironment.platform,nn=en&&WXEnvironment.platform.toLowerCase(),rn=tn&&window.navigator.userAgent.toLowerCase(),on=rn&&/msie|trident/.test(rn),sn=rn&&0<rn.indexOf("msie 9.0"),an=rn&&0<rn.indexOf("edge/"),ln=rn&&0<rn.indexOf("android")||"android"===nn,cn=rn&&/iphone|ipad|ipod|ios/.test(rn)||"ios"===nn,un=(rn&&/chrome\/\d+/.test(rn),{}.watch),hn=!1;if(tn)try{var dn={};Object.defineProperty(dn,"passive",{get:function(){hn=!0}}),window.addEventListener("test-passive",null,dn)}catch(t){}var fn,pn,vn=function(){return void 0===fn&&(fn=!tn&&void 0!==t&&"server"===t.process.env.VUE_ENV),fn},gn=tn&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__,mn="undefined"!=typeof Symbol&&m(Symbol)&&"undefined"!=typeof Reflect&&m(Reflect.ownKeys);function yn(){this.set=Object.create(null)}pn="undefined"!=typeof Set&&m(Set)?Set:(yn.prototype.has=function(t){return!0===this.set[t]},yn.prototype.add=function(t){this.set[t]=!0},yn.prototype.clear=function(){this.set=Object.create(null)},yn);var wn=d,_n=0,xn=function(){this.id=_n++,this.subs=[]};xn.prototype.addSub=function(t){this.subs.push(t)},xn.prototype.removeSub=function(t){u(this.subs,t)},xn.prototype.depend=function(){xn.target&&xn.target.addDep(this)},xn.prototype.notify=function(){for(var t=this.subs.slice(),e=0,n=t.length;e<n;e++)t[e].update()},xn.target=null;var Tn=[],bn=function(t,e,n,i,r,o,s,a){this.tag=t,this.data=e,this.children=n,this.text=i,this.elm=r,this.ns=void 0,this.context=o,this.functionalContext=void 0,this.functionalOptions=void 0,this.functionalScopeId=void 0,this.key=e&&e.key,this.componentOptions=s,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=a,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},Sn={child:{configurable:!0}};Sn.child.get=function(){return this.componentInstance},Object.defineProperties(bn.prototype,Sn);var Pn=function(t){void 0===t&&(t="");var e=new bn;return e.text=t,e.isComment=!0,e},Cn=Array.prototype,En=Object.create(Cn);["push","pop","shift","unshift","splice","sort","reverse"].forEach(function(o){var s=Cn[o];g(En,o,function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n,i=s.apply(this,t),r=this.__ob__;switch(o){case"push":case"unshift":n=t;break;case"splice":n=t.slice(2)}return n&&r.observeArray(n),r.dep.notify(),i})});var Rn=Object.getOwnPropertyNames(En),kn={shouldConvert:!0},On=function(t){this.value=t,this.dep=new xn,this.vmCount=0,g(t,"__ob__",this),Array.isArray(t)?((Qe?function(t,e,n){t.__proto__=e}:function(t,e,n){for(var i=0,r=n.length;i<r;i++){var o=n[i];g(t,o,e[o])}})(t,En,Rn),this.observeArray(t)):this.walk(t)};On.prototype.walk=function(t){for(var e=Object.keys(t),n=0;n<e.length;n++)T(t,e[n],t[e[n]])},On.prototype.observeArray=function(t){for(var e=0,n=t.length;e<n;e++)x(t[e])};var In=Ye.optionMergeStrategies;In.data=function(t,e,n){return n?C(t,e,n):e&&"function"!=typeof e?t:C(t,e)},Ke.forEach(function(t){In[t]=E}),Xe.forEach(function(t){In[t+"s"]=O}),In.watch=function(t,e,n,i){if(t===un&&(t=void 0),e===un&&(e=void 0),!e)return Object.create(t||null);if(!t)return e;var r={};for(var o in f(r,t),e){var s=r[o],a=e[o];s&&!Array.isArray(s)&&(s=[s]),r[o]=s?s.concat(a):Array.isArray(a)?a:[a]}return r},In.props=In.methods=In.inject=In.computed=function(t,e,n,i){if(!t)return e;var r=Object.create(null);return f(r,t),e&&f(r,e),r},In.provide=C;var An,$n,Mn=function(t,e){return void 0===e?t:e},Dn=[],Ln=!1,Bn=!1;if(void 0!==e&&m(e))$n=function(){e(U)};else if("undefined"==typeof MessageChannel||!m(MessageChannel)&&"[object MessageChannelConstructor]"!==MessageChannel.toString())$n=function(){setTimeout(U,0)};else{var Fn=new MessageChannel,Hn=Fn.port2;Fn.port1.onmessage=U,$n=function(){Hn.postMessage(1)}}if("undefined"!=typeof Promise&&m(Promise)){var Nn=Promise.resolve();An=function(){Nn.then(U),cn&&setTimeout(d)}}else An=$n;var zn,jn=new pn,Vn=i(function(t){var e="&"===t.charAt(0),n="~"===(t=e?t.slice(1):t).charAt(0),i="!"===(t=n?t.slice(1):t).charAt(0);return{name:t=i?t.slice(1):t,once:n,capture:i,passive:e}}),Un=null,Wn=[],qn=[],Gn={},Zn=!1,Xn=!1,Kn=0,Yn=0,Jn=function(t,e,n,i){(this.vm=t)._watchers.push(this),i?(this.deep=!!i.deep,this.user=!!i.user,this.lazy=!!i.lazy,this.sync=!!i.sync):this.deep=this.user=this.lazy=this.sync=!1,this.cb=n,this.id=++Yn,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new pn,this.newDepIds=new pn,this.expression="","function"==typeof e?this.getter=e:(this.getter=function(t){if(!Je.test(t)){var n=t.split(".");return function(t){for(var e=0;e<n.length;e++){if(!t)return;t=t[n[e]]}return t}}}(e),this.getter||(this.getter=function(){})),this.value=this.lazy?void 0:this.get()};Jn.prototype.get=function(){!function(t){xn.target&&Tn.push(xn.target),xn.target=t}(this);var t,e=this.vm;try{t=this.getter.call(e,e)}catch(t){if(!this.user)throw t;z(t,e,'getter for watcher "'+this.expression+'"')}finally{this.deep&&q(t),xn.target=Tn.pop(),this.cleanupDeps()}return t},Jn.prototype.addDep=function(t){var e=t.id;this.newDepIds.has(e)||(this.newDepIds.add(e),this.newDeps.push(t),this.depIds.has(e)||t.addSub(this))},Jn.prototype.cleanupDeps=function(){for(var t=this.deps.length;t--;){var e=this.deps[t];this.newDepIds.has(e.id)||e.removeSub(this)}var n=this.depIds;this.depIds=this.newDepIds,this.newDepIds=n,this.newDepIds.clear(),n=this.deps,this.deps=this.newDeps,this.newDeps=n,this.newDeps.length=0},Jn.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():function(t){var e=t.id;if(null==Gn[e]){if(Gn[e]=!0,Xn){for(var n=Wn.length-1;Kn<n&&Wn[n].id>t.id;)n--;Wn.splice(n+1,0,t)}else Wn.push(t);Zn||(Zn=!0,W(ht))}}(this)},Jn.prototype.run=function(){if(this.active){var t=this.get();if(t!==this.value||B(t)||this.deep){var e=this.value;if(this.value=t,this.user)try{this.cb.call(this.vm,t,e)}catch(t){z(t,this.vm,'callback for watcher "'+this.expression+'"')}else this.cb.call(this.vm,t,e)}}},Jn.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},Jn.prototype.depend=function(){for(var t=this.deps.length;t--;)this.deps[t].depend()},Jn.prototype.teardown=function(){if(this.active){this.vm._isBeingDestroyed||u(this.vm._watchers,this);for(var t=this.deps.length;t--;)this.deps[t].removeSub(this);this.active=!1}};var Qn={enumerable:!0,configurable:!0,get:d,set:d},ti={lazy:!0};Rt(kt.prototype);var ei,ni,ii,ri,oi,si,ai,li={init:function(t,e,n,i){if(!t.componentInstance||t.componentInstance._isDestroyed)(t.componentInstance=function(t,e,n,i){var r=t.componentOptions,o={_isComponent:!0,parent:e,propsData:r.propsData,_componentTag:r.tag,_parentVnode:t,_parentListeners:r.listeners,_renderChildren:r.children,_parentElm:n||null,_refElm:i||null},s=t.data.inlineTemplate;return L(s)&&(o.render=s.render,o.staticRenderFns=s.staticRenderFns),new r.Ctor(o)}(t,Un,n,i)).$mount(e?t.elm:void 0,e);else if(t.data.keepAlive){var r=t;li.prepatch(r,r)}},prepatch:function(t,e){var n=e.componentOptions;!function(t,e,n,i,r){var o=!!(r||t.$options._renderChildren||i.data.scopedSlots||t.$scopedSlots!==Fe);if(t.$options._parentVnode=i,t.$vnode=i,t._vnode&&(t._vnode.parent=i),t.$options._renderChildren=r,t.$attrs=i.data&&i.data.attrs||Fe,t.$listeners=n||Fe,e&&t.$options.props){kn.shouldConvert=!1;for(var s=t._props,a=t.$options._propKeys||[],l=0;l<a.length;l++){var c=a[l];s[c]=$(c,t.$options.props,e,t)}kn.shouldConvert=!0,t.$options.propsData=e}if(n){var u=t.$options._parentListeners;t.$options._parentListeners=n,rt(t,n,u)}o&&(t.$slots=ot(r,i.context),t.$forceUpdate())}(e.componentInstance=t.componentInstance,n.propsData,n.listeners,e,n.children)},insert:function(t){var e=t.context,n=t.componentInstance;n._isMounted||(n._isMounted=!0,ut(n,"mounted")),t.data.keepAlive&&(e._isMounted?function(t){t._inactive=!1,qn.push(t)}(n):ct(n,!0))},destroy:function(t){var e=t.componentInstance;e._isDestroyed||(t.data.keepAlive?function t(e,n){if(!(n&&(e._directInactive=!0,lt(e))||e._inactive)){e._inactive=!0;for(var i=0;i<e.$children.length;i++)t(e.$children[i]);ut(e,"deactivated")}}(e,!0):e.$destroy())}},ci=Object.keys(li),ui=1,hi=2,di=0;Lt.prototype._init=function(t){var e=this;e._uid=di++,e._isVue=!0,t&&t._isComponent?function(t,e){var n=t.$options=Object.create(t.constructor.options);n.parent=e.parent,n.propsData=e.propsData,n._parentVnode=e._parentVnode,n._parentListeners=e._parentListeners,n._renderChildren=e._renderChildren,n._componentTag=e._componentTag,n._parentElm=e._parentElm,n._refElm=e._refElm,e.render&&(n.render=e.render,n.staticRenderFns=e.staticRenderFns)}(e,t):e.$options=I(Mt(e.constructor),t||{},e),function(t){var e=t.$options,n=e.parent;if(n&&!e.abstract){for(;n.$options.abstract&&n.$parent;)n=n.$parent;n.$children.push(t)}t.$parent=n,t.$root=n?n.$root:t,t.$children=[],t.$refs={},t._watcher=null,t._inactive=null,t._directInactive=!1,t._isMounted=!1,t._isDestroyed=!1,t._isBeingDestroyed=!1}((e._renderProxy=e)._self=e),function(t){t._events=Object.create(null),t._hasHookEvent=!1;var e=t.$options._parentListeners;e&&rt(t,e)}(e),function(r){r._vnode=null,r._staticTrees=null;var t=r.$options,e=r.$vnode=t._parentVnode,n=e&&e.context;r.$slots=ot(t._renderChildren,n),r.$scopedSlots=Fe,r._c=function(t,e,n,i){return $t(r,t,e,n,i,!1)},r.$createElement=function(t,e,n,i){return $t(r,t,e,n,i,!0)};var i=e&&e.data;T(r,"$attrs",i&&i.attrs||Fe,0,!0),T(r,"$listeners",t._parentListeners||Fe,0,!0)}(e),ut(e,"beforeCreate"),function(e){var n=mt(e.$options.inject,e);n&&(kn.shouldConvert=!1,Object.keys(n).forEach(function(t){T(e,t,n[t])}),kn.shouldConvert=!0)}(e),ft(e),function(t){var e=t.$options.provide;e&&(t._provided="function"==typeof e?e.call(t):e)}(e),ut(e,"created"),e.$options.el&&e.$mount(e.$options.el)},oi=Lt,si={get:function(){return this._data}},ai={get:function(){return this._props}},Object.defineProperty(oi.prototype,"$data",si),Object.defineProperty(oi.prototype,"$props",ai),oi.prototype.$set=b,oi.prototype.$delete=S,oi.prototype.$watch=function(t,e,n){if(c(e))return gt(this,t,e,n);(n=n||{}).user=!0;var i=new Jn(this,t,e,n);return n.immediate&&e.call(this,i.value),function(){i.teardown()}},ri=/^hook:/,(ii=Lt).prototype.$on=function(t,e){if(Array.isArray(t))for(var n=0,i=t.length;n<i;n++)this.$on(t[n],e);else(this._events[t]||(this._events[t]=[])).push(e),ri.test(t)&&(this._hasHookEvent=!0);return this},ii.prototype.$once=function(t,e){function n(){i.$off(t,n),e.apply(i,arguments)}var i=this;return n.fn=e,i.$on(t,n),i},ii.prototype.$off=function(t,e){var n=this;if(!arguments.length)return n._events=Object.create(null),n;if(Array.isArray(t)){for(var i=0,r=t.length;i<r;i++)this.$off(t[i],e);return n}var o=n._events[t];if(!o)return n;if(!e)return n._events[t]=null,n;if(e)for(var s,a=o.length;a--;)if((s=o[a])===e||s.fn===e){o.splice(a,1);break}return n},ii.prototype.$emit=function(t){var e=this,n=e._events[t];if(n){n=1<n.length?s(n):n;for(var i=s(arguments,1),r=0,o=n.length;r<o;r++)try{n[r].apply(e,i)}catch(n){z(n,e,'event handler for "'+t+'"')}}return e},(ni=Lt).prototype._update=function(t,e){var n=this;n._isMounted&&ut(n,"beforeUpdate");var i=n.$el,r=n._vnode,o=Un;(Un=n)._vnode=t,r?n.$el=n.__patch__(r,t):(n.$el=n.__patch__(n.$el,t,e,!1,n.$options._parentElm,n.$options._refElm),n.$options._parentElm=n.$options._refElm=null),Un=o,i&&(i.__vue__=null),n.$el&&(n.$el.__vue__=n),n.$vnode&&n.$parent&&n.$vnode===n.$parent._vnode&&(n.$parent.$el=n.$el)},ni.prototype.$forceUpdate=function(){this._watcher&&this._watcher.update()},ni.prototype.$destroy=function(){var t=this;if(!t._isBeingDestroyed){ut(t,"beforeDestroy"),t._isBeingDestroyed=!0;var e=t.$parent;!e||e._isBeingDestroyed||t.$options.abstract||u(e.$children,t),t._watcher&&t._watcher.teardown();for(var n=t._watchers.length;n--;)t._watchers[n].teardown();t._data.__ob__&&t._data.__ob__.vmCount--,t._isDestroyed=!0,t.__patch__(t._vnode,null),ut(t,"destroyed"),t.$off(),t.$el&&(t.$el.__vue__=null),t.$vnode&&(t.$vnode.parent=null)}},Rt((ei=Lt).prototype),ei.prototype.$nextTick=function(t){return W(t,this)},ei.prototype._render=function(){var t,e=this,n=e.$options,i=n.render,r=n._parentVnode;if(e._isMounted)for(var o in e.$slots){var s=e.$slots[o];(s._rendered||s[0]&&s[0].elm)&&(e.$slots[o]=_(s,!0))}e.$scopedSlots=r&&r.data.scopedSlots||Fe,e.$vnode=r;try{t=i.call(e._renderProxy,e.$createElement)}catch(n){z(n,e,"render"),t=e._vnode}return t instanceof bn||(t=Pn()),t.parent=r,t};var fi,pi,vi,gi=[String,RegExp,Array],mi={KeepAlive:{name:"keep-alive",abstract:!0,props:{include:gi,exclude:gi,max:[String,Number]},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var t in this.cache)zt(this.cache,t,this.keys)},watch:{include:function(e){Nt(this,function(t){return Ht(e,t)})},exclude:function(e){Nt(this,function(t){return!Ht(e,t)})}},render:function(){var t=this.$slots.default,e=et(t),n=e&&e.componentOptions;if(n){var i=Ft(n),r=this.include,o=this.exclude;if(r&&(!i||!Ht(r,i))||o&&i&&Ht(o,i))return e;var s=this.cache,a=this.keys,l=null==e.key?n.Ctor.cid+(n.tag?"::"+n.tag:""):e.key;s[l]?(e.componentInstance=s[l].componentInstance,u(a,l),a.push(l)):(s[l]=e,a.push(l),this.max&&a.length>parseInt(this.max)&&zt(s,a[0],a,this._vnode)),e.data.keepAlive=!0}return e||t&&t[0]}}};pi=Lt,vi={get:function(){return Ye}},Object.defineProperty(pi,"config",vi),pi.util={warn:wn,extend:f,mergeOptions:I,defineReactive:T},pi.set=b,pi.delete=S,pi.nextTick=W,pi.options=Object.create(null),Xe.forEach(function(t){pi.options[t+"s"]=Object.create(null)}),f((pi.options._base=pi).options.components,mi),pi.use=function(t){var e=this._installedPlugins||(this._installedPlugins=[]);if(-1<e.indexOf(t))return this;var n=s(arguments,1);return n.unshift(this),"function"==typeof t.install?t.install.apply(t,n):"function"==typeof t&&t.apply(null,n),e.push(t),this},pi.mixin=function(t){return this.options=I(this.options,t),this},Bt(pi),fi=pi,Xe.forEach(function(n){fi[n]=function(t,e){return e?("component"===n&&c(e)&&(e.name=e.name||t,e=this.options._base.extend(e)),"directive"===n&&"function"==typeof e&&(e={bind:e,update:e}),this.options[n+"s"][t]=e):this.options[n+"s"][t]}}),Object.defineProperty(Lt.prototype,"$isServer",{get:vn}),Object.defineProperty(Lt.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Lt.version="2.5.8";function yi(t){return Ii(t)||Ai(t)}function wi(t,e,n){if(Xi.test(e))t.style.setProperty(e,n);else if(Ki.test(n))t.style.setProperty(e,n.replace(Ki,""),"important");else{var i=Ji(e);if(Array.isArray(n))for(var r=0,o=n.length;r<o;r++)t.style[i]=n[r];else t.style[i]=n}}var _i,xi,Ti=a("style,class"),bi=a("input,textarea,option,select,progress"),Si=a("contenteditable,draggable,spellcheck"),Pi=a("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,translate,truespeed,typemustmatch,visible"),Ci="http://www.w3.org/1999/xlink",Ei=function(t){return":"===t.charAt(5)&&"xlink"===t.slice(0,5)},Ri=function(t){return Ei(t)?t.slice(6,t.length):""},ki=function(t){return null==t||!1===t},Oi={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},Ii=a("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),Ai=a("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignObject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),$i=Object.create(null),Mi=a("text,number,password,search,email,tel,url"),Di=Object.freeze({createElement:function(t,e){var n=document.createElement(t);return"select"!==t||e.data&&e.data.attrs&&void 0!==e.data.attrs.multiple&&n.setAttribute("multiple","multiple"),n},createElementNS:function(t,e){return document.createElementNS(Oi[t],e)},createTextNode:function(t){return document.createTextNode(t)},createComment:function(t){return document.createComment(t)},insertBefore:function(t,e,n){t.insertBefore(e,n)},removeChild:function(t,e){t.removeChild(e)},appendChild:function(t,e){t.appendChild(e)},parentNode:function(t){return t.parentNode},nextSibling:function(t){return t.nextSibling},tagName:function(t){return t.tagName},setTextContent:function(t,e){t.textContent=e},setAttribute:function(t,e,n){t.setAttribute(e,n)}}),Li={create:function(t,e){qt(e)},update:function(t,e){t.data.ref!==e.data.ref&&(qt(t,!0),qt(e))},destroy:function(t){qt(t,!0)}},Bi=new bn("",{},[]),Fi=["create","activate","update","remove","destroy"],Hi={create:Xt,update:Xt,destroy:function(t){Xt(t,Bi)}},Ni=Object.create(null),zi=[Li,Hi],ji={create:Jt,update:Jt},Vi={create:te,update:te},Ui="__r",Wi="__c",qi={create:ie,update:ie},Gi={create:re,update:re},Zi=i(function(t){var n={},i=/:(.+)/;return t.split(/;(?![^(]*\))/g).forEach(function(t){if(t){var e=t.split(i);1<e.length&&(n[e[0].trim()]=e[1].trim())}}),n}),Xi=/^--/,Ki=/\s*!important$/,Yi=["Webkit","Moz","ms"],Ji=i(function(t){if(xi=xi||document.createElement("div").style,"filter"!==(t=Ve(t))&&t in xi)return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),n=0;n<Yi.length;n++){var i=Yi[n]+e;if(i in xi)return i}}),Qi={create:ae,update:ae},tr=i(function(t){return{enterClass:t+"-enter",enterToClass:t+"-enter-to",enterActiveClass:t+"-enter-active",leaveClass:t+"-leave",leaveToClass:t+"-leave-to",leaveActiveClass:t+"-leave-active"}}),er=tn&&!sn,nr="transition",ir="animation",rr="transition",or="transitionend",sr="animation",ar="animationend";er&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(rr="WebkitTransition",or="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(sr="WebkitAnimation",ar="webkitAnimationEnd"));var lr=tn?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(t){return t()},cr=/\b(transform|all)(,|$)/,ur=function(t){function o(t){var e=E.parentNode(t);L(e)&&E.removeChild(e,t)}function m(t,e,n,i,r){if(t.isRootInsert=!r,!function(t,e,n,i){var r=t.data;if(L(r)){var o=L(t.componentInstance)&&r.keepAlive;if(L(r=r.hook)&&L(r=r.init)&&r(t,!1,n,i),L(t.componentInstance))return f(t,e),R(o)&&function(t,e,n,i){for(var r,o=t;o.componentInstance;)if(o=o.componentInstance._vnode,L(r=o.data)&&L(r=r.transition)){for(r=0;r<C.activate.length;++r)C.activate[r](Bi,o);e.push(o);break}l(n,t.elm,i)}(t,e,n,i),!0}}(t,e,n,i)){var o=t.data,s=t.children,a=t.tag;L(a)?(t.elm=t.ns?E.createElementNS(t.ns,a):E.createElement(a,t),c(t),p(t,s,e),L(o)&&v(t,e)):R(t.isComment)?t.elm=E.createComment(t.text):t.elm=E.createTextNode(t.text),l(n,t.elm,i)}}function f(t,e){L(t.data.pendingInsert)&&(e.push.apply(e,t.data.pendingInsert),t.data.pendingInsert=null),t.elm=t.componentInstance.$el,y(t)?(v(t,e),c(t)):(qt(t),e.push(t))}function l(t,e,n){L(t)&&(L(n)?n.parentNode===t&&E.insertBefore(t,e,n):E.appendChild(t,e))}function p(t,e,n){if(Array.isArray(e))for(var i=0;i<e.length;++i)m(e[i],n,t.elm,null,!0);else k(t.text)&&E.appendChild(t.elm,E.createTextNode(t.text))}function y(t){for(;t.componentInstance;)t=t.componentInstance._vnode;return L(t.tag)}function v(t,e){for(var n=0;n<C.create.length;++n)C.create[n](Bi,t);L(i=t.data.hook)&&(L(i.create)&&i.create(Bi,t),L(i.insert)&&e.push(t))}function c(t){var e;if(L(e=t.functionalScopeId))E.setAttribute(t.elm,e,"");else for(var n=t;n;)L(e=n.context)&&L(e=e.$options._scopeId)&&E.setAttribute(t.elm,e,""),n=n.parent;L(e=Un)&&e!==t.context&&e!==t.functionalContext&&L(e=e.$options._scopeId)&&E.setAttribute(t.elm,e,"")}function w(t,e,n,i,r,o){for(;i<=r;++i)m(n[i],o,t,e)}function _(t){var e,n,i=t.data;if(L(i))for(L(e=i.hook)&&L(e=e.destroy)&&e(t),e=0;e<C.destroy.length;++e)C.destroy[e](t);if(L(e=t.children))for(n=0;n<t.children.length;++n)_(t.children[n])}function x(t,e,n,i){for(;n<=i;++n){var r=e[n];L(r)&&(L(r.tag)?(s(r),_(r)):o(r.elm))}}function s(t,e){if(L(e)||L(t.data)){var n,i=C.remove.length+1;for(L(e)?e.listeners+=i:e=function(t,e){function n(){0==--n.listeners&&o(t)}return n.listeners=e,n}(t.elm,i),L(n=t.componentInstance)&&L(n=n._vnode)&&L(n.data)&&s(n,e),n=0;n<C.remove.length;++n)C.remove[n](t,e);L(n=t.data.hook)&&L(n=n.remove)?n(t,e):e()}else o(t.elm)}function T(t,e,n,i){for(var r=n;r<i;r++){var o=e[r];if(L(o)&&Gt(t,o))return r}}function b(t,e,n,i){if(t!==e){var r=e.elm=t.elm;if(R(t.isAsyncPlaceholder))return void(L(e.asyncFactory.resolved)?P(t.elm,e,n):e.isAsyncPlaceholder=!0);if(R(e.isStatic)&&R(t.isStatic)&&e.key===t.key&&(R(e.isCloned)||R(e.isOnce)))return void(e.componentInstance=t.componentInstance);var o,s=e.data;L(s)&&L(o=s.hook)&&L(o=o.prepatch)&&o(t,e);var a=t.children,l=e.children;if(L(s)&&y(e)){for(o=0;o<C.update.length;++o)C.update[o](t,e);L(o=s.hook)&&L(o=o.update)&&o(t,e)}D(e.text)?L(a)&&L(l)?a!==l&&function(t,e,n,i,r){for(var o,s,a,l=0,c=0,u=e.length-1,h=e[0],d=e[u],f=n.length-1,p=n[0],v=n[f],g=!r;l<=u&&c<=f;)D(h)?h=e[++l]:D(d)?d=e[--u]:Gt(h,p)?(b(h,p,i),h=e[++l],p=n[++c]):Gt(d,v)?(b(d,v,i),d=e[--u],v=n[--f]):Gt(h,v)?(b(h,v,i),g&&E.insertBefore(t,h.elm,E.nextSibling(d.elm)),h=e[++l],v=n[--f]):p=(Gt(d,p)?(b(d,p,i),g&&E.insertBefore(t,d.elm,h.elm),d=e[--u]):(D(o)&&(o=Zt(e,l,u)),D(s=L(p.key)?o[p.key]:T(p,e,l,u))?m(p,i,t,h.elm):Gt(a=e[s],p)?(b(a,p,i),e[s]=void 0,g&&E.insertBefore(t,a.elm,h.elm)):m(p,i,t,h.elm)),n[++c]);u<l?w(t,D(n[f+1])?null:n[f+1].elm,n,c,f,i):f<c&&x(0,e,l,u)}(r,a,l,n,i):L(l)?(L(t.text)&&E.setTextContent(r,""),w(r,null,l,0,l.length-1,n)):L(a)?x(0,a,0,a.length-1):L(t.text)&&E.setTextContent(r,""):t.text!==e.text&&E.setTextContent(r,e.text),L(s)&&L(o=s.hook)&&L(o=o.postpatch)&&o(t,e)}}function S(t,e,n){if(R(n)&&L(t.parent))t.parent.data.pendingInsert=e;else for(var i=0;i<e.length;++i)e[i].data.hook.insert(e[i])}function P(t,e,n,i){var r,o=e.tag,s=e.data,a=e.children;if(i=i||s&&s.pre,e.elm=t,R(e.isComment)&&L(e.asyncFactory))return e.isAsyncPlaceholder=!0;if(L(s)&&(L(r=s.hook)&&L(r=r.init)&&r(e,!0),L(r=e.componentInstance)))return f(e,n),!0;if(L(o)){if(L(a))if(t.hasChildNodes())if(L(r=s)&&L(r=r.domProps)&&L(r=r.innerHTML)){if(r!==t.innerHTML)return!1}else{for(var l=!0,c=t.firstChild,u=0;u<a.length;u++){if(!c||!P(c,a[u],n,i)){l=!1;break}c=c.nextSibling}if(!l||c)return!1}else p(e,a,n);if(L(s)){var h=!1;for(var d in s)if(!g(d)){h=!0,v(e,n);break}!h&&s.class&&q(s.class)}}else t.data!==e.text&&(t.data=e.text);return!0}var i,e,C={},n=t.modules,E=t.nodeOps;for(i=0;i<Fi.length;++i)for(C[Fi[i]]=[],e=0;e<n.length;++e)L(n[e][Fi[i]])&&C[Fi[i]].push(n[e][Fi[i]]);var g=a("attrs,class,staticClass,staticStyle,key");return function(t,e,n,i,r,o){if(!D(e)){var s=!1,a=[];if(D(t))s=!0,m(e,a,r,o);else{var l=L(t.nodeType);if(!l&&Gt(t,e))b(t,e,a,i);else{if(l){if(1===t.nodeType&&t.hasAttribute(Ze)&&(t.removeAttribute(Ze),n=!0),R(n)&&P(t,e,a))return S(e,a,!0),t;t=function(t){return new bn(E.tagName(t).toLowerCase(),{},[],void 0,t)}(t)}var c=t.elm,u=E.parentNode(c);if(m(e,a,c._leaveCb?null:u,E.nextSibling(c)),L(e.parent))for(var h=e.parent,d=y(e);h;){for(var f=0;f<C.destroy.length;++f)C.destroy[f](h);if(h.elm=e.elm,d){for(var p=0;p<C.create.length;++p)C.create[p](Bi,h);var v=h.data.hook.insert;if(v.merged)for(var g=1;g<v.fns.length;g++)v.fns[g]()}else qt(h);h=h.parent}L(u)?x(0,[t],0,0):L(t.tag)&&_(t)}}return S(e,a,s),e.elm}L(t)&&_(t)}}({nodeOps:Di,modules:[ji,Vi,qi,Gi,Qi,tn?{create:Te,activate:Te,remove:function(t,e){!0!==t.data.show?we(t,e):e()}}:{}].concat(zi)});sn&&document.addEventListener("selectionchange",function(){var t=document.activeElement;t&&t.vmodel&&ke(t,"input")});var hr={inserted:function(t,e,n,i){"select"===n.tag?(i.elm&&!i.elm._vOptions?X(n,"postpatch",function(){hr.componentUpdated(t,e,n)}):be(t,e,n.context),t._vOptions=[].map.call(t.options,Ce)):"textarea"!==n.tag&&!Mi(t.type)||(t._vModifiers=e.modifiers,e.modifiers.lazy||(t.addEventListener("change",Re),ln||(t.addEventListener("compositionstart",Ee),t.addEventListener("compositionend",Re)),sn&&(t.vmodel=!0)))},componentUpdated:function(t,e,n){if("select"===n.tag){be(t,e,n.context);var i=t._vOptions,r=t._vOptions=[].map.call(t.options,Ce);r.some(function(t,e){return!p(t,i[e])})&&(t.multiple?e.value.some(function(t){return Pe(t,r)}):e.value!==e.oldValue&&Pe(e.value,r))&&ke(t,"change")}}},dr={model:hr,show:{bind:function(t,e,n){var i=e.value,r=(n=Oe(n)).data&&n.data.transition,o=t.__vOriginalDisplay="none"===t.style.display?"":t.style.display;i&&r?(n.data.show=!0,ye(n,function(){t.style.display=o})):t.style.display=i?o:"none"},update:function(t,e,n){var i=e.value;i!==e.oldValue&&((n=Oe(n)).data&&n.data.transition?(n.data.show=!0,i?ye(n,function(){t.style.display=t.__vOriginalDisplay}):we(n,function(){t.style.display="none"})):t.style.display=i?t.__vOriginalDisplay:"none")},unbind:function(t,e,n,i,r){r||(t.style.display=t.__vOriginalDisplay)}}},fr={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]},pr={name:"transition",props:fr,abstract:!0,render:function(t){var e=this,n=this.$slots.default;if(n&&(n=n.filter(function(t){return t.tag||tt(t)})).length){var i=this.mode,r=n[0];if(function(t){for(;t=t.parent;)if(t.data.transition)return!0}(this.$vnode))return r;var o=Ie(r);if(!o)return r;if(this._leaving)return $e(t,r);var s="__transition-"+this._uid+"-";o.key=null==o.key?o.isComment?s+"comment":s+o.tag:k(o.key)?0===String(o.key).indexOf(s)?o.key:s+o.key:o.key;var a=(o.data||(o.data={})).transition=Ae(this),l=this._vnode,c=Ie(l);if(o.data.directives&&o.data.directives.some(function(t){return"show"===t.name})&&(o.data.show=!0),c&&c.data&&!function(t,e){return e.key===t.key&&e.tag===t.tag}(o,c)&&!tt(c)&&(!c.componentInstance||!c.componentInstance._vnode.isComment)){var u=c.data.transition=f({},a);if("out-in"===i)return this._leaving=!0,X(u,"afterLeave",function(){e._leaving=!1,e.$forceUpdate()}),$e(t,r);if("in-out"===i){if(tt(o))return l;var h,d=function(){h()};X(a,"afterEnter",d),X(a,"enterCancelled",d),X(u,"delayLeave",function(t){h=t})}}return r}}},vr=f({tag:String,moveClass:String},fr);delete vr.mode;var gr={Transition:pr,TransitionGroup:{props:vr,render:function(t){for(var e=this.tag||this.$vnode.data.tag||"span",n=Object.create(null),i=this.prevChildren=this.children,r=this.$slots.default||[],o=this.children=[],s=Ae(this),a=0;a<r.length;a++){var l=r[a];l.tag&&null!=l.key&&0!==String(l.key).indexOf("__vlist")&&(o.push(l),((n[l.key]=l).data||(l.data={})).transition=s)}if(i){for(var c=[],u=[],h=0;h<i.length;h++){var d=i[h];d.data.transition=s,d.data.pos=d.elm.getBoundingClientRect(),n[d.key]?c.push(d):u.push(d)}this.kept=t(e,null,c),this.removed=u}return t(e,null,o)},beforeUpdate:function(){this.__patch__(this._vnode,this.kept,!1,!0),this._vnode=this.kept},updated:function(){var t=this.prevChildren,i=this.moveClass||(this.name||"v")+"-move";t.length&&this.hasMove(t[0].elm,i)&&(t.forEach(Me),t.forEach(De),t.forEach(Le),this._reflow=document.body.offsetHeight,t.forEach(function(t){if(t.data.moved){var n=t.elm,e=n.style;de(n,i),e.transform=e.WebkitTransform=e.transitionDuration="",n.addEventListener(or,n._moveCb=function t(e){e&&!/transform$/.test(e.propertyName)||(n.removeEventListener(or,t),n._moveCb=null,fe(n,i))})}}))},methods:{hasMove:function(t,e){if(!er)return!1;if(this._hasMove)return this._hasMove;var n=t.cloneNode();t._transitionClasses&&t._transitionClasses.forEach(function(t){ce(n,t)}),le(n,e),n.style.display="none",this.$el.appendChild(n);var i=ve(n);return this.$el.removeChild(n),this._hasMove=i.hasTransform}}}};Lt.config.mustUseProp=function(t,e,n){return"value"===n&&bi(t)&&"button"!==e||"selected"===n&&"option"===t||"checked"===n&&"input"===t||"muted"===n&&"video"===t},Lt.config.isReservedTag=yi,Lt.config.isReservedAttr=Ti,Lt.config.getTagNamespace=function(t){return Ai(t)?"svg":"math"===t?"math":void 0},Lt.config.isUnknownElement=function(t){if(!tn)return!0;if(yi(t))return!1;if(t=t.toLowerCase(),null!=$i[t])return $i[t];var e=document.createElement(t);return-1<t.indexOf("-")?$i[t]=e.constructor===window.HTMLUnknownElement||e.constructor===window.HTMLElement:$i[t]=/HTMLUnknownElement/.test(e.toString())},f(Lt.options.directives,dr),f(Lt.options.components,gr),Lt.prototype.__patch__=tn?ur:d,Lt.prototype.$mount=function(t,e){return function(t,e,n){var i;return t.$el=e,t.$options.render||(t.$options.render=Pn),ut(t,"beforeMount"),i=function(){t._update(t._render(),n)},t._watcher=new Jn(t,i,d),n=!1,null==t.$vnode&&(t._isMounted=!0,ut(t,"mounted")),t}(this,t=t&&tn?function(t){return"string"!=typeof t?t:document.querySelector(t)||document.createElement("div")}(t):void 0,e)},Lt.nextTick(function(){Ye.devtools&&gn&&gn.emit("init",Lt)},0),mr.a=Lt}).call(mr,e(70),e(71).setImmediate)},function(t,e){},function(t,e,n){"use strict";var i=n(82)(!0);n(31)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=i(e,n),this._i+=t.length,{value:t,done:!1})})},function(t,e){var n=Math.ceil,i=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(0<t?i:n)(t)}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){"use strict";function w(){return this}var _=n(21),x=n(5),T=n(56),b=n(9),S=n(13),P=n(16),C=n(83),E=n(19),R=n(87),k=n(1)("iterator"),O=!([].keys&&"next"in[].keys());t.exports=function(t,e,n,i,r,o,s){C(n,e,i);function a(t){if(!O&&t in p)return p[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}}var l,c,u,h=e+" Iterator",d="values"==r,f=!1,p=t.prototype,v=p[k]||p["@@iterator"]||r&&p[r],g=v||a(r),m=r?d?a("entries"):g:void 0,y="Array"==e&&p.entries||v;if(y&&(u=R(y.call(new t)))!==Object.prototype&&u.next&&(E(u,h,!0),_||S(u,k)||b(u,k,w)),d&&v&&"values"!==v.name&&(f=!0,g=function(){return v.call(this)}),_&&!s||!O&&!f&&p[k]||b(p,k,g),P[e]=g,P[h]=w,r)if(l={values:d?g:a("values"),keys:o?g:a("keys"),entries:m},s)for(c in l)c in p||T(p,c,l[c]);else x(x.P+x.F*(O||f),e,l);return l}},function(t,e,n){var i=n(7),r=n(0).document,o=i(r)&&i(r.createElement);t.exports=function(t){return o?r.createElement(t):{}}},function(t,e,n){var r=n(7);t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e,i){function r(){}var o=i(10),s=i(84),a=i(39),l=i(37)("IE_PROTO"),c=function(){var t,e=i(32)("iframe"),n=a.length;for(e.style.display="none",i(58).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),c=t.F;n--;)delete c.prototype[a[n]];return c()};t.exports=Object.create||function(t,e){var n;return null!==t?(r.prototype=o(t),n=new r,r.prototype=null,n[l]=t):n=c(),void 0===e?n:s(n,e)}},function(t,e,n){var i=n(18);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==i(t)?t.split(""):Object(t)}},function(t,e,n){var i=n(29),r=Math.min;t.exports=function(t){return 0<t?r(i(t),9007199254740991):0}},function(t,e,n){var i=n(38)("keys"),r=n(23);t.exports=function(t){return i[t]||(i[t]=r(t))}},function(t,e,n){var i=n(0),r=i["__core-js_shared__"]||(i["__core-js_shared__"]={});t.exports=function(t){return r[t]||(r[t]={})}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){n(88);for(var i=n(0),r=n(9),o=n(16),s=n(1)("toStringTag"),a="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),l=0;l<a.length;l++){var c=a[l],u=i[c],h=u&&u.prototype;h&&!h[s]&&r(h,s,c),o[c]=o.Array}},function(t,e,n){var r=n(18),o=n(1)("toStringTag"),s="Arguments"==r(function(){return arguments}());t.exports=function(t){var e,n,i;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),o))?n:s?r(e):"Object"==(i=r(e))&&"function"==typeof e.callee?"Arguments":i}},function(t,e){t.exports=function(t,e,n,i){if(!(t instanceof e)||void 0!==i&&i in t)throw TypeError(n+": incorrect invocation!");return t}},function(t,e,n){"use strict";function i(t){var n,i;this.promise=new t(function(t,e){if(void 0!==n||void 0!==i)throw TypeError("Bad Promise constructor");n=t,i=e}),this.resolve=r(n),this.reject=r(i)}var r=n(15);t.exports.f=function(t){return new i(t)}},function(t,e,n){var r=n(9);t.exports=function(t,e,n){for(var i in e)n&&t[i]?t[i]=e[i]:r(t,i,e[i]);return t}},function(t,e,n){function i(t){a(t,r,{value:{i:"O"+ ++l,w:{}}})}var r=n(23)("meta"),o=n(7),s=n(13),a=n(6).f,l=0,c=Object.isExtensible||function(){return!0},u=!n(12)(function(){return c(Object.preventExtensions({}))}),h=t.exports={KEY:r,NEED:!1,fastKey:function(t,e){if(!o(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!s(t,r)){if(!c(t))return"F";if(!e)return"E";i(t)}return t[r].i},getWeak:function(t,e){if(!s(t,r)){if(!c(t))return!0;if(!e)return!1;i(t)}return t[r].w},onFreeze:function(t){return u&&h.NEED&&c(t)&&!s(t,r)&&i(t),t}}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){t.exports={default:n(119),__esModule:!0}},function(t,e,n){e.f=n(1)},function(t,e,n){var i=n(0),r=n(2),o=n(21),s=n(48),a=n(6).f;t.exports=function(t){var e=r.Symbol||(r.Symbol=o?{}:i.Symbol||{});"_"==t.charAt(0)||t in e||a(e,t,{value:s.f(t)})}},function(t,e){t.exports={methods:{preventKeyboardEvent:function(t){return!!(t.altKey||t.ctrlKey||t.metaKey)||-1<["INPUT","SELECT","TEXTAREA"].indexOf(t.target.nodeName)&&"range"!==t.target.type}}}},function(t,e){t.exports={computed:{structures:function(){var t=this;if(!this.$root.manifest.structures)return[];for(var e=[],n=[],i=this.$root.manifest.structures.length,r=0;r<i;r+=1){var o=this.$root.manifest.structures[r];o.label=o.label.trim()||"",o.canvases?function(){var e=o.canvases[0];o.firstPage=t.$root.canvases.findIndex(function(t){return t["@id"]===e})+1;var n=o.canvases[o.canvases.length-1];o.lastPage=t.$root.canvases.findIndex(function(t){return t["@id"]===n})+1,o.pageLabel=t.$root.canvases[o.firstPage-1].label}():(o.firstPage=1,o.lastPage=this.$root.pageCount,o.pageLabel=this.$root.canvases[0].label),o.pageCount=o.lastPage-o.firstPage+1,o.within&&n.push(o),e.push(o)}for(var s=n.length,a=0;a<i;a+=1){for(var l=[],c=0;c<s;c+=1){var u=n[c];u.within===e[a]["@id"]&&l.push(u)}l.length&&(e[a].childStructures=l)}return e.filter(function(t){return!t.within})},currentStructure:function(){var e=this;if(!Array.isArray(this.$root.manifest.structures))return!1;var n=[];this.$root.params.pages.forEach(function(t){t&&n.push(e.$root.canvases[t-1]["@id"])});for(var t=this.$root.manifest.structures.length,i=void 0,r=void 0,o=0;o<t;o+=1){var s=this.$root.manifest.structures[o];if(s.canvases.some(function(t){return-1<n.indexOf(t)})&&s.firstPage&&s.lastPage){var a=s.lastPage-s.firstPage;if((a<r||!r)&&(i=o,0==(r=a)))break}}return"number"==typeof i&&0<=i&&this.$root.manifest.structures[i]},currentStructureLabel:function(){return this.currentStructure.label},currentStructureMetadata:function(){return this.currentStructure.metadata}}}},function(a,t,l){"use strict";(function(t){function n(t,e){!i.isUndefined(t)&&i.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var e,i=l(4),r=l(200),o={"Content-Type":"application/x-www-form-urlencoded"},s={adapter:("undefined"!=typeof XMLHttpRequest?e=l(77):void 0!==t&&(e=l(77)),e),transformRequest:[function(t,e){return r(e,"Content-Type"),i.isFormData(t)||i.isArrayBuffer(t)||i.isBuffer(t)||i.isStream(t)||i.isFile(t)||i.isBlob(t)?t:i.isArrayBufferView(t)?t.buffer:i.isURLSearchParams(t)?(n(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):i.isObject(t)?(n(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return 200<=t&&t<300}};s.headers={common:{Accept:"application/json, text/plain, */*"}},i.forEach(["delete","get","head"],function(t){s.headers[t]={}}),i.forEach(["post","put","patch"],function(t){s.headers[t]=i.merge(o)}),a.exports=s}).call(t,l(72))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(54),r=n.n(i),o=n(65),a=n.n(o),s=n(100),l=n.n(s),c=n(115),u=n.n(c),h=n(47),d=n.n(h),f=n(68),p=n.n(f),v=n(26),g=n(133),m=n(187),y=(n(190),n(191),n(193),n(194));if(n.n(y),window.Promise||(window.Promise=n(195)),v.a.component("Icon",m.a),v.a.prototype.$http=n(196),window.tifyOptions){if("object"!==p()(window.tifyOptions))throw new Error("tifyOptions must be an object");d()(window.tifyOptions).forEach(function(t){switch(t){case"breakpoints":if("object"!==("undefined"==typeof breakpoints?"undefined":p()(breakpoints)))throw new Error("TIFY option "+t+" must be an object (keys: breakpoint names, values: widths in px)");break;case"container":if("string"!=typeof window.tifyOptions[t]&&!(window.tifyOptions[t]instanceof HTMLElement))throw new Error("TIFY option "+t+" must be a string or an HTMLElement");break;case"immediateRender":case"init":if("boolean"!=typeof window.tifyOptions[t])throw new Error('TIFY option "'+t+'" must be boolean');break;case"language":if("string"!=typeof window.tifyOptions[t])throw new Error('TIFY option "'+t+'" must be a string');break;case"title":case"manifest":case"stylesheet":if("string"!=typeof window.tifyOptions[t]&&null!==window.tifyOptions[t])throw new Error('TIFY option "'+t+'" must be a string (URL) or null');break;default:throw new Error('Unknown TIFY option: "'+t+'"')}})}var w,_,x=document.getElementsByTagName("script"),T=x[x.length-1];_=(w=T.src.substring(0,T.src.lastIndexOf("/")))+"/tify.css";var b=u()({breakpoints:{large:1300,medium:1e3,small:700,tiny:359},container:"#tify",immediateRender:!0,init:!0,language:"en",manifest:null,stylesheet:_,title:"TIFY"},window.tifyOptions),S=new v.a({render:function(t){return t(g.a)},data:{error:"",loading:0,manifest:null,manifestUrl:"",messages:null,options:b,params:{},paramsTimer:null},computed:{canvases:function(){return this.manifest.sequences[0].canvases},pageCount:function(){return this.manifest.sequences[0].canvases.length}},methods:{appendStylesheet:function(t){var e=document.createElement("link");e.href=t,e.rel="stylesheet",document.head.appendChild(e)},getParams:function(){var t={};try{t=JSON.parse(this.getQueryParam("tify"))||{}}catch(t){}this.isMobile()&&!t.view?t.view="scan":void 0===t.view&&(t.view="");var e=void 0;return e=this.isValidPagesArray(t.pages)?t.pages:(t.pages&&(this.error="Invalid pages, reset to first page"),[1]),{filters:t.filters||{},pages:e,panX:parseFloat(t.panX)||null,panY:parseFloat(t.panY)||null,rotation:parseInt(t.rotation,10)||null,view:t.view,zoom:parseFloat(t.zoom)||null}},getQueryParam:function(t){var e=RegExp("[?&]"+t+"=([^&]*)").exec(window.location.search);return e&&decodeURIComponent(e[1].replace(/\+/g," "))},iiifConvertToArray:function(t){var e=this.$options.filters.filterHtml;if(!(t instanceof Array)){if("object"!==(void 0===t?"undefined":p()(t)))return[e(t)];if(t["@value"])return[e(t["@value"])];if(t["@id"]){var n=e(t["@id"]);return[{"@id":n,label:t.label?e(t.label):n}]}return["(Invalid value)"]}var i=this.options.language,r=[],o={};t.forEach(function(t){"string"==typeof t||t["@id"]&&t.label?r.push(t):t&&"object"!==(void 0===t?"undefined":p()(t))?r.push(e(t)):t["@language"]&&t["@value"]&&(o.fallback||(o.fallback=t["@value"]),0===t["@language"].indexOf("en")?o.en=t["@value"]:t["@language"]===i&&(o.preferred=t["@value"]))});var s=o.preferred||o.en||o.fallback||null;return s&&r.push(e(s)),r},isMobile:function(){return this.$root.$el.offsetWidth<this.options.breakpoints.medium},isValidPagesArray:function(t){if(!Array.isArray(t))return!1;if(new l.a(t).size!==t.length)return!1;for(var e=0;e<t.length;e+=1)if(isNaN(t[e])||0<e&&0<t[e]&&t[e]<=t[e-1]||t[e]<0||t[e]>this.pageCount)return!1;return!0},setPage:function(t){var e=this.params.pages;if(e[0]%2<1&&(e[1]===e[0]+1||0===e[1])){var n=0<t%2?t-1:t;this.updateParams({pages:[n,n===this.pageCount?0:n+1]})}else this.updateParams({pages:[t]})},updateBreakpoint:function(){var e=this;d()(this.options.breakpoints).forEach(function(t){e.$el.clientWidth<=e.options.breakpoints[t]?e.$el.classList.add("-"+t):e.$el.classList.remove("-"+t)})},updateParams:function(o){var s=this;u()(this.params,o),window.history&&(clearTimeout(this.paramsTimeout),this.paramsTimeout=setTimeout(function(){var n={};d()(s.params).forEach(function(t){var e=s.params[t];null===e||"pages"===t&&e.length<2&&e[0]<2||"object"===(void 0===e?"undefined":p()(e))&&!d()(e).length?delete n[t]:n[t]=s.params[t]});var t=/([?&])tify=.*?(&|$)/,e="tify="+a()(n),i=window.location.href,r=i.match(t)?i.replace(t,"$1"+e+"$2"):i+(i.indexOf("?")<0?"?":"&")+e;o.pages?(s.error="",window.history.pushState({},"",r)):window.history.replaceState({},"",r)},100))}},mounted:function(){var n=this;if(this.$http.interceptors.request.use(function(t){return n.loading+=1,t}),this.$http.interceptors.response.use(function(t){return 0<n.loading&&(n.loading-=1),t},function(t){return n.loading=0,r.a.reject(t)}),this.options.stylesheet&&this.appendStylesheet(this.options.stylesheet),this.manifestUrl=this.options.manifest||this.getQueryParam("manifest")||this.getQueryParam("manifestUrl"),this.manifestUrl){if(this.options.manifest&&this.params.manifest&&(this.error="Setting manifest via query parameter is disabled"),window.addEventListener("resize",function(){n.updateBreakpoint()}),this.updateBreakpoint(),this.$http.get(this.manifestUrl).then(function(t){n.manifest=t.data,n.params=n.getParams(),window.addEventListener("popstate",function(){n.params=n.getParams()}),n.options.title&&(window.document.title=n.iiifConvertToArray(n.manifest.label)[0]+" | "+n.options.title)},function(t){var e=t.response?t.response.statusText:t.message;n.error="Error loading IIIF manifest: "+e}),"en"!==this.options.language){var t=w+"/translations/"+this.options.language+".json";this.$http.get(t).then(function(t){n.messages=t.data},function(t){var e=t.response?t.response.statusText:t.message;n.error="Error loading translation "+n.options.language+": "+e,console.warn(n.error)})}}else this.error="Missing query parameter or option: manifest"}});S.init=function(){var t="string"==typeof b.container?document.querySelector(b.container):b.container;if(t){var e=document.createElement("div");t.appendChild(e),S.$mount(e)}},b.init&&S.init(),window.Tify=S,e.default=S},function(t,e,n){t.exports={default:n(81),__esModule:!0}},function(t,e,n){t.exports=!n(8)&&!n(12)(function(){return 7!=Object.defineProperty(n(32)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){t.exports=n(9)},function(t,e,n){var s=n(13),a=n(14),l=n(85)(!1),c=n(37)("IE_PROTO");t.exports=function(t,e){var n,i=a(t),r=0,o=[];for(n in i)n!=c&&s(i,n)&&o.push(n);for(;e.length>r;)s(i,n=e[r++])&&(~l(o,n)||o.push(n));return o}},function(t,e,n){var i=n(0).document;t.exports=i&&i.documentElement},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){var r=n(10),o=n(15),s=n(1)("species");t.exports=function(t,e){var n,i=r(t).constructor;return void 0===i||null==(n=r(i)[s])?e:o(n)}},function(t,e,n){function i(){var t=+this;if(w.hasOwnProperty(t)){var e=w[t];delete w[t],e()}}function r(t){i.call(t.data)}var o,s,a,l=n(11),c=n(94),u=n(58),h=n(32),d=n(0),f=d.process,p=d.setImmediate,v=d.clearImmediate,g=d.MessageChannel,m=d.Dispatch,y=0,w={};p&&v||(p=function(t){for(var e=[],n=1;n<arguments.length;)e.push(arguments[n++]);return w[++y]=function(){c("function"==typeof t?t:Function(t),e)},o(y),y},v=function(t){delete w[t]},"process"==n(18)(f)?o=function(t){f.nextTick(l(i,t,1))}:m&&m.now?o=function(t){m.now(l(i,t,1))}:g?(a=(s=new g).port2,s.port1.onmessage=r,o=l(a.postMessage,a,1)):d.addEventListener&&"function"==typeof postMessage&&!d.importScripts?(o=function(t){d.postMessage(t+"","*")},d.addEventListener("message",r,!1)):o="onreadystatechange"in h("script")?function(t){u.appendChild(h("script")).onreadystatechange=function(){u.removeChild(this),i.call(t)}}:function(t){setTimeout(l(i,t,1),0)}),t.exports={set:p,clear:v}},function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,e,n){var i=n(10),r=n(7),o=n(43);t.exports=function(t,e){if(i(t),r(e)&&e.constructor===t)return e;var n=o.f(t);return(0,n.resolve)(e),n.promise}},function(t,e,n){"use strict";var i=n(0),r=n(2),o=n(6),s=n(8),a=n(1)("species");t.exports=function(t){var e="function"==typeof r[t]?r[t]:i[t];s&&e&&!e[a]&&o.f(e,a,{configurable:!0,get:function(){return this}})}},function(t,e,n){t.exports={default:n(99),__esModule:!0}},function(t,e,n){var i=n(7);t.exports=function(t,e){if(!i(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},function(t,e,n){var i=n(18);t.exports=Array.isArray||function(t){return"Array"==i(t)}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var r=i(n(122)),o=i(n(124)),s="function"==typeof o.default&&"symbol"==typeof r.default?function(t){return typeof t}:function(t){return t&&"function"==typeof o.default&&t.constructor===o.default&&t!==o.default.prototype?"symbol":typeof t};e.default="function"==typeof o.default&&"symbol"===s(r.default)?function(t){return void 0===t?"undefined":s(t)}:function(t){return t&&"function"==typeof o.default&&t.constructor===o.default&&t!==o.default.prototype?"symbol":void 0===t?"undefined":s(t)}},function(t,e,n){var i=n(57),r=n(39).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,r)}},function(GS,HS){var IS;IS=function(){return this}();try{IS=IS||Function("return this")()||eval("this")}catch(GS){"object"==typeof window&&(IS=window)}GS.exports=IS},function(t,e,n){function i(t,e){this._id=t,this._clearFn=e}var r=Function.prototype.apply;e.setTimeout=function(){return new i(r.call(setTimeout,window,arguments),clearTimeout)},e.setInterval=function(){return new i(r.call(setInterval,window,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(window,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;0<=e&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},n(132),e.setImmediate=setImmediate,e.clearImmediate=clearImmediate},function(t,e){function n(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function r(e){if(c===setTimeout)return setTimeout(e,0);if((c===n||!c)&&setTimeout)return c=setTimeout,setTimeout(e,0);try{return c(e,0)}catch(t){try{return c.call(null,e,0)}catch(t){return c.call(this,e,0)}}}function o(){p&&d&&(p=!1,d.length?f=d.concat(f):v=-1,f.length&&s())}function s(){if(!p){var t=r(o);p=!0;for(var e=f.length;e;){for(d=f,f=[];++v<e;)d&&d[v].run();v=-1,e=f.length}d=null,p=!1,function(e){if(u===clearTimeout)return clearTimeout(e);if((u===i||!u)&&clearTimeout)return u=clearTimeout,clearTimeout(e);try{u(e)}catch(t){try{return u.call(null,e)}catch(t){return u.call(this,e)}}}(t)}}function a(t,e){this.fun=t,this.array=e}function l(){}var c,u,h=t.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:n}catch(t){c=n}try{u="function"==typeof clearTimeout?clearTimeout:i}catch(t){u=i}}();var d,f=[],p=!1,v=-1;h.nextTick=function(t){var e=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];f.push(new a(t,e)),1!==f.length||p||r(s)},a.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=l,h.addListener=l,h.once=l,h.off=l,h.removeListener=l,h.removeAllListeners=l,h.emit=l,h.prependListener=l,h.prependOnceListener=l,h.listeners=function(t){return[]},h.binding=function(t){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(t){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},function(t,e){t.exports={computed:{customPageViewActive:function(){var t=this.$root.params.pages;return 2<t.length||2===t.length&&(0<t[0]%2||t[1]!==t[0]+1)&&0<t[1]},isFirstPage:function(){return this.$root.params.pages[0]<2},isLastPage:function(){var t=this.$root.params.pages,e=this.$root.pageCount;return t[0]>=e||t[t.length-1]>=e}},methods:{goToFirstPage:function(){this.$root.setPage(1)},goToLastPage:function(){this.$root.setPage(this.$root.pageCount)},goToNextPage:function(){var t=this.$root.params.pages,e=t[0]+1;1<t.length&&0<e%2&&e<this.$root.pageCount&&(e+=1),this.$root.setPage(e)},goToPreviousPage:function(){var t=this.$root.params.pages,e=t[0]-1;1<t.length&&0<e%2&&0<e&&(e-=1),this.$root.setPage(e)}}}},function(t,e,n){"use strict";var i=n(144),r=n(145),o=n(3)(i.a,r.a,!1,null,null,null);e.a=o.exports},function(t,e){t.exports={methods:{updateScrollPos:function(t){var e=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],n=this.$el.querySelectorAll(t);if(n.length){var i=n[0],r=n[n.length-1];Array.prototype.forEach.call(n,function(t){t.dataset.level>i.dataset.level&&(i=t)});var o=this.$el.getBoundingClientRect(),s=i.getBoundingClientRect(),a=r.getBoundingClientRect();if(s.top<o.top){var l=s.top-o.top+this.$el.scrollTop;this.scrollTo(this.$el,l-50,e)}else if(a.bottom>o.bottom){var c=a.bottom-o.bottom+this.$el.scrollTop;this.scrollTo(this.$el,c+50,e)}}},scrollTo:function(t,e){var n=this,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:120,r=t,o=!0===i?120:i;if(!o||o<0)r.scrollTop=e;else{var s=(e-t.scrollTop)/o/.1;setTimeout(function(){r.scrollTop+=s,r.scrollTop!==e&&n.scrollTo(r,e,o-10)},10)}}}}},function(t,e,n){"use strict";t.exports=function(n,i){return function(){for(var t=new Array(arguments.length),e=0;e<t.length;e++)t[e]=arguments[e];return n.apply(i,t)}}},function(t,e,d){"use strict";var f=d(4),p=d(201),v=d(203),g=d(204),m=d(205),y=d(78),w="undefined"!=typeof window&&window.btoa&&window.btoa.bind(window)||d(206);t.exports=function(h){return new Promise(function(n,i){var r=h.data,o=h.headers;f.isFormData(r)&&delete o["Content-Type"];var s=new XMLHttpRequest,t="onreadystatechange",a=!1;if("undefined"==typeof window||!window.XDomainRequest||"withCredentials"in s||m(h.url)||(s=new window.XDomainRequest,t="onload",a=!0,s.onprogress=function(){},s.ontimeout=function(){}),h.auth){var e=h.auth.username||"",l=h.auth.password||"";o.Authorization="Basic "+w(e+":"+l)}if(s.open(h.method.toUpperCase(),v(h.url,h.params,h.paramsSerializer),!0),s.timeout=h.timeout,s[t]=function(){if(s&&(4===s.readyState||a)&&(0!==s.status||s.responseURL&&0===s.responseURL.indexOf("file:"))){var t="getAllResponseHeaders"in s?g(s.getAllResponseHeaders()):null,e={data:h.responseType&&"text"!==h.responseType?s.response:s.responseText,status:1223===s.status?204:s.status,statusText:1223===s.status?"No Content":s.statusText,headers:t,config:h,request:s};p(n,i,e),s=null}},s.onerror=function(){i(y("Network Error",h,null,s)),s=null},s.ontimeout=function(){i(y("timeout of "+h.timeout+"ms exceeded",h,"ECONNABORTED",s)),s=null},f.isStandardBrowserEnv()){var c=d(207),u=(h.withCredentials||m(h.url))&&h.xsrfCookieName?c.read(h.xsrfCookieName):void 0;u&&(o[h.xsrfHeaderName]=u)}if("setRequestHeader"in s&&f.forEach(o,function(t,e){void 0===r&&"content-type"===e.toLowerCase()?delete o[e]:s.setRequestHeader(e,t)}),h.withCredentials&&(s.withCredentials=!0),h.responseType)try{s.responseType=h.responseType}catch(n){if("json"!==h.responseType)throw n}"function"==typeof h.onDownloadProgress&&s.addEventListener("progress",h.onDownloadProgress),"function"==typeof h.onUploadProgress&&s.upload&&s.upload.addEventListener("progress",h.onUploadProgress),h.cancelToken&&h.cancelToken.promise.then(function(t){s&&(s.abort(),i(t),s=null)}),void 0===r&&(r=null),s.send(r)})}},function(t,e,n){"use strict";var s=n(202);t.exports=function(t,e,n,i,r){var o=new Error(t);return s(o,e,n,i,r)}},function(t,e,n){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},function(t,e,n){"use strict";function i(t){this.message=t}i.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},i.prototype.__CANCEL__=!0,t.exports=i},function(t,e,n){n(27),n(28),n(40),n(90),n(97),n(98),t.exports=n(2).Promise},function(t,e,n){var l=n(29),c=n(30);t.exports=function(a){return function(t,e){var n,i,r=String(c(t)),o=l(e),s=r.length;return o<0||s<=o?a?"":void 0:(n=r.charCodeAt(o))<55296||56319<n||o+1===s||(i=r.charCodeAt(o+1))<56320||57343<i?a?r.charAt(o):n:a?r.slice(o,o+2):i-56320+(n-55296<<10)+65536}}},function(t,e,n){"use strict";var i=n(34),r=n(22),o=n(19),s={};n(9)(s,n(1)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=i(s,{next:r(1,n)}),o(t,e+" Iterator")}},function(t,e,n){var s=n(6),a=n(10),l=n(17);t.exports=n(8)?Object.defineProperties:function(t,e){a(t);for(var n,i=l(e),r=i.length,o=0;o<r;)s.f(t,n=i[o++],e[n]);return t}},function(t,e,n){var l=n(14),c=n(36),u=n(86);t.exports=function(a){return function(t,e,n){var i,r=l(t),o=c(r.length),s=u(n,o);if(a&&e!=e){for(;s<o;)if((i=r[s++])!=i)return!0}else for(;s<o;s++)if((a||s in r)&&r[s]===e)return a||s||0;return!a&&-1}}},function(t,e,n){var i=n(29),r=Math.max,o=Math.min;t.exports=function(t,e){return(t=i(t))<0?r(t+e,0):o(t,e)}},function(t,e,n){var i=n(13),r=n(24),o=n(37)("IE_PROTO"),s=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=r(t),i(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?s:null}},function(t,e,n){"use strict";var i=n(89),r=n(59),o=n(16),s=n(14);t.exports=n(31)(Array,"Array",function(t,e){this._t=s(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,r(1)):r(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},function(t,e){t.exports=function(){}},function(t,e,n){"use strict";function i(){}function u(t){var e;return!(!g(t)||"function"!=typeof(e=t.then))&&e}function r(c,e){if(!c._n){c._n=!0;var n=c._c;T(function(){for(var a=c._v,l=1==c._s,t=0;n.length>t;)!function(t){var e,n,i=l?t.ok:t.fail,r=t.resolve,o=t.reject,s=t.domain;try{i?(l||(2==c._h&&M(c),c._h=1),!0===i?e=a:(s&&s.enter(),e=i(a),s&&s.exit()),e===t.promise?o(C("Promise-chain cycle")):(n=u(e))?n.call(e,r,o):r(e)):o(a)}catch(t){o(t)}}(n[t++]);c._c=[],c._n=!1,e&&!c._h&&A(c)})}}function o(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),r(e,!0))}var s,a,l,c,h=n(21),d=n(0),f=n(11),p=n(41),v=n(5),g=n(7),m=n(15),y=n(42),w=n(20),_=n(60),x=n(61).set,T=n(95)(),b=n(43),S=n(62),P=n(63),C=d.TypeError,E=d.process,R=d.Promise,k="process"==p(E),O=a=b.f,I=!!function(){try{var t=R.resolve(1),e=(t.constructor={})[n(1)("species")]=function(t){t(i,i)};return(k||"function"==typeof PromiseRejectionEvent)&&t.then(i)instanceof e}catch(t){}}(),A=function(o){x.call(d,function(){var t,e,n,i=o._v,r=$(o);if(r&&(t=S(function(){k?E.emit("unhandledRejection",i,o):(e=d.onunhandledrejection)?e({promise:o,reason:i}):(n=d.console)&&n.error&&n.error("Unhandled promise rejection",i)}),o._h=k||$(o)?2:1),o._a=void 0,r&&t.e)throw t.v})},$=function(t){if(1==t._h)return!1;for(var e,n=t._a||t._c,i=0;n.length>i;)if((e=n[i++]).fail||!$(e.promise))return!1;return!0},M=function(e){x.call(d,function(){var t;k?E.emit("rejectionHandled",e):(t=d.onrejectionhandled)&&t({promise:e,reason:e._v})})},D=function(t){var n,i=this;if(!i._d){i._d=!0,i=i._w||i;try{if(i===t)throw C("Promise can't be resolved itself");(n=u(t))?T(function(){var e={_w:i,_d:!1};try{n.call(t,f(D,e,1),f(o,e,1))}catch(t){o.call(e,t)}}):(i._v=t,i._s=1,r(i,!1))}catch(t){o.call({_w:i,_d:!1},t)}}};I||(R=function(t){y(this,R,"Promise","_h"),m(t),s.call(this);try{t(f(D,this,1),f(o,this,1))}catch(t){o.call(this,t)}},(s=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(44)(R.prototype,{then:function(t,e){var n=O(_(this,R));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=k?E.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&r(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),l=function(){var t=new s;this.promise=t,this.resolve=f(D,t,1),this.reject=f(o,t,1)},b.f=O=function(t){return t===R||t===c?new l(t):a(t)}),v(v.G+v.W+v.F*!I,{Promise:R}),n(19)(R,"Promise"),n(64)("Promise"),c=n(2).Promise,v(v.S+v.F*!I,"Promise",{reject:function(t){var e=O(this);return(0,e.reject)(t),e.promise}}),v(v.S+v.F*(h||!I),"Promise",{resolve:function(t){return P(h&&this===c?R:this,t)}}),v(v.S+v.F*!(I&&n(96)(function(t){R.all(t).catch(i)})),"Promise",{all:function(t){var s=this,e=O(s),a=e.resolve,l=e.reject,n=S(function(){var i=[],r=0,o=1;w(t,!1,function(t){var e=r++,n=!1;i.push(void 0),o++,s.resolve(t).then(function(t){n||(n=!0,i[e]=t,--o||a(i))},l)}),--o||a(i)});return n.e&&l(n.v),e.promise},race:function(t){var e=this,n=O(e),i=n.reject,r=S(function(){w(t,!1,function(t){e.resolve(t).then(n.resolve,i)})});return r.e&&i(r.v),n.promise}})},function(t,e,n){var o=n(10);t.exports=function(t,e,n,i){try{return i?e(o(n)[0],n[1]):e(n)}catch(e){var r=t.return;throw void 0!==r&&o(r.call(t)),e}}},function(t,e,n){var i=n(16),r=n(1)("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||o[r]===t)}},function(t,e,n){var i=n(41),r=n(1)("iterator"),o=n(16);t.exports=n(2).getIteratorMethod=function(t){if(null!=t)return t[r]||t["@@iterator"]||o[i(t)]}},function(t,e){t.exports=function(t,e,n){var i=void 0===n;switch(e.length){case 0:return i?t():t.call(n);case 1:return i?t(e[0]):t.call(n,e[0]);case 2:return i?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return i?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return i?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},function(t,e,n){var a=n(0),l=n(61).set,c=a.MutationObserver||a.WebKitMutationObserver,u=a.process,h=a.Promise,d="process"==n(18)(u);t.exports=function(){function t(){var t,e;for(d&&(t=u.domain)&&t.exit();n;){e=n.fn,n=n.next;try{e()}catch(t){throw n?r():i=void 0,t}}i=void 0,t&&t.enter()}var n,i,r;if(d)r=function(){u.nextTick(t)};else if(c){var e=!0,o=document.createTextNode("");new c(t).observe(o,{characterData:!0}),r=function(){o.data=e=!e}}else if(h&&h.resolve){var s=h.resolve();r=function(){s.then(t)}}else r=function(){l.call(a,t)};return function(t){var e={fn:t,next:void 0};i&&(i.next=e),n||(n=e,r()),i=e}}},function(t,e,n){var o=n(1)("iterator"),s=!1;try{var i=[7][o]();i.return=function(){s=!0},Array.from(i,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!s)return!1;var n=!1;try{var i=[7],r=i[o]();r.next=function(){return{done:n=!0}},i[o]=function(){return r},t(i)}catch(t){}return n}},function(t,e,n){"use strict";var i=n(5),r=n(2),o=n(0),s=n(60),a=n(63);i(i.P+i.R,"Promise",{finally:function(e){var n=s(this,r.Promise||o.Promise),t="function"==typeof e;return this.then(t?function(t){return a(n,e()).then(function(){return t})}:e,t?function(t){return a(n,e()).then(function(){throw t})}:e)}})},function(t,e,n){"use strict";var i=n(5),r=n(43),o=n(62);i(i.S,"Promise",{try:function(t){var e=r.f(this),n=o(t);return(n.e?e.reject:e.resolve)(n.v),e.promise}})},function(t,e,n){var i=n(2),r=i.JSON||(i.JSON={stringify:JSON.stringify});t.exports=function(t){return r.stringify.apply(r,arguments)}},function(t,e,n){t.exports={default:n(101),__esModule:!0}},function(t,e,n){n(27),n(28),n(40),n(102),n(108),n(111),n(113),t.exports=n(2).Set},function(t,e,n){"use strict";var i=n(103),r=n(66);t.exports=n(104)("Set",function(t){return function(){return t(this,0<arguments.length?arguments[0]:void 0)}},{add:function(t){return i.def(r(this,"Set"),t=0===t?0:t,t)}},i)},function(t,e,n){"use strict";function s(t,e){var n,i=p(e);if("F"!==i)return t._i[i];for(n=t._f;n;n=n.n)if(n.k==e)return n}var a=n(6).f,l=n(34),c=n(44),u=n(11),h=n(42),d=n(20),i=n(31),r=n(59),o=n(64),f=n(8),p=n(45).fastKey,v=n(66),g=f?"_s":"size";t.exports={getConstructor:function(t,o,n,i){var r=t(function(t,e){h(t,r,o,"_i"),t._t=o,t._i=l(null),t._f=void 0,t._l=void 0,t[g]=0,null!=e&&d(e,n,t[i],t)});return c(r.prototype,{clear:function(){for(var t=v(this,o),e=t._i,n=t._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete e[n.i];t._f=t._l=void 0,t[g]=0},delete:function(t){var e=v(this,o),n=s(e,t);if(n){var i=n.n,r=n.p;delete e._i[n.i],n.r=!0,r&&(r.n=i),i&&(i.p=r),e._f==n&&(e._f=i),e._l==n&&(e._l=r),e[g]--}return!!n},forEach:function(t){v(this,o);for(var e,n=u(t,1<arguments.length?arguments[1]:void 0,3);e=e?e.n:this._f;)for(n(e.v,e.k,this);e&&e.r;)e=e.p},has:function(t){return!!s(v(this,o),t)}}),f&&a(r.prototype,"size",{get:function(){return v(this,o)[g]}}),r},def:function(t,e,n){var i,r,o=s(t,e);return o?o.v=n:(t._l=o={i:r=p(e,!0),k:e,v:n,p:i=t._l,n:void 0,r:!1},t._f||(t._f=o),i&&(i.n=o),t[g]++,"F"!==r&&(t._i[r]=o)),t},getEntry:s,setStrong:function(t,n,e){i(t,n,function(t,e){this._t=v(t,n),this._k=e,this._l=void 0},function(){for(var t=this,e=t._k,n=t._l;n&&n.r;)n=n.p;return t._t&&(t._l=n=n?n.n:t._t._f)?r(0,"keys"==e?n.k:"values"==e?n.v:[n.k,n.v]):(t._t=void 0,r(1))},e?"entries":"values",!e,!0),o(n)}}},function(t,e,n){"use strict";var h=n(0),d=n(5),f=n(45),p=n(12),v=n(9),g=n(44),m=n(20),y=n(42),w=n(7),_=n(19),x=n(6).f,T=n(105)(0),b=n(8);t.exports=function(n,t,e,i,r,o){var s=h[n],a=s,l=r?"set":"add",c=a&&a.prototype,u={};return b&&"function"==typeof a&&(o||c.forEach&&!p(function(){(new a).entries().next()}))?(a=t(function(t,e){y(t,a,n,"_c"),t._c=new s,null!=e&&m(e,r,t[l],t)}),T("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),function(i){var r="add"==i||"set"==i;i in c&&(!o||"clear"!=i)&&v(a.prototype,i,function(t,e){if(y(this,a,i),!r&&o&&!w(t))return"get"==i&&void 0;var n=this._c[i](0===t?0:t,e);return r?this:n})}),o||x(a.prototype,"size",{get:function(){return this._c.size}})):(a=i.getConstructor(t,n,r,l),g(a.prototype,e),f.NEED=!0),_(a,n),u[n]=a,d(d.G+d.W+d.F,u),o||i.setStrong(a,n,r),a}},function(t,e,n){var w=n(11),_=n(35),x=n(24),T=n(36),i=n(106);t.exports=function(h,t){var d=1==h,f=2==h,p=3==h,v=4==h,g=6==h,m=5==h||g,y=t||i;return function(t,e,n){for(var i,r,o=x(t),s=_(o),a=w(e,n,3),l=T(s.length),c=0,u=d?y(t,l):f?y(t,0):void 0;c<l;c++)if((m||c in s)&&(r=a(i=s[c],c,o),h))if(d)u[c]=r;else if(r)switch(h){case 3:return!0;case 5:return i;case 6:return c;case 2:u.push(i)}else if(v)return!1;return g?-1:p||v?v:u}}},function(t,e,n){var i=n(107);t.exports=function(t,e){return new(i(t))(e)}},function(t,e,n){var i=n(7),r=n(67),o=n(1)("species");t.exports=function(t){var e;return r(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!r(e.prototype)||(e=void 0),i(e)&&null===(e=e[o])&&(e=void 0)),void 0===e?Array:e}},function(t,e,n){var i=n(5);i(i.P+i.R,"Set",{toJSON:n(109)("Set")})},function(t,e,n){var i=n(41),r=n(110);t.exports=function(t){return function(){if(i(this)!=t)throw TypeError(t+"#toJSON isn't generic");return r(this)}}},function(t,e,n){var i=n(20);t.exports=function(t,e){var n=[];return i(t,!1,n.push,n,e),n}},function(t,e,n){n(112)("Set")},function(t,e,n){"use strict";var i=n(5);t.exports=function(t){i(i.S,t,{of:function(){for(var t=arguments.length,e=Array(t);t--;)e[t]=arguments[t];return new this(e)}})}},function(t,e,n){n(114)("Set")},function(t,e,n){"use strict";var i=n(5),s=n(15),a=n(11),l=n(20);t.exports=function(t){i(i.S,t,{from:function(t){var e,n,i,r,o=arguments[1];return s(this),(e=void 0!==o)&&s(o),null==t?new this:(n=[],e?(i=0,r=a(o,arguments[2],2),l(t,!1,function(t){n.push(r(t,i++))})):l(t,!1,n.push,n),new this(n))}})}},function(t,e,n){t.exports={default:n(116),__esModule:!0}},function(t,e,n){n(117),t.exports=n(2).Object.assign},function(t,e,n){var i=n(5);i(i.S+i.F,"Object",{assign:n(118)})},function(t,e,n){"use strict";var d=n(17),f=n(46),p=n(25),v=n(24),g=n(35),r=Object.assign;t.exports=!r||n(12)(function(){var t={},e={},n=Symbol(),i="abcdefghijklmnopqrst";return t[n]=7,i.split("").forEach(function(t){e[t]=t}),7!=r({},t)[n]||Object.keys(r({},e)).join("")!=i})?function(t,e){for(var n=v(t),i=arguments.length,r=1,o=f.f,s=p.f;r<i;)for(var a,l=g(arguments[r++]),c=o?d(l).concat(o(l)):d(l),u=c.length,h=0;h<u;)s.call(l,a=c[h++])&&(n[a]=l[a]);return n}:r},function(t,e,n){n(120),t.exports=n(2).Object.keys},function(t,e,n){var i=n(24),r=n(17);n(121)("keys",function(){return function(t){return r(i(t))}})},function(t,e,n){var r=n(5),o=n(2),s=n(12);t.exports=function(t,e){var n=(o.Object||{})[t]||Object[t],i={};i[t]=e(n),r(r.S+r.F*s(function(){n(1)}),"Object",i)}},function(t,e,n){t.exports={default:n(123),__esModule:!0}},function(t,e,n){n(28),n(40),t.exports=n(48).f("iterator")},function(t,e,n){t.exports={default:n(125),__esModule:!0}},function(t,e,n){n(126),n(27),n(130),n(131),t.exports=n(2).Symbol},function(t,e,n){"use strict";function i(t){var e=V[t]=R(L.prototype);return e._k=t,e}function r(t,e){S(t);for(var n,i=T(e=P(e)),r=0,o=i.length;r<o;)Y(t,n=i[r++],e[n]);return t}function o(t){var e=z.call(this,t=C(t,!0));return!(this===W&&u(V,t)&&!u(U,t))&&(!(e||!u(this,t)||!u(V,t)||u(this,H)&&this[H][t])||e)}function s(t,e){if(t=P(t),e=C(e,!0),t!==W||!u(V,e)||u(U,e)){var n=$(t,e);return!n||!u(V,e)||u(t,H)&&t[H][e]||(n.enumerable=!0),n}}function a(t){for(var e,n=D(P(t)),i=[],r=0;n.length>r;)u(V,e=n[r++])||e==H||e==p||i.push(e);return i}function l(t){for(var e,n=t===W,i=D(n?U:P(t)),r=[],o=0;i.length>o;)!u(V,e=i[o++])||n&&!u(W,e)||r.push(V[e]);return r}var c=n(0),u=n(13),h=n(8),d=n(5),f=n(56),p=n(45).KEY,v=n(12),g=n(38),m=n(19),y=n(23),w=n(1),_=n(48),x=n(49),T=n(127),b=n(67),S=n(10),P=n(14),C=n(33),E=n(22),R=n(34),k=n(128),O=n(129),I=n(6),A=n(17),$=O.f,M=I.f,D=k.f,L=c.Symbol,B=c.JSON,F=B&&B.stringify,H=w("_hidden"),N=w("toPrimitive"),z={}.propertyIsEnumerable,j=g("symbol-registry"),V=g("symbols"),U=g("op-symbols"),W=Object.prototype,q="function"==typeof L,G=c.QObject,Z=!G||!G.prototype||!G.prototype.findChild,X=h&&v(function(){return 7!=R(M({},"a",{get:function(){return M(this,"a",{value:7}).a}})).a})?function(t,e,n){var i=$(W,e);i&&delete W[e],M(t,e,n),i&&t!==W&&M(W,e,i)}:M,K=q&&"symbol"==typeof L.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof L},Y=function(t,e,n){return t===W&&Y(U,e,n),S(t),e=C(e,!0),S(n),u(V,e)?(n.enumerable?(u(t,H)&&t[H][e]&&(t[H][e]=!1),n=R(n,{enumerable:E(0,!1)})):(u(t,H)||M(t,H,E(1,{})),t[H][e]=!0),X(t,e,n)):M(t,e,n)};q||(f((L=function(){if(this instanceof L)throw TypeError("Symbol is not a constructor!");var e=y(0<arguments.length?arguments[0]:void 0),n=function(t){this===W&&n.call(U,t),u(this,H)&&u(this[H],e)&&(this[H][e]=!1),X(this,e,E(1,t))};return h&&Z&&X(W,e,{configurable:!0,set:n}),i(e)}).prototype,"toString",function(){return this._k}),O.f=s,I.f=Y,n(69).f=k.f=a,n(25).f=o,n(46).f=l,h&&!n(21)&&f(W,"propertyIsEnumerable",o,!0),_.f=function(t){return i(w(t))}),d(d.G+d.W+d.F*!q,{Symbol:L});for(var J="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),Q=0;J.length>Q;)w(J[Q++]);for(var tt=A(w.store),et=0;tt.length>et;)x(tt[et++]);d(d.S+d.F*!q,"Symbol",{for:function(t){return u(j,t+="")?j[t]:j[t]=L(t)},keyFor:function(t){if(!K(t))throw TypeError(t+" is not a symbol!");for(var e in j)if(j[e]===t)return e},useSetter:function(){Z=!0},useSimple:function(){Z=!1}}),d(d.S+d.F*!q,"Object",{create:function(t,e){return void 0===e?R(t):r(R(t),e)},defineProperty:Y,defineProperties:r,getOwnPropertyDescriptor:s,getOwnPropertyNames:a,getOwnPropertySymbols:l}),B&&d(d.S+d.F*(!q||v(function(){var t=L();return"[null]"!=F([t])||"{}"!=F({a:t})||"{}"!=F(Object(t))})),"JSON",{stringify:function(t){if(void 0!==t&&!K(t)){for(var e,n,i=[t],r=1;r<arguments.length;)i.push(arguments[r++]);return"function"==typeof(e=i[1])&&(n=e),!n&&b(e)||(e=function(t,e){if(n&&(e=n.call(this,t,e)),!K(e))return e}),i[1]=e,F.apply(B,i)}}}),L.prototype[N]||n(9)(L.prototype,N,L.prototype.valueOf),m(L,"Symbol"),m(Math,"Math",!0),m(c.JSON,"JSON",!0)},function(t,e,n){var a=n(17),l=n(46),c=n(25);t.exports=function(t){var e=a(t),n=l.f;if(n)for(var i,r=n(t),o=c.f,s=0;r.length>s;)o.call(t,i=r[s++])&&e.push(i);return e}},function(t,e,n){var i=n(14),r=n(69).f,o={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return s&&"[object Window]"==o.call(t)?function(t){try{return r(t)}catch(t){return s.slice()}}(t):r(i(t))}},function(t,e,n){var i=n(25),r=n(22),o=n(14),s=n(33),a=n(13),l=n(55),c=Object.getOwnPropertyDescriptor;e.f=n(8)?c:function(t,e){if(t=o(t),e=s(e,!0),l)try{return c(t,e)}catch(t){}if(a(t,e))return r(!i.f.call(t,e),t[e])}},function(t,e,n){n(49)("asyncIterator")},function(t,e,n){n(49)("observable")},function(t,e,n){(function(t,p){!function(n,i){"use strict";function r(t){delete l[t]}function o(t){if(c)setTimeout(o,0,t);else{var e=l[t];if(e){c=!0;try{!function(t){var e=t.callback,n=t.args;switch(n.length){case 0:e();break;case 1:e(n[0]);break;case 2:e(n[0],n[1]);break;case 3:e(n[0],n[1],n[2]);break;default:e.apply(i,n)}}(e)}finally{r(t),c=!1}}}}if(!n.setImmediate){var s,a=1,l={},c=!1,u=n.document,t=Object.getPrototypeOf&&Object.getPrototypeOf(n);t=t&&t.setTimeout?t:n,"[object process]"==={}.toString.call(n.process)?s=function(t){p.nextTick(function(){o(t)})}:function(){if(n.postMessage&&!n.importScripts){var t=!0,e=n.onmessage;return n.onmessage=function(){t=!1},n.postMessage("","*"),n.onmessage=e,t}}()?(d="setImmediate$"+Math.random()+"$",n.addEventListener?n.addEventListener("message",f,!1):n.attachEvent("onmessage",f),s=function(t){n.postMessage(d+t,"*")}):n.MessageChannel?((e=new MessageChannel).port1.onmessage=function(t){o(t.data)},s=function(t){e.port2.postMessage(t)}):u&&"onreadystatechange"in u.createElement("script")?(h=u.documentElement,s=function(t){var e=u.createElement("script");e.onreadystatechange=function(){o(t),e.onreadystatechange=null,h.removeChild(e),e=null},h.appendChild(e)}):s=function(t){setTimeout(o,0,t)},t.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var i={callback:t,args:e};return l[a]=i,s(a),a++},t.clearImmediate=r}var h,e,d;function f(t){t.source===n&&"string"==typeof t.data&&0===t.data.indexOf(d)&&o(+t.data.slice(d.length))}}("undefined"==typeof self?void 0===t?this:t:self)}).call(e,n(70),n(72))},function(t,e,n){"use strict";function i(t){n(134)}var r=n(135),o=n(186),s=n(3)(r.a,o.a,!1,i,null,null);e.a=s.exports},function(t,e){},function(t,e,n){"use strict";var i=n(136),r=n(142),o=n(147),s=n(150),a=n(153),l=n(159),c=n(180),u=n(183);e.a={components:{AppHeader:i.a,Export:r.a,Help:s.a,Info:a.a,Scan:l.a,Thumbnails:c.a,Toc:u.a,Fulltext:o.a},computed:{hasOtherContent:function(){return this.$root.canvases.some(function(t){return"otherContent"in t})},hasToc:function(){return!(!this.$root.manifest.structures||!this.$root.manifest.structures.length)}}}},function(t,e,n){"use strict";var i=n(137),r=n(141),o=n(3)(i.a,r.a,!1,null,null,null);e.a=o.exports},function(t,e,n){"use strict";var i=n(138),r=n(50),o=n.n(r),s=n(73),a=n.n(s);e.a={components:{PageSelect:i.a},mixins:[o.a,a.a],props:["fulltextEnabled","tocEnabled"],data:function(){return{controlsVisible:!1,sections:[]}},computed:{isLastSection:function(){var t=this.$root.params.pages,e=t.length-1;return(t[e]?t[e]:t[e-1])>=this.sections[this.sections.length-1].firstPage},structures:function(){return this.$root.manifest.structures},titles:function(){return this.$root.iiifConvertToArray(this.$root.manifest.label)}},methods:{closeControlsPopup:function(){this.controlsVisible=!1},goToNextSection:function(){for(var t=this.$root.params.pages,e=t.length-1,n=t[e]?t[e]:t[e-1],i=0;n>=this.sections[i].firstPage||n&&n>=this.sections[i].firstPage;)i+=1;this.$root.setPage(this.sections[i].firstPage)},goToPreviousSection:function(){for(var t=this.$root.params.pages,e=t[0]?t[0]:t[1],n=this.sections.length-1;e<=this.sections[n].firstPage||e&&e<=this.sections[n].firstPage;)n-=1;this.$root.setPage(this.sections[n].firstPage)},toggleControlsPopup:function(){this.controlsVisible=!this.controlsVisible},toggleDoublePage:function(){var t=this.$root.params.pages,e=void 0;if(1<t.length)e=[t[0]<1?1:t[0]];else if(t[0]<2)e=[0,1];else if(0<t[0]%2)e=[t[0]-1,t[0]];else{var n=t[0]<this.$root.pageCount?t[0]+1:0;e=[t[0],n]}this.$root.updateParams({pages:e})},toggleView:function(t){var e=t!==this.$root.params.view||this.$root.isMobile()?t:"";this.$root.updateParams({view:e})}},created:function(){var o=this;if(this.structures){var s=[];this.structures.forEach(function(t){if(t.canvases){var e=t.canvases[0],n=o.$root.canvases.findIndex(function(t){return t["@id"]===e})+1,i=t.canvases[t.canvases.length-1],r=o.$root.canvases.findIndex(function(t){return t["@id"]===i})+1;s.push({firstPage:n,lastPage:r})}else s.push({firstPage:1,lastPage:o.$root.pageCount})}),this.sections=s}},mounted:function(){var n=this;window.addEventListener("keydown",function(t){if(!n.preventKeyboardEvent(t)){if("Escape"===t.key)return void(n.controlsVisible=!1);switch(t.key){case"Backspace":n.$refs.switchViewSmall.offsetParent&&n.toggleView("scan");break;case"1":n.fulltextEnabled&&n.toggleView("fulltext");break;case"2":n.toggleView("thumbnails");break;case"3":n.tocEnabled&&n.toggleView("toc");break;case"4":n.toggleView("info");break;case"5":n.toggleView("export");break;case"6":n.toggleView("help");break;case"b":n.toggleDoublePage()}if(!n.customPageViewActive){var e=n.$root.params.pages;switch(t.key){case"q":case",":1<e[0]&&n.goToPreviousPage();break;case"e":case".":n.isLastPage||n.goToNextPage();break;case"Q":1<e[0]&&n.goToFirstPage();break;case"E":n.isLastPage||n.goToLastPage()}}}})}}},function(t,e,n){"use strict";var i=n(139),r=n(140),o=n(3)(i.a,r.a,!1,null,null,null);e.a=o.exports},function(t,e,n){"use strict";var i=n(50),r=n.n(i);e.a={mixins:[r.a],data:function(){return{filter:"",filteredCanvases:[],highlightIndex:0,isOpen:!1}},computed:{pageTitleAttr:function(){var t=this.$root.params.pages,e=0===t[0]&&1<t.length?1:t[0];return this.$options.filters.trans("Physical page")+": "+e+"\n"+this.$options.filters.trans("Logical page")+": "+this.$root.iiifConvertToArray(this.$root.canvases[e-1].label)[0]}},watch:{filter:function(){this.updateFilteredCanvases()},highlightIndex:function(){var t=this;this.$nextTick(function(){return t.updateScroll()})},isOpen:function(){this.isOpen||(this.filter="",this.highlightIndex=this.$root.params.pages[0]-1)}},methods:{setPage:function(t){this.closeDropdown(),this.$root.setPage(t),this.$root.isMobile()&&this.$root.updateParams({view:"scan"})},toggleDropdown:function(){var t=this;this.isOpen=!this.isOpen,this.isOpen&&this.$nextTick(function(){t.$refs.search.focus(),t.updateScroll()})},closeDropdown:function(){this.isOpen=!1},updateFilteredCanvases:function(){var o=this,s=[],a=this.filter.toLowerCase(),l=-1;this.$root.canvases.forEach(function(t,e){var n=-1<o.$root.iiifConvertToArray(t.label)[0].toLowerCase().indexOf(a),i=-1<(e+1).toFixed().indexOf(a);if(n||i){var r=t;r.page=e+1,r.page===o.$root.params.pages[0]&&(l=s.length),s.push(r)}}),this.highlightIndex=l<0?0:l,this.filteredCanvases=s},updateScroll:function(){var t=this.$refs.list;if(t.children[this.highlightIndex]){var e=t.children[this.highlightIndex].offsetTop;t.scrollTop=e-(t.offsetHeight/2-t.children[0].offsetHeight)}}},mounted:function(){var e=this;this.updateFilteredCanvases(),window.addEventListener("keydown",function(t){if(!e.preventKeyboardEvent(t))return"Escape"===t.key?void e.closeDropdown():void("x"===t.key&&(e.toggleDropdown(),t.preventDefault()))})}}},function(t,e,n){"use strict";var i={render:function(){var n=this,t=n.$createElement,i=n._self._c||t;return i("div",{staticClass:"tify-page-select"},[i("button",{directives:[{name:"click-outside",rawName:"v-click-outside",value:n.closeDropdown,expression:"closeDropdown"}],staticClass:"tify-page-select_button",attrs:{title:n.pageTitleAttr},on:{click:n.toggleDropdown}},[i("span",{staticClass:"tify-sr-only"},[n._v(n._s(n._f("trans")("Current page")))]),n._v("\n\t\t"+n._s(n.$root.params.pages[0]||1)+"\n\t\t:\n\t\t"+n._s(n.$root.iiifConvertToArray(n.$root.canvases[n.$root.params.pages[0]?n.$root.params.pages[0]-1:0].label)[0])+"\n\t")]),n._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:n.isOpen,expression:"isOpen"}],key:"dropdown",staticClass:"tify-page-select_dropdown",on:{click:function(t){t.stopPropagation()}}},[i("div",{staticClass:"tify-page-select_filter"},[i("label",{staticClass:"tify-sr-only"},[n._v(n._s("Filter pages"))]),n._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:n.filter,expression:"filter"}],ref:"search",staticClass:"tify-page-select_input",attrs:{type:"text"},domProps:{value:n.filter},on:{keyup:function(t){if(!("button"in t)&&n._k(t.keyCode,"enter",13,t.key))return null;n.filteredCanvases[n.highlightIndex]&&n.setPage(n.filteredCanvases[n.highlightIndex].page)},keydown:[function(t){if(!("button"in t)&&n._k(t.keyCode,"esc",27,t.key))return null;t.preventDefault(),n.filter?n.filter="":n.closeDropdown()},function(t){if(!("button"in t)&&n._k(t.keyCode,"up",38,t.key))return null;t.preventDefault(),0<n.highlightIndex&&(n.highlightIndex-=1)},function(t){if(!("button"in t)&&n._k(t.keyCode,"down",40,t.key))return null;t.preventDefault(),n.highlightIndex<n.filteredCanvases.length-1&&(n.highlightIndex+=1)}],input:function(t){t.target.composing||(n.filter=t.target.value)}}})]),n._v(" "),i("ol",{ref:"list",staticClass:"tify-page-select_list"},n._l(n.filteredCanvases,function(e,t){return i("li",{class:{"-current":-1<n.$root.params.pages.indexOf(e.page),"-highlighted":n.highlightIndex===t},on:{click:function(t){n.setPage(e.page)}}},[n._v("\n\t\t\t\t"+n._s(e.page)+"\n\t\t\t\t:\n\t\t\t\t"+n._s(n.$root.iiifConvertToArray(e.label)[0])+"\n\t\t\t")])}))])])},staticRenderFns:[]};e.a=i},function(t,e,n){"use strict";var i={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("header",{staticClass:"tify-header"},[n("div",{staticClass:"tify-header_column -title"},[n("h1",{staticClass:"tify-header_title",attrs:{title:e.titles.join(", ")}},[e._v("\n\t\t\t"+e._s(e.titles.join(", "))+"\n\t\t")])]),e._v(" "),n("div",{staticClass:"tify-header_column -views"},[n("div",{ref:"switchViewSmall",staticClass:"tify-header_button-group -toggle"},[n("button",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.closeControlsPopup,expression:"closeControlsPopup"}],staticClass:"tify-header_button",on:{click:e.toggleControlsPopup}},[n("icon",{attrs:{name:"menu"}}),e._v("\n\t\t\t\t"+e._s(e._f("trans")("View"))+"\n\t\t\t")],1)]),e._v(" "),n("div",{staticClass:"tify-header_button-group -view",class:{"-visible":e.controlsVisible}},[n("button",{staticClass:"tify-header_button -scan",class:{"-active":"scan"===e.$root.params.view},on:{click:function(t){e.toggleView("scan")}}},[n("icon",{attrs:{name:"photo"}}),e._v("\n\t\t\t\t"+e._s(e._f("trans")("Scan"))+"\n\t\t\t")],1),e._v(" "),e.fulltextEnabled?n("button",{staticClass:"tify-header_button",class:{"-active":"fulltext"===e.$root.params.view},on:{click:function(t){e.toggleView("fulltext")}}},[n("icon",{attrs:{name:"subject"}}),e._v("\n\t\t\t\t"+e._s(e._f("trans")("Fulltext"))+"\n\t\t\t")],1):e._e(),e._v(" "),n("button",{staticClass:"tify-header_button",class:{"-active":"thumbnails"===e.$root.params.view},on:{click:function(t){e.toggleView("thumbnails")}}},[n("icon",{attrs:{name:"view_module"}}),e._v("\n\t\t\t\t"+e._s(e._f("trans")("Pages"))+"\n\t\t\t")],1),e._v(" "),e.tocEnabled?n("button",{staticClass:"tify-header_button",class:{"-active":"toc"===e.$root.params.view},on:{click:function(t){e.toggleView("toc")}}},[n("icon",{attrs:{name:"toc"}}),e._v("\n\t\t\t\t"+e._s(e._f("trans")("Contents"))+"\n\t\t\t")],1):e._e(),e._v(" "),n("button",{staticClass:"tify-header_button",class:{"-active":"info"===e.$root.params.view},on:{click:function(t){e.toggleView("info")}}},[n("icon",{attrs:{name:"info_outline"}}),e._v("\n\t\t\t\t"+e._s(e._f("trans")("Info"))+"\n\t\t\t")],1),e._v(" "),n("button",{staticClass:"tify-header_button",class:{"-active":"export"===e.$root.params.view},on:{click:function(t){e.toggleView("export")}}},[n("icon",{attrs:{name:"file_download"}}),e._v("\n\t\t\t\t"+e._s(e._f("trans")("Export"))+"\n\t\t\t")],1),e._v(" "),n("div",{staticClass:"tify-header_button-group -popup"},[n("button",{staticClass:"tify-header_button",attrs:{disabled:e.customPageViewActive||e.isFirstPage,title:e._f("trans")("First page")},on:{click:e.goToFirstPage}},[n("icon",{attrs:{name:"first_page"}}),e._v(" "),n("span",{staticClass:"tify-sr-only"},[e._v(e._s(e._f("trans")("First page")))])],1),e._v(" "),e.structures&&e.structures.length?n("button",{staticClass:"tify-header_button",attrs:{disabled:e.customPageViewActive||e.isFirstPage,title:e._f("trans")("Previous section")},on:{click:e.goToPreviousSection}},[n("icon",{attrs:{name:"skip_previous"}}),e._v(" "),n("span",{staticClass:"tify-sr-only"},[e._v(e._s(e._f("trans")("Previous section")))])],1):e._e(),e._v(" "),n("button",{staticClass:"tify-header_button",attrs:{disabled:e.customPageViewActive||e.isFirstPage,title:e._f("trans")("Previous page")},on:{click:e.goToPreviousPage}},[n("icon",{attrs:{name:"navigate_before"}}),e._v(" "),n("span",{staticClass:"tify-sr-only"},[e._v(e._s(e._f("trans")("Previous page")))])],1),e._v(" "),n("button",{staticClass:"tify-header_button",attrs:{disabled:e.customPageViewActive||e.isLastPage,title:e._f("trans")("Next page")},on:{click:e.goToNextPage}},[n("icon",{attrs:{name:"navigate_next"}}),e._v(" "),n("span",{staticClass:"tify-sr-only"},[e._v(e._s(e._f("trans")("Next page")))])],1),e._v(" "),e.structures&&e.structures.length?n("button",{staticClass:"tify-header_button",attrs:{disabled:e.customPageViewActive||e.isLastSection,title:e._f("trans")("Next section")},on:{click:e.goToNextSection}},[n("icon",{attrs:{name:"skip_next"}}),e._v(" "),n("span",{staticClass:"tify-sr-only"},[e._v(e._s(e._f("trans")("Next section")))])],1):e._e(),e._v(" "),n("button",{staticClass:"tify-header_button",attrs:{disabled:e.customPageViewActive||e.isLastPage,title:e._f("trans")("Last page")},on:{click:e.goToLastPage}},[n("icon",{attrs:{name:"last_page"}}),e._v(" "),n("span",{staticClass:"tify-sr-only"},[e._v(e._s(e._f("trans")("Last page")))])],1)])])]),e._v(" "),n("div",{staticClass:"tify-header_column -pagination"},[n("div",{staticClass:"tify-header_button-group"},[n("page-select",{staticClass:"tify-header_button"}),e._v(" "),n("button",{staticClass:"tify-header_button",class:{"-active":1<e.$root.params.pages.length,"-warning":e.customPageViewActive},attrs:{title:e._f("trans")("Toggle double-page")},on:{click:e.toggleDoublePage}},[e.customPageViewActive?n("icon",{attrs:{name:"view_module"}}):n("icon",{attrs:{name:"import_contacts"}}),e._v(" "),n("span",{staticClass:"tify-sr-only"},[e._v(e._s(e._f("trans")("Toggle double-page")))])],1)],1),e._v(" "),n("div",{staticClass:"tify-header_button-group -pagination"},[n("button",{staticClass:"tify-header_button",attrs:{disabled:e.customPageViewActive||e.isFirstPage,title:e._f("trans")("First page")},on:{click:e.goToFirstPage}},[n("icon",{attrs:{name:"first_page"}}),e._v(" "),n("span",{staticClass:"tify-sr-only"},[e._v(e._s(e._f("trans")("First page")))])],1),e._v(" "),e.structures&&e.structures.length?n("button",{staticClass:"tify-header_button",attrs:{disabled:e.customPageViewActive||e.isFirstPage,title:e._f("trans")("Previous section")},on:{click:e.goToPreviousSection}},[n("icon",{attrs:{name:"skip_previous"}}),e._v(" "),n("span",{staticClass:"tify-sr-only"},[e._v(e._s(e._f("trans")("Previous section")))])],1):e._e(),e._v(" "),n("button",{staticClass:"tify-header_button",attrs:{disabled:e.customPageViewActive||e.isFirstPage,title:e._f("trans")("Previous page")},on:{click:e.goToPreviousPage}},[n("icon",{attrs:{name:"navigate_before"}}),e._v(" "),n("span",{staticClass:"tify-sr-only"},[e._v(e._s(e._f("trans")("Previous page")))])],1),e._v(" "),n("button",{staticClass:"tify-header_button",attrs:{disabled:e.customPageViewActive||e.isLastPage,title:e._f("trans")("Next page")},on:{click:e.goToNextPage}},[n("icon",{attrs:{name:"navigate_next"}}),e._v(" "),n("span",{staticClass:"tify-sr-only"},[e._v(e._s(e._f("trans")("Next page")))])],1),e._v(" "),e.structures&&e.structures.length?n("button",{staticClass:"tify-header_button",attrs:{disabled:e.customPageViewActive||e.isLastSection,title:e._f("trans")("Next section")},on:{click:e.goToNextSection}},[n("icon",{attrs:{name:"skip_next"}}),e._v(" "),n("span",{staticClass:"tify-sr-only"},[e._v(e._s(e._f("trans")("Next section")))])],1):e._e(),e._v(" "),n("button",{staticClass:"tify-header_button",attrs:{disabled:e.customPageViewActive||e.isLastPage,title:e._f("trans")("Last page")},on:{click:e.goToLastPage}},[n("icon",{attrs:{name:"last_page"}}),e._v(" "),n("span",{staticClass:"tify-sr-only"},[e._v(e._s(e._f("trans")("Last page")))])],1)])])])},staticRenderFns:[]};e.a=i},function(t,e,n){"use strict";var i=n(143),r=n(146),o=n(3)(i.a,r.a,!1,null,null,null);e.a=o.exports},function(t,e,n){"use strict";var i=n(68),s=n.n(i),r=n(65),o=n.n(r),a=n(74),l=n(51),c=n.n(l),u=[{label:"BibTex",profile:"http://www.bibtex.org/Format/",type:"literature"},{label:"EndNote",profile:"http://endnote.com/",type:"literature"},{label:"RIS",profile:"http://referencemanager.com/sites/rm/files/m/direct_export_ris.pdf",type:"literature"},{label:"METS",profile:"http://www.loc.gov/standards/mets/profile_docs/mets.profile.v2-0.xsd",type:"other"},{label:"MODS",format:"application/mods+xml",type:"other"}];e.a={components:{TocList:a.a},mixins:[c.a],data:function(){return{literatureItems:[],otherItems:[],perElementPdfLinksVisible:!1}},computed:{hasElementPdfLinks:function(){var t=this.$root.manifest;return!!(Array.isArray(t.structures)&&t.structures[0]&&t.structures[0].rendering)&&this.$root.iiifConvertToArray(t.structures[0].rendering).some(function(t){return t.format&&"application/pdf"===t.format})},imageUrls:function(){var r=this,o={};return this.$root.params.pages.forEach(function(t){if(t){var e=r.$root.canvases[t-1].images[0].resource;if(e.service){var n="http://iiif.io/api/image/2/context.json"===e.service["@context"]?"default":"native",i=e.service["@id"];o[t]=i+("/"===i.slice(-1)?"":"/")+"full/full/0/"+n+".jpg"}else o[t]=e["@id"]}}),o}},created:function(){var t=this,e=this.$root.manifest.seeAlso;e&&JSON.parse(o()(Array.isArray(e)?e:[e])).forEach(function(i){var r="object"===(void 0===i?"undefined":s()(i))?i:{"@id":i},o=!1;u.some(function(t){var e=i.format&&t.format===i.format,n=i.profile&&t.profile===i.profile;return!(!e&&!n||(r.label=t.label,"literature"===t.type&&(o=!0),0))}),o?t.literatureItems.push(r):t.otherItems.push(r)})}}},function(t,e,n){"use strict";e.a={name:"toc-list",props:["level","structures","parentStructure","purpose"],data:function(){return{expandedStructures:[]}},methods:{checkIfPagesInStructure:function(e){return this.$root.params.pages.some(function(t){return t>=e.firstPage&&t<=e.lastPage})},setPage:function(t){this.$root.setPage(t),this.$root.isMobile()&&this.$root.updateParams({view:"scan"})},toggleAllChildren:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;if(this.$refs.children){for(var t=this.structures.length-1;0<=t;t-=1)this.toggleChildren(t,e);this.$refs.children.forEach(function(t){t.toggleAllChildren(e)})}},toggleChildren:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;this.structures[t].childStructures&&((null!==e?e:!this.expandedStructures[t])?this.$set(this.expandedStructures,t,!0):this.$delete(this.expandedStructures,t))}}}},function(t,e,n){"use strict";var i={render:function(){var i=this,t=i.$createElement,r=i._self._c||t;return r("ul",{staticClass:"tify-toc_list"},i._l(i.structures,function(e,n){return r("li",{staticClass:"tify-toc_structure",class:{"-current":i.checkIfPagesInStructure(e),"-expanded":i.expandedStructures[n]},attrs:{"data-level":i.level}},[e.childStructures?r("button",{staticClass:"tify-toc_toggle",attrs:{title:i.$options.filters.trans(i.expandedStructures[n]?"Collapse":"Expand")},on:{click:function(t){i.toggleChildren(n)}}},[i.expandedStructures[n]?[r("icon",{attrs:{name:"remove"}}),i._v(" "),r("span",{staticClass:"tify-sr-only"},[i._v(i._s(i._f("trans")("Collapse")))])]:[r("icon",{attrs:{name:"add"}}),i._v(" "),r("span",{staticClass:"tify-sr-only"},[i._v(i._s(i._f("trans")("Expand")))])]],2):i._e(),i._v(" "),"pdf"===i.purpose?r("a",{staticClass:"tify-toc_link",attrs:{download:"",href:i.$root.iiifConvertToArray(e.rendering)[0]["@id"]}},[r("i",{staticClass:"tify-badge"},[i._v("PDF")]),i._v("\n\t\t\t"+i._s(e.label)+"\n\t\t\t("+i._s(e.pageCount)+" "+i._s(i._f("trans")(1===e.pageCount?"page":"pages"))+")\n\t\t")]):r("a",{staticClass:"tify-toc_link -dots",on:{click:function(t){i.setPage(e.firstPage)}}},[r("span",{staticClass:"tify-toc_label"},[i._v(i._s(e.label))]),i._v(" "),r("span",{staticClass:"tify-toc_page"},[i._v(i._s(e.pageLabel))])]),i._v(" "),e.childStructures?r("toc-list",{directives:[{name:"show",rawName:"v-show",value:i.expandedStructures[n],expression:"expandedStructures[index]"}],ref:"children",refInFor:!0,attrs:{level:i.level+1,parentStructure:e,purpose:i.purpose,structures:e.childStructures}}):i._e()],1)}))},staticRenderFns:[]};e.a=i},function(t,e,n){"use strict";var i={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"tify-export"},[n("h2",{staticClass:"tify-sr-only"},[e._v(e._s(e._f("trans")("Export")))]),e._v(" "),n("div",{staticClass:"tify-export_section -links"},[n("h3",[e._v(e._s(e._f("trans")("Download Individual Images")))]),e._v(" "),n("ul",{staticClass:"tify-export_links"},e._l(e.$root.params.pages,function(t){return t?n("li",[n("a",{attrs:{href:e.imageUrls[t],download:t+".jpg",target:"_blank"}},[e._v("\n\t\t\t\t\t"+e._s(e._f("trans")("Page"))+" "+e._s(t)+"\n\t\t\t\t\t:\n\t\t\t\t\t"+e._s(e.$root.iiifConvertToArray(e.$root.canvases[t-1].label)[0])+"\n\t\t\t\t")])]):e._e()}))]),e._v(" "),e.$root.manifest.rendering?n("div",{staticClass:"tify-export_section -renderings"},[n("h3",[e._v(e._s(e._f("trans")("Renderings")))]),e._v(" "),n("ul",{staticClass:"tify-export_links"},e._l(e.$root.manifest.rendering,function(t){return n("li",[/\.pdf$/i.test(t["@id"])?[/\.pdf$/i.test(t["@id"])?n("i",{staticClass:"tify-badge"},[e._v("PDF")]):e._e(),e._v(" "),n("a",{attrs:{href:t["@id"],download:"",target:"_blank"}},[e._v(e._s(t.label))])]:[n("a",{attrs:{href:t["@id"],target:"_blank"}},[e._v(e._s(t.label))])]],2)})),e._v(" "),e.hasElementPdfLinks?n("div",{staticClass:"tify-export_container"},[n("button",{staticClass:"tify-export_toggle",on:{click:function(t){e.perElementPdfLinksVisible=!e.perElementPdfLinksVisible}}},[e.perElementPdfLinksVisible?[e._v(e._s(e._f("trans")("Close PDF list")))]:[e._v(e._s(e._f("trans")("PDFs for each element")))]],2),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.perElementPdfLinksVisible,expression:"perElementPdfLinksVisible"}],staticClass:"tify-export_toc"},[n("toc-list",{ref:"children",attrs:{purpose:"pdf",level:0,structures:e.structures}})],1)]):e._e()]):e._e(),e._v(" "),e.literatureItems.length?n("div",{staticClass:"tify-export_section -literature"},[n("h3",[e._v(e._s(e._f("trans")("Literature Management")))]),e._v(" "),n("ul",{staticClass:"tify-export_links"},e._l(e.literatureItems,function(t){return n("li",[n("a",{attrs:{href:t["@id"],download:"",target:"_blank"}},[e._v("\n\t\t\t\t\t"+e._s(t.label)+"\n\t\t\t\t")])])}))]):e._e(),e._v(" "),n("div",{staticClass:"tify-export_section -other"},[n("h3",[e._v(e._s(e._f("trans")("Other Formats")))]),e._v(" "),n("ul",{staticClass:"tify-export_links"},[n("li",[n("a",{attrs:{href:e.$root.manifestUrl,download:"manifest.json",target:"_blank"}},[e._v("\n\t\t\t\t\t"+e._s(e._f("trans")("IIIF manifest"))+"\n\t\t\t\t")])]),e._v(" "),e._l(e.otherItems,function(t){return n("li",[n("a",{attrs:{href:t["@id"],download:"",target:"_blank"}},[e._v("\n\t\t\t\t\t"+e._s(t.label||"Original Data")+"\n\t\t\t\t")])])})],2)])])},staticRenderFns:[]};e.a=i},function(t,e,n){"use strict";var i=n(148),r=n(149),o=n(3)(i.a,r.a,!1,null,null,null);e.a=o.exports},function(t,e,n){"use strict";e.a={data:function(){return{fulltextAvailable:!1,fulltexts:[]}},watch:{"$root.params.pages":function(){this.loadFulltexts()}},methods:{loadFulltexts:function(){var o=this;this.fulltextAvailable=!1,this.fulltexts=[],this.$root.params.pages.forEach(function(r){if(!(r<1||o.fulltexts[r])){var t=o.$root.canvases[r-1];if("otherContent"in t){o.$set(o.fulltexts,r,[]);var e=t.otherContent[0]["@id"];o.$http.get(e).then(function(t){var e=t.data.resources;Array.isArray(e)&&e.forEach(function(t,e){var n=t.resource;if(n&&n.chars){var i=o.$options.filters.filterHtml(n.chars);i&&(o.fulltextAvailable=!0),o.$set(o.fulltexts[r],e,i)}else n["@id"]&&o.loadRemoteFulltext(r,e,n["@id"])})},function(t){var e=t.response?t.response.statusText:t.message;o.$root.error="Error loading other content: "+e})}}})},loadRemoteFulltext:function(n,i,t){var r=this;this.$http.get(t).then(function(t){var e=r.$options.filters.filterHtml(t.data);e&&(r.fulltextAvailable=!0),r.$set(r.fulltexts[n],i,e)},function(t){var e=t.response?t.response.statusText:t.message;r.$root.error="Error loading fulltext: "+e})}},mounted:function(){this.loadFulltexts()}}},function(t,e,n){"use strict";var i={render:function(){var n=this,t=n.$createElement,i=n._self._c||t;return i("section",{staticClass:"tify-fulltext"},[i("h2",{staticClass:"tify-sr-only"},[n._v(n._s(n._f("trans")("Fulltext")))]),n._v(" "),n.fulltextAvailable?i("div",{staticClass:"tify-fulltext_texts"},[n._l(this.$root.params.pages,function(t,e){return t?[e&&1<t?i("hr",{staticClass:"tify-fulltext_separator"}):n._e(),n._v(" "),n._l(n.fulltexts[t],function(t){return[i("div",{staticClass:"tify-fulltext_text",domProps:{innerHTML:n._s(t)}})]})]:n._e()})],2):i("div",{staticClass:"tify-fulltext_none"},[n._v("\n\t\t"+n._s(n._f("trans")("Fulltext not available for this page"))+"\n\t")])])},staticRenderFns:[]};e.a=i},function(t,e,n){"use strict";var i=n(151),r=n(152),o=n(3)(i.a,r.a,!1,null,null,null);e.a=o.exports},function(t,e,n){"use strict";e.a={data:function(){return{env:Object({NODE_ENV:"production",AUTHOR_NAME:"SUB Gttingen",AUTHOR_EMAIL:"info@sub.uni-goettingen.de",BUGS_URL:"https://github.com/subugoe/tify/issues",HOMEPAGE:"https://github.com/subugoe/tify",LICENSE:"AGPL-3.0",REPOSITORY_URL:"https://github.com/subugoe/tify",VERSION:"0.20.5"})}},computed:{lang:function(){return this.$root.options.language}}}},function(t,e,n){"use strict";var i={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"tify-help"},[n("h2",{staticClass:"tify-sr-only"},[t._v(t._s(t._f("trans")("Help")))]),t._v(" "),n("div",{staticClass:"tify-help_section -doc"},[n("h3",[t._v(t._s(t._f("trans")("Documentation")))]),t._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"https://github.com/subugoe/tify/blob/v"+t.env.VERSION+"/doc/introduction."+t.lang+".md"}},[t._v("\n\t\t\t\t\t"+t._s(t._f("trans")("Introduction"))+"\n\t\t\t\t")])]),t._v(" "),n("li",[n("a",{attrs:{href:"https://github.com/subugoe/tify/blob/v"+t.env.VERSION+"/doc/viewing-multiple-pages."+t.lang+".md"}},[t._v("\n\t\t\t\t\t"+t._s(t._f("trans")("Viewing multiple pages"))+"\n\t\t\t\t")])]),t._v(" "),n("li",[n("a",{attrs:{href:"https://github.com/subugoe/tify/blob/v"+t.env.VERSION+"/doc/key-bindings."+t.lang+".md"}},[t._v("\n\t\t\t\t\t"+t._s(t._f("trans")("Key bindings"))+"\n\t\t\t\t")])])])]),t._v(" "),n("div",{staticClass:"tify-help_section -about"},[n("h3",[t._v(t._s(t._f("trans")("About TIFY")))]),t._v(" "),n("p",{domProps:{innerHTML:t._s(t.$root.$options.filters.trans("TIFY is a slim and mobile-friendly IIIF document viewer."))}}),t._v(" "),n("dl",[n("dt",[t._v(t._s(t._f("trans")("Version")))]),t._v(" "),n("dd",[t._v(t._s(t.env.VERSION))]),t._v(" "),n("dt",[t._v(t._s(t._f("trans")("Author")))]),t._v(" "),n("dd",[t._v(t._s(t.env.AUTHOR_NAME))]),t._v(" "),n("dt",[t._v(t._s(t._f("trans")("License")))]),t._v(" "),n("dd",[t._v(t._s(t.env.LICENSE))]),t._v(" "),n("dt",[t._v(t._s(t._f("trans")("Source")))]),t._v(" "),n("dd",[n("a",{attrs:{href:t.env.REPOSITORY_URL}},[t._v("GitHub")])])]),t._v(" "),t.env.BUGS_URL?n("p",[t._v("\n\t\t\t"+t._s(t._f("trans")("Found a bug?"))+"\n\t\t\t"),n("a",{attrs:{href:t.env.BUGS_URL}},[t._v(t._s(t._f("trans")("Please let us know.")))])]):t._e(),t._v(" "),t.env.HOMEPAGE?n("p",[n("a",{attrs:{href:t.env.HOMEPAGE}},[t._v(t._s(t._f("trans")("Visit the website")))])]):t._e()])])},staticRenderFns:[]};e.a=i},function(t,e,n){"use strict";var i=n(154),r=n(158),o=n(3)(i.a,r.a,!1,null,null,null);e.a=o.exports},function(t,e,n){"use strict";var i=n(155),r=n(51),o=n.n(r);e.a={components:{MetadataList:i.a},mixins:[o.a],data:function(){return{collapsedStyle:""}},computed:{license:function(){return this.manifest.license?this.$root.iiifConvertToArray(this.manifest.license):[]},logoId:function(){return this.manifest.logo["@id"]?this.manifest.logo["@id"]:this.manifest.logo},manifest:function(){return this.$root.manifest},related:function(){return this.manifest.related?this.$root.iiifConvertToArray(this.manifest.related):[]}},methods:{init:function(){this.isInited=!0},isUrl:function(t){return/^https?:\/\//.test(t)}},watch:{"$root.params.view":function(t){"info"===t&&(this.isInited||this.init())}},mounted:function(){"info"===this.$root.params.view&&this.init()}}},function(t,e,n){"use strict";var i=n(156),r=n(157),o=n(3)(i.a,r.a,!1,null,null,null);e.a=o.exports},function(t,e,n){"use strict";var i=n(47),u=n.n(i);e.a={props:["metadata"],data:function(){return{infoItems:null}},filters:{cleanLabel:function(t){return t.includes("custom_creator")?"Creator":t.includes("custom_concepts")?"Topics":t.startsWith("object_dc:")?(e=t.replace("object_dc:","")).charAt(0).toUpperCase()+e.substr(1):t.startsWith("dc:")?(e=t.replace("dc:","")).charAt(0).toUpperCase()+e.substr(1):t.startsWith("object_dcterms:")?(e=t.replace("object_dcterms:","")).charAt(0).toUpperCase()+e.substr(1):t.startsWith("dcterms:")?(e=t.replace("dcterms:","")).charAt(0).toUpperCase()+e.substr(1):t.startsWith("aggregation_edm:")?(e=t.replace("aggregation_edm:","")).charAt(0).toUpperCase()+e.substr(1):t.startsWith("object_edm:")?(e=t.replace("object_edm:","")).charAt(0).toUpperCase()+e.substr(1):(e=t.replace("_"," ")).charAt(0).toUpperCase()+e.substr(1);var e}},mounted:function(){if(this.$refs.buttons){var t=this.$refs.buttons[0],e=window.getComputedStyle(t),n=t.offsetHeight+parseInt(e.marginTop,10),i=5*parseInt(window.getComputedStyle(this.$refs.items[0]).lineHeight,10);this.collapsedStyle="max-height: "+i+"px; overflow: hidden";for(var r=[],o=i+n+24,s=u()(this.metadata).length,a=0;a<s;a+=1){var l=this.$refs.items[a].offsetHeight>o,c={collapsed:l,limitHeight:l};r.push(c)}this.infoItems=r}}}},function(t,e,n){"use strict";var i={render:function(){var a=this,t=a.$createElement,l=a._self._c||t;return l("div",[a._l(a.metadata,function(t,e){var n=t.value["@language"];if(n.includes("und")||n.includes("@"))var i="";else i=" ["+n+"]";var r=a._s(a._f("cleanLabel")(t.label))+i;if(r.includes("full_concept__")||n.includes("@uri"))var o=s="displayNone";else if("custom_creator"==t.label&&n.includes("und")||"object_dc:creator"==t.label&&n.includes("und"))o=s="custom_creator";else{var s="tify-info_content";o="tify-info_value"}return[l("h4",{staticClass:s},a._l(a.$root.iiifConvertToArray(t.label),function(t){return l("div",[a._v("\n\t\t\t\t"+r+"\n\t\t\t")])})),a._v(" "),l("div",{staticClass:o},[l("div",{ref:"items",refInFor:!0,staticClass:"tify-info_value",class:{"-collapsed":a.infoItems&&a.infoItems[e].collapsed},style:a.infoItems&&a.infoItems[e].collapsed?a.collapsedStyle:null},a._l(a.$root.iiifConvertToArray(t.value),function(t){return l("div",{domProps:{innerHTML:a._s(t)}})})),a._v(" "),!a.infoItems||a.infoItems[e].limitHeight?l("button",{ref:"buttons",refInFor:!0,staticClass:"tify-info_toggle",on:{click:function(t){a.infoItems[e].collapsed=!a.infoItems[e].collapsed}}},[!a.infoItems||a.infoItems[e].collapsed?[l("icon",{attrs:{name:"expand_more"}}),a._v("\n\t\t\t\t\t"+a._s(a._f("trans")("Expand"))+"\n\t\t\t\t")]:[l("icon",{attrs:{name:"expand_less"}}),a._v("\n\t\t\t\t\t"+a._s(a._f("trans")("Collapse"))+"\n\t\t\t\t")]],2):a._e()])]})],2)},staticRenderFns:[]};e.a=i},function(t,e,n){"use strict";var i={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"tify-info"},[n("h2",{staticClass:"tify-sr-only"},[e._v(e._s(e._f("trans")("Info")))]),e._v(" "),e.manifest.label?n("div",{staticClass:"tify-info_section -title"},[n("h3",{staticClass:"tify-info_heading"},[e._v(e._s(e._f("trans")("Title")))]),e._v(" "),e._l(e.$root.iiifConvertToArray(e.manifest.label),function(t){return n("div",[e._v("\n\t\t\t"+e._s(t)+"\n\t\t")])})],2):e._e(),e._v(" "),e.manifest.metadata?n("div",{staticClass:"tify-info_section -title"},[n("h3",{staticClass:"tify-info_heading"},[e._v(e._s(e._f("trans")("Creator")))]),e._v(" "),e._l(e.$root.iiifConvertToArray(e.manifest.metadata.slice(-1).value),function(t){return n("div",[e._v("\n\t\t\t"+e._s(t)+"\n\t\t")])})],2):e._e(),e._v(" "),e.manifest.description?n("div",{staticClass:"tify-info_section -description"},[n("h3",[e._v(e._s(e._f("trans")("Description")))]),e._v(" "),e._l(e.$root.iiifConvertToArray(e.manifest.description),function(t){return n("div",{domProps:{innerHTML:e._s(t)}})})],2):e._e(),e._v(" "),e.currentStructureLabel||e.currentStructureMetadata?n("div",{staticClass:"tify-info_section -metadata -structure"},[n("h3",[e._v("\n\t\t\t"+e._s(e._f("trans")("Current Element"))+"\n\t\t")]),e._v(" "),e.currentStructureLabel?n("p",{staticClass:"tify-info_structure"},[e._v("\n\t\t\t"+e._s(e.currentStructureLabel)+"\n\t\t")]):e._e(),e._v(" "),e.currentStructureMetadata?n("metadata-list",{staticClass:"tify-info_section -metadata",attrs:{metadata:e.currentStructureMetadata}}):e._e()],1):e._e(),e._v(" "),e.license.length?n("div",{staticClass:"tify-info_section -license"},[n("h3",[e._v(e._s(e._f("trans")("License")))]),e._v(" "),e._l(e.license,function(t){return n("div",["string"==typeof t?[e.isUrl(t)?n("a",{attrs:{href:t,target:"_blank"}},[e._v("\n\t\t\t\t\t"+e._s(t)+"\n\t\t\t\t")]):[e._v("\n\t\t\t\t\t"+e._s(t)+"\n\t\t\t\t")]]:[e.isUrl(t["@id"])?n("a",{attrs:{href:t,target:"_blank"}},[e._v("\n\t\t\t\t\t"+e._s(t.label||t["@id"])+"\n\t\t\t\t")]):[e._v("\n\t\t\t\t\t"+e._s(t.label||t["@id"])+"\n\t\t\t\t")]]],2)})],2):e._e(),e._v(" "),e.manifest.attribution?n("div",{staticClass:"tify-info_section -attribution"},[n("h3",[e._v(e._s(e._f("trans")("Provided by")))]),e._v(" "),e._l(e.$root.iiifConvertToArray(e.manifest.attribution),function(t){return n("div",{domProps:{innerHTML:e._s(t)}})})],2):e._e(),e._v(" "),e.related.length?n("div",{staticClass:"tify-info_section -related"},[n("h4",{staticClass:"seeAt"},[e._v(e._s(e._f("trans")("Source : ")))]),e._v(" "),e._l(e.related,function(t){return n("div",["string"==typeof t?n("a",{attrs:{href:t,target:"_blank"}},[e._v("\n\t\t\t\t"+e._s(t)+"\n\t\t\t")]):n("a",{attrs:{href:t["@id"],target:"_blank"}},[e._v("\n\t\t\t\t"+e._s(t.label||t["@id"])+"\n\t\t\t")])])})],2):e._e(),e._v(" "),e.manifest.metadata&&e.manifest.metadata.length?n("div",{staticClass:"tify-info_section -metadata"},[n("h3",[e._v(e._s(e._f("trans")("Metadata")))]),e._v(" "),n("metadata-list",{attrs:{metadata:e.manifest.metadata}})],1):e._e(),e._v(" "),e.manifest.logo?n("div",{staticClass:"tify-info_section -logo"},[e.logoId&&e.manifest.logo.service&&e.manifest.logo.service["@id"]?n("a",{attrs:{href:e.manifest.logo.service["@id"]}},[n("img",{staticClass:"tify-info_logo",attrs:{src:e.logoId,alt:""}})]):n("img",{staticClass:"tify-info_logo",attrs:{src:e.logoId,alt:""}})]):e._e()])},staticRenderFns:[]};e.a=i},function(t,e,n){"use strict";var i=n(160),r=n(179),o=n(3)(i.a,r.a,!1,null,null,null);e.a=o.exports},function(t,e,n){"use strict";var i=n(54),s=n.n(i),r=n(47),o=n.n(r),a=n(161),u=n.n(a),l=n(50),c=n.n(l),h=n(73),d=n.n(h);window.OpenSeadragon=u.a,n(162),n(163),n(164),n(165),n(166),n(167),n(168),n(169),n(170),n(171),n(172),n(173),n(174),n(175),n(176),n(177),n(178);var f=["-webkit-","-moz-","-o-","-ms-"];e.a={mixins:[c.a,d.a],data:function(){return{filtersVisible:!1,loadingTimeout:null,tileSources:{},viewer:null,zoomFactor:1.5}},computed:{cssFiltersSupported:function(){var t=document.createElement("a");return t.style.cssText=f.join("filter:blur(2px);"),!!t.style.length&&(void 0===document.documentMode||9<document.documentMode)},filtersActive:function(){return 0<o()(this.$root.params.filters).length},isMinZoom:function(){return!this.viewer||this.viewer.viewport.getZoom()<=this.viewer.viewport.getMinZoom()},isMaxZoom:function(){return!this.viewer||this.viewer.viewport.getZoom()>=this.viewer.viewport.getMaxZoom()},isReset:function(){var t=this.viewer.viewport.getHomeBounds(),e=this.viewer.viewport.getBounds();return Math.abs(t.height-e.height)<1e-9&&Math.abs(t.width-e.width)<1e-9&&Math.abs(t.x-e.x)<1e-9&&Math.abs(t.y-e.y)<1e-9}},watch:{"$root.params.pages":function(t,e){var n=t.length!==e.length;this.loadImageInfo(n)}},methods:{closeFilters:function(){this.filtersVisible=!1},initViewer:function(n){var o=this,i=this.$root.params,s=[],a=0,l=void 0,c=0;if(i.pages.forEach(function(t,e){var n=1;l=t<1?(n=0)<e?o.$root.pageCount:1:t;var i=o.tileSources[l];if(i){a=a||i.width;var r=i.width/a;s.push({opacity:n,tileSource:i,width:r,x:c}),c+=.01+r}}),this.viewer)return this.viewer.addOnceHandler("open",function(){if(o.isReset||n)o.resetView();else{o.viewer.viewport.applyConstraints(!0);var t=o.viewer.viewport.getBounds();if(t.x<=0&&t.y<=0)return;var e=i.pages[0]?0:1;o.viewer.viewport.panTo({x:0<t.x?t.width/2+e:i.panX,y:0<t.y?t.height/2:i.panY})}}),void this.viewer.open(s);this.viewer=u()({animationTime:.4,id:"tify-scan_image",immediateRender:this.$root.options.immediateRender,preload:!this.$root.isMobile(),preserveImageSizeOnResize:!0,preserveViewport:!0,showNavigationControl:!1,showZoomControl:!1,tileSources:s,visibilityRatio:.2}),this.viewer.gestureSettingsMouse.clickToZoom=!1,this.viewer.addHandler("animation-finish",function(){if(o.isReset)o.removeScanParams();else{var t=o.viewer.viewport.getCenter();o.$root.updateParams({panX:Math.round(1e3*t.x)/1e3,panY:Math.round(1e3*t.y)/1e3,zoom:Math.round(1e3*o.viewer.viewport.getZoom())/1e3})}}),this.viewer.addHandler("canvas-click",function(){document.body.click()}),this.viewer.addHandler("open",function(){o.startLoadingWatch(),null!==i.panX&&null!==i.panY?(o.viewer.viewport.panTo({x:i.panX,y:i.panY},!0),o.viewer.viewport.zoomTo(i.zoom,null,!0)):o.viewer.viewport.goHome(),null!==i.rotation&&o.viewer.viewport.setRotation(i.rotation)}),this.viewer.addHandler("tile-load-failed",function(t){o.$root.error="Error loading image: "+t.message})},loadImageInfo:function(){var r=this,e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];this.stopLoadingWatch();var o=[];this.$root.params.pages.forEach(function(n){if(!(n<1||r.tileSources[n])){var t=r.$root.canvases[n-1].images[0].resource;if(t.service){var e=t.service["@id"],i=e+("/"===e.slice(-1)?"":"/")+"info.json";o.push(r.$http.get(i).then(function(t){return t.page=n,t},function(t){var e=void 0;t.response&&t.response.statusText?e=t.response.statusText:t.message&&(e=t.message),r.$root.error="Error loading info file for page "+n+(e?": "+e:"")}))}else r.tileSources[n]={type:"image",url:t["@id"],width:t.width,height:t.height}}}),o.length?s.a.all(o).then(function(t){t.forEach(function(t){t&&(r.tileSources[t.page]=t.data)}),r.initViewer(e)}):this.initViewer(e)},propagateKeyPress:function(t){if(0!==t.target.className.indexOf("openseadragon")){var e=this.$refs.image.querySelector(".openseadragon-canvas");if(e){var n=new t.constructor(t.type,t);Object.defineProperty(n,"keyCode",{get:function(){return t.keyCode}}),e.dispatchEvent(n)}}},resetFilters:function(){this.$refs.image.style.cssText="",this.$root.updateParams({filters:{}})},removeScanParams:function(){this.$root.updateParams({panX:null,panY:null,zoom:null})},resetView:function(t){t&&t.shiftKey&&(this.viewer.viewport.setRotation(0),this.$root.updateParams({rotation:null}),this.filtersActive&&this.resetFilters()),this.viewer.viewport.goHome(),this.removeScanParams()},rotateRight:function(t){var e=this.viewer.viewport,n=t&&t.shiftKey?0:(e.getRotation()+90)%360;e.setRotation(n),this.$root.updateParams({rotation:n||null})},setFilter:function(t,e){var n=e.target.valueAsNumber;1===n?this.$delete(this.$root.params.filters,t):this.$set(this.$root.params.filters,t,n),this.$root.updateParams({filters:this.$root.params.filters}),this.updateFilterStyle()},startLoadingWatch:function(){for(var t=0,e=this.viewer.world.getItemCount()-1;0<=e;e-=1){var n=this.viewer.world.getItemAt(e);n&&n._tilesLoading&&(t=1)}this.$root.loading=t,this.loadingTimeout=setTimeout(this.startLoadingWatch,200)},stopLoadingWatch:function(){clearTimeout(this.loadingTimeout)},updateFilterStyle:function(){var e=this;if(this.filtersActive&&this.cssFiltersSupported){var n=[];o()(this.$root.params.filters).forEach(function(t){n.push(t+"("+e.$root.params.filters[t]+")")});var t=this.$refs.image,i=n.join(" ");t.style.cssText=f.join("filter:"+i+";")}},zoomIn:function(){this.viewer.viewport.zoomBy(this.zoomFactor)},zoomOut:function(){this.viewer.viewport.zoomBy(1/this.zoomFactor)}},mounted:function(){var e=this;this.loadImageInfo(),this.updateFilterStyle(),window.addEventListener("keydown",function(t){"Escape"===t.key&&(e.filtersVisible=!1);t.shiftKey&&-1<[45,48,96].indexOf(t.keyCode)&&e.resetView(t)}),window.addEventListener("keypress",function(t){if(!e.preventKeyboardEvent(t))switch(t.key){case"r":case"R":e.rotateRight(t);break;case"f":e.filtersVisible=!e.filtersVisible,e.filtersVisible&&e.$nextTick(function(){e.$refs.firstSlider.focus()});break;case"F":e.resetFilters();break;default:e.propagateKeyPress(t)}})}}},function(module,exports,__webpack_require__){function OpenSeadragon(t){return new OpenSeadragon.Viewer(t)}var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;!function(i){i.version={versionStr:"<%= osdVersion.versionStr %>",major:parseInt("<%= osdVersion.major %>",10),minor:parseInt("<%= osdVersion.minor %>",10),revision:parseInt("<%= osdVersion.revision %>",10)};var t,e={"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regexp","[object Object]":"object"},n=Object.prototype.toString,r=Object.prototype.hasOwnProperty;i.isFunction=function(t){return"function"===i.type(t)},i.isArray=Array.isArray||function(t){return"array"===i.type(t)},i.isWindow=function(t){return t&&"object"==typeof t&&"setInterval"in t},i.type=function(t){return null==t?String(t):e[n.call(t)]||"object"},i.isPlainObject=function(t){if(!t||"object"!==OpenSeadragon.type(t)||t.nodeType||i.isWindow(t))return!1;if(t.constructor&&!r.call(t,"constructor")&&!r.call(t.constructor.prototype,"isPrototypeOf"))return!1;var e;for(var n in t)e=n;return void 0===e||r.call(t,e)},i.isEmptyObject=function(t){for(var e in t)return!1;return!0},i.freezeObject=function(t){return Object.freeze?i.freezeObject=Object.freeze:i.freezeObject=function(t){return t},i.freezeObject(t)},i.supportsCanvas=(t=document.createElement("canvas"),!(!i.isFunction(t.getContext)||!t.getContext("2d"))),i.isCanvasTainted=function(t){var e=!1;try{t.getContext("2d").getImageData(0,0,1,1)}catch(t){e=!0}return e},i.pixelDensityRatio=function(){if(i.supportsCanvas){var t=document.createElement("canvas").getContext("2d"),e=window.devicePixelRatio||1,n=t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1;return Math.max(e,1)/n}return 1}()}(OpenSeadragon),function($){function getOffsetParent(t,e){return e&&t!=document.body?document.body:t.offsetParent}$.extend=function(){var t,e,n,i,r,o,s=arguments[0]||{},a=arguments.length,l=!1,c=1;for("boolean"==typeof s&&(l=s,s=arguments[1]||{},c=2),"object"==typeof s||OpenSeadragon.isFunction(s)||(s={}),a===c&&(s=this,--c);c<a;c++)if(null!==(t=arguments[c])||void 0!==t)for(e in t)n=s[e],s!==(i=t[e])&&(l&&i&&(OpenSeadragon.isPlainObject(i)||(r=OpenSeadragon.isArray(i)))?(o=r?(r=!1,n&&OpenSeadragon.isArray(n)?n:[]):n&&OpenSeadragon.isPlainObject(n)?n:{},s[e]=OpenSeadragon.extend(l,o,i)):void 0!==i&&(s[e]=i));return s};var isIOSDevice=function(){if("object"!=typeof navigator)return!1;var t=navigator.userAgent;return"string"==typeof t&&(-1!==t.indexOf("iPhone")||-1!==t.indexOf("iPad")||-1!==t.indexOf("iPod"))};$.extend($,{DEFAULT_SETTINGS:{xmlPath:null,tileSources:null,tileHost:null,initialPage:0,crossOriginPolicy:!1,ajaxWithCredentials:!1,loadTilesWithAjax:!1,ajaxHeaders:{},panHorizontal:!0,panVertical:!0,constrainDuringPan:!1,wrapHorizontal:!1,wrapVertical:!1,visibilityRatio:.5,minPixelRatio:.5,defaultZoomLevel:0,minZoomLevel:null,maxZoomLevel:null,homeFillsViewer:!1,clickTimeThreshold:300,clickDistThreshold:5,dblClickTimeThreshold:300,dblClickDistThreshold:20,springStiffness:6.5,animationTime:1.2,gestureSettingsMouse:{scrollToZoom:!0,clickToZoom:!0,dblClickToZoom:!1,pinchToZoom:!1,flickEnabled:!1,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsTouch:{scrollToZoom:!1,clickToZoom:!1,dblClickToZoom:!0,pinchToZoom:!0,flickEnabled:!0,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsPen:{scrollToZoom:!1,clickToZoom:!0,dblClickToZoom:!1,pinchToZoom:!1,flickEnabled:!1,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsUnknown:{scrollToZoom:!1,clickToZoom:!1,dblClickToZoom:!0,pinchToZoom:!0,flickEnabled:!0,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},zoomPerClick:2,zoomPerScroll:1.2,zoomPerSecond:1,blendTime:0,alwaysBlend:!1,autoHideControls:!0,immediateRender:!1,minZoomImageRatio:.9,maxZoomPixelRatio:1.1,smoothTileEdgesMinZoom:1.1,iOSDevice:isIOSDevice(),pixelsPerWheelLine:40,autoResize:!0,preserveImageSizeOnResize:!1,minScrollDeltaTime:50,showSequenceControl:!0,sequenceControlAnchor:null,preserveViewport:!1,preserveOverlays:!1,navPrevNextWrap:!1,showNavigationControl:!0,navigationControlAnchor:null,showZoomControl:!0,showHomeControl:!0,showFullPageControl:!0,showRotationControl:!1,controlsFadeDelay:2e3,controlsFadeLength:1500,mouseNavEnabled:!0,showNavigator:!1,navigatorId:null,navigatorPosition:null,navigatorSizeRatio:.2,navigatorMaintainSizeRatio:!1,navigatorTop:null,navigatorLeft:null,navigatorHeight:null,navigatorWidth:null,navigatorAutoResize:!0,navigatorAutoFade:!0,navigatorRotate:!0,degrees:0,opacity:1,preload:!1,compositeOperation:null,placeholderFillStyle:null,showReferenceStrip:!1,referenceStripScroll:"horizontal",referenceStripElement:null,referenceStripHeight:null,referenceStripWidth:null,referenceStripPosition:"BOTTOM_LEFT",referenceStripSizeRatio:.2,collectionRows:3,collectionColumns:0,collectionLayout:"horizontal",collectionMode:!1,collectionTileSize:800,collectionTileMargin:80,imageLoaderLimit:0,maxImageCacheCount:200,timeout:3e4,useCanvas:!0,prefixUrl:"/images/",navImages:{zoomIn:{REST:"zoomin_rest.png",GROUP:"zoomin_grouphover.png",HOVER:"zoomin_hover.png",DOWN:"zoomin_pressed.png"},zoomOut:{REST:"zoomout_rest.png",GROUP:"zoomout_grouphover.png",HOVER:"zoomout_hover.png",DOWN:"zoomout_pressed.png"},home:{REST:"home_rest.png",GROUP:"home_grouphover.png",HOVER:"home_hover.png",DOWN:"home_pressed.png"},fullpage:{REST:"fullpage_rest.png",GROUP:"fullpage_grouphover.png",HOVER:"fullpage_hover.png",DOWN:"fullpage_pressed.png"},rotateleft:{REST:"rotateleft_rest.png",GROUP:"rotateleft_grouphover.png",HOVER:"rotateleft_hover.png",DOWN:"rotateleft_pressed.png"},rotateright:{REST:"rotateright_rest.png",GROUP:"rotateright_grouphover.png",HOVER:"rotateright_hover.png",DOWN:"rotateright_pressed.png"},previous:{REST:"previous_rest.png",GROUP:"previous_grouphover.png",HOVER:"previous_hover.png",DOWN:"previous_pressed.png"},next:{REST:"next_rest.png",GROUP:"next_grouphover.png",HOVER:"next_hover.png",DOWN:"next_pressed.png"}},debugMode:!1,debugGridColor:["#437AB2","#1B9E77","#D95F02","#7570B3","#E7298A","#66A61E","#E6AB02","#A6761D","#666666"]},SIGNAL:"----seadragon----",delegate:function(e,n){return function(){var t=arguments;return void 0===t&&(t=[]),n.apply(e,t)}},BROWSERS:{UNKNOWN:0,IE:1,FIREFOX:2,SAFARI:3,CHROME:4,OPERA:5},getElement:function(t){return"string"==typeof t&&(t=document.getElementById(t)),t},getElementPosition:function(t){var e,n,i=new $.Point;for(n=getOffsetParent(t=$.getElement(t),e="fixed"==$.getElementStyle(t).position);n;)i.x+=t.offsetLeft,i.y+=t.offsetTop,e&&(i=i.plus($.getPageScroll())),n=getOffsetParent(t=n,e="fixed"==$.getElementStyle(t).position);return i},getElementOffset:function(t){var e,n,i=(t=$.getElement(t))&&t.ownerDocument,r={top:0,left:0};return i?(e=i.documentElement,void 0!==t.getBoundingClientRect&&(r=t.getBoundingClientRect()),n=i==i.window?i:9===i.nodeType&&(i.defaultView||i.parentWindow),new $.Point(r.left+(n.pageXOffset||e.scrollLeft)-(e.clientLeft||0),r.top+(n.pageYOffset||e.scrollTop)-(e.clientTop||0))):new $.Point},getElementSize:function(t){return t=$.getElement(t),new $.Point(t.clientWidth,t.clientHeight)},getElementStyle:document.documentElement.currentStyle?function(t){return(t=$.getElement(t)).currentStyle}:function(t){return t=$.getElement(t),window.getComputedStyle(t,"")},getCssPropertyWithVendorPrefix:function(t){var a={};return $.getCssPropertyWithVendorPrefix=function(t){if(void 0!==a[t])return a[t];var e=document.createElement("div").style,n=null;if(void 0!==e[t])n=t;else for(var i=["Webkit","Moz","MS","O","webkit","moz","ms","o"],r=$.capitalizeFirstLetter(t),o=0;o<i.length;o++){var s=i[o]+r;if(void 0!==e[s]){n=s;break}}return a[t]=n},$.getCssPropertyWithVendorPrefix(t)},capitalizeFirstLetter:function(t){return t.charAt(0).toUpperCase()+t.slice(1)},positiveModulo:function(t,e){var n=t%e;return n<0&&(n+=e),n},pointInElement:function(t,e){t=$.getElement(t);var n=$.getElementOffset(t),i=$.getElementSize(t);return e.x>=n.x&&e.x<n.x+i.x&&e.y<n.y+i.y&&e.y>=n.y},getEvent:function(t){return $.getEvent=t?function(t){return t}:function(){return window.event},$.getEvent(t)},getMousePosition:function(t){if("number"==typeof t.pageX)$.getMousePosition=function(t){var e=new $.Point;return t=$.getEvent(t),e.x=t.pageX,e.y=t.pageY,e};else{if("number"!=typeof t.clientX)throw new Error("Unknown event mouse position, no known technique.");$.getMousePosition=function(t){var e=new $.Point;return t=$.getEvent(t),e.x=t.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,e.y=t.clientY+document.body.scrollTop+document.documentElement.scrollTop,e}}return $.getMousePosition(t)},getPageScroll:function(){var t=document.documentElement||{},e=document.body||{};if("number"==typeof window.pageXOffset)$.getPageScroll=function(){return new $.Point(window.pageXOffset,window.pageYOffset)};else if(e.scrollLeft||e.scrollTop)$.getPageScroll=function(){return new $.Point(document.body.scrollLeft,document.body.scrollTop)};else{if(!t.scrollLeft&&!t.scrollTop)return new $.Point(0,0);$.getPageScroll=function(){return new $.Point(document.documentElement.scrollLeft,document.documentElement.scrollTop)}}return $.getPageScroll()},setPageScroll:function(t){if(void 0!==window.scrollTo)$.setPageScroll=function(t){window.scrollTo(t.x,t.y)};else{var e=$.getPageScroll();if(e.x===t.x&&e.y===t.y)return;document.body.scrollLeft=t.x,document.body.scrollTop=t.y;var n=$.getPageScroll();if(n.x!==e.x&&n.y!==e.y)return void($.setPageScroll=function(t){document.body.scrollLeft=t.x,document.body.scrollTop=t.y});if(document.documentElement.scrollLeft=t.x,document.documentElement.scrollTop=t.y,(n=$.getPageScroll()).x!==e.x&&n.y!==e.y)return void($.setPageScroll=function(t){document.documentElement.scrollLeft=t.x,document.documentElement.scrollTop=t.y});$.setPageScroll=function(t){}}return $.setPageScroll(t)},getWindowSize:function(){var t=document.documentElement||{},e=document.body||{};if("number"==typeof window.innerWidth)$.getWindowSize=function(){return new $.Point(window.innerWidth,window.innerHeight)};else if(t.clientWidth||t.clientHeight)$.getWindowSize=function(){return new $.Point(document.documentElement.clientWidth,document.documentElement.clientHeight)};else{if(!e.clientWidth&&!e.clientHeight)throw new Error("Unknown window size, no known technique.");$.getWindowSize=function(){return new $.Point(document.body.clientWidth,document.body.clientHeight)}}return $.getWindowSize()},makeCenteredNode:function(t){t=$.getElement(t);var e=[$.makeNeutralElement("div"),$.makeNeutralElement("div"),$.makeNeutralElement("div")];return $.extend(e[0].style,{display:"table",height:"100%",width:"100%"}),$.extend(e[1].style,{display:"table-row"}),$.extend(e[2].style,{display:"table-cell",verticalAlign:"middle",textAlign:"center"}),e[0].appendChild(e[1]),e[1].appendChild(e[2]),e[2].appendChild(t),e[0]},makeNeutralElement:function(t){var e=document.createElement(t),n=e.style;return n.background="transparent none",n.border="none",n.margin="0px",n.padding="0px",n.position="static",e},now:function(){return Date.now?$.now=Date.now:$.now=function(){return(new Date).getTime()},$.now()},makeTransparentImage:function(t){return $.makeTransparentImage=function(t){var e=$.makeNeutralElement("img");return e.src=t,e},$.Browser.vendor==$.BROWSERS.IE&&$.Browser.version<7&&($.makeTransparentImage=function(t){var e=$.makeNeutralElement("img"),n=null;return(n=$.makeNeutralElement("span")).style.display="inline-block",e.onload=function(){n.style.width=n.style.width||e.width+"px",n.style.height=n.style.height||e.height+"px",e.onload=null,e=null},e.src=t,n.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+t+"', sizingMethod='scale')",n}),$.makeTransparentImage(t)},setElementOpacity:function(t,e,n){var i;t=$.getElement(t),n&&!$.Browser.alpha&&(e=Math.round(e)),$.Browser.opacity?t.style.opacity=e<1?e:"":e<1?(i="alpha(opacity="+Math.round(100*e)+")",t.style.filter=i):t.style.filter=""},setElementTouchActionNone:function(t){void 0!==(t=$.getElement(t)).style.touchAction?t.style.touchAction="none":void 0!==t.style.msTouchAction&&(t.style.msTouchAction="none")},addClass:function(t,e){(t=$.getElement(t)).className?-1===(" "+t.className+" ").indexOf(" "+e+" ")&&(t.className+=" "+e):t.className=e},indexOf:function(t,e,n){return Array.prototype.indexOf?this.indexOf=function(t,e,n){return t.indexOf(e,n)}:this.indexOf=function(t,e,n){var i,r,o=n||0;if(!t)throw new TypeError;if(0===(r=t.length)||r<=o)return-1;for(o<0&&(o=r-Math.abs(o)),i=o;i<r;i++)if(t[i]===e)return i;return-1},this.indexOf(t,e,n)},removeClass:function(t,e){var n,i,r=[];for(n=(t=$.getElement(t)).className.split(/\s+/),i=0;i<n.length;i++)n[i]&&n[i]!==e&&r.push(n[i]);t.className=r.join(" ")},addEvent:function(){if(window.addEventListener)return function(t,e,n,i){(t=$.getElement(t)).addEventListener(e,n,i)};if(window.attachEvent)return function(t,e,n,i){(t=$.getElement(t)).attachEvent("on"+e,n)};throw new Error("No known event model.")}(),removeEvent:function(){if(window.removeEventListener)return function(t,e,n,i){(t=$.getElement(t)).removeEventListener(e,n,i)};if(window.detachEvent)return function(t,e,n,i){(t=$.getElement(t)).detachEvent("on"+e,n)};throw new Error("No known event model.")}(),cancelEvent:function(t){(t=$.getEvent(t)).preventDefault?$.cancelEvent=function(t){t.preventDefault()}:$.cancelEvent=function(t){(t=$.getEvent(t)).cancel=!0,t.returnValue=!1},$.cancelEvent(t)},stopEvent:function(t){(t=$.getEvent(t)).stopPropagation?$.stopEvent=function(t){t.stopPropagation()}:$.stopEvent=function(t){(t=$.getEvent(t)).cancelBubble=!0},$.stopEvent(t)},createCallback:function(n,i){var t,r=[];for(t=2;t<arguments.length;t++)r.push(arguments[t]);return function(){var t,e=r.concat([]);for(t=0;t<arguments.length;t++)e.push(arguments[t]);return i.apply(n,e)}},getUrlParameter:function(t){return URLPARAMS[t]||null},getUrlProtocol:function(t){var e=t.match(/^([a-z]+:)\/\//i);return null===e?window.location.protocol:e[1].toLowerCase()},createAjaxRequest:function(t){var e;try{e=!!new ActiveXObject("Microsoft.XMLHTTP")}catch(t){e=!1}if(e)window.XMLHttpRequest?$.createAjaxRequest=function(t){return t?new ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest}:$.createAjaxRequest=function(){return new ActiveXObject("Microsoft.XMLHTTP")};else{if(!window.XMLHttpRequest)throw new Error("Browser doesn't support XMLHttpRequest.");$.createAjaxRequest=function(){return new XMLHttpRequest}}return $.createAjaxRequest(t)},makeAjaxRequest:function(t,e,n){var i,r,o;$.isPlainObject(t)&&(e=t.success,n=t.error,i=t.withCredentials,r=t.headers,o=t.responseType||null,t=t.url);var s=$.getUrlProtocol(t),a=$.createAjaxRequest("file:"===s);if(!$.isFunction(e))throw new Error("makeAjaxRequest requires a success callback");a.onreadystatechange=function(){4==a.readyState&&(a.onreadystatechange=function(){},200<=a.status&&a.status<300||0===a.status&&"http:"!==s&&"https:"!==s?e(a):($.console.log("AJAX request returned %d: %s",a.status,t),$.isFunction(n)&&n(a)))};try{if(a.open("GET",t,!0),o&&(a.responseType=o),r)for(var l in r)r.hasOwnProperty(l)&&r[l]&&a.setRequestHeader(l,r[l]);i&&(a.withCredentials=!0),a.send(null)}catch(i){var c=i.message;if($.Browser.vendor==$.BROWSERS.IE&&$.Browser.version<10&&void 0!==i.number&&-2147024891==i.number&&(c+="\nSee http://msdn.microsoft.com/en-us/library/ms537505(v=vs.85).aspx#xdomain"),$.console.log("%s while making AJAX request: %s",i.name,c),a.onreadystatechange=function(){},window.XDomainRequest){var u=new XDomainRequest;if(u){u.onload=function(t){$.isFunction(e)&&e({responseText:u.responseText,status:200,statusText:"OK"})},u.onerror=function(t){$.isFunction(n)&&n({responseText:u.responseText,status:444,statusText:"An error happened. Due to an XDomainRequest deficiency we can not extract any information about this error. Upgrade your browser."})};try{u.open("GET",t),u.send()}catch(t){$.isFunction(n)&&n(a,i)}}}else $.isFunction(n)&&n(a,i)}return a},jsonp:function(t){var n,e=t.url,i=document.head||document.getElementsByTagName("head")[0]||document.documentElement,r=t.callbackName||"openseadragon"+$.now(),o=window[r],s="$1"+r+"$2",a=t.param||"callback",l=t.callback;e=e.replace(/(\=)\?(&|$)|\?\?/i,s),e+=(/\?/.test(e)?"&":"?")+a+"="+r,window[r]=function(t){if(o)window[r]=o;else try{delete window[r]}catch(t){}l&&$.isFunction(l)&&l(t)},n=document.createElement("script"),void 0===t.async&&!1===t.async||(n.async="async"),t.scriptCharset&&(n.charset=t.scriptCharset),n.src=e,n.onload=n.onreadystatechange=function(t,e){!e&&n.readyState&&!/loaded|complete/.test(n.readyState)||(n.onload=n.onreadystatechange=null,i&&n.parentNode&&i.removeChild(n),n=void 0)},i.insertBefore(n,i.firstChild)},createFromDZI:function(){throw"OpenSeadragon.createFromDZI is deprecated, use Viewer.open."},parseXml:function(t){if(window.DOMParser)$.parseXml=function(t){return(new DOMParser).parseFromString(t,"text/xml")};else{if(!window.ActiveXObject)throw new Error("Browser doesn't support XML DOM.");$.parseXml=function(t){var e=null;return(e=new ActiveXObject("Microsoft.XMLDOM")).async=!1,e.loadXML(t),e}}return $.parseXml(t)},parseJSON:function(string){return window.JSON&&window.JSON.parse?$.parseJSON=window.JSON.parse:$.parseJSON=function(string){return eval("("+string+")")},$.parseJSON(string)},imageFormatSupported:function(t){return!!FILEFORMATS[(t=t||"").toLowerCase()]}}),$.Browser={vendor:$.BROWSERS.UNKNOWN,version:0,alpha:!0};var FILEFORMATS={bmp:!1,jpeg:!0,jpg:!0,png:!0,tif:!1,wdp:!1},URLPARAMS={};!function(){var t=navigator.appVersion,e=navigator.userAgent;switch(navigator.appName){case"Microsoft Internet Explorer":window.attachEvent&&window.ActiveXObject&&($.Browser.vendor=$.BROWSERS.IE,$.Browser.version=parseFloat(e.substring(e.indexOf("MSIE")+5,e.indexOf(";",e.indexOf("MSIE")))));break;case"Netscape":window.addEventListener&&(0<=e.indexOf("Firefox")?($.Browser.vendor=$.BROWSERS.FIREFOX,$.Browser.version=parseFloat(e.substring(e.indexOf("Firefox")+8))):0<=e.indexOf("Safari")?($.Browser.vendor=0<=e.indexOf("Chrome")?$.BROWSERS.CHROME:$.BROWSERS.SAFARI,$.Browser.version=parseFloat(e.substring(e.substring(0,e.indexOf("Safari")).lastIndexOf("/")+1,e.indexOf("Safari")))):null!==new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})").exec(e)&&($.Browser.vendor=$.BROWSERS.IE,$.Browser.version=parseFloat(RegExp.$1)));break;case"Opera":$.Browser.vendor=$.BROWSERS.OPERA,$.Browser.version=parseFloat(t)}var n,i,r,o=window.location.search.substring(1).split("&");for(r=0;r<o.length;r++)0<(i=(n=o[r]).indexOf("="))&&(URLPARAMS[n.substring(0,i)]=decodeURIComponent(n.substring(i+1)));$.Browser.alpha=!($.Browser.vendor==$.BROWSERS.IE&&$.Browser.version<9||$.Browser.vendor==$.BROWSERS.CHROME&&$.Browser.version<2),$.Browser.opacity=!($.Browser.vendor==$.BROWSERS.IE&&$.Browser.version<9)}();var nullfunction=function(t){};$.console=window.console||{log:nullfunction,debug:nullfunction,info:nullfunction,warn:nullfunction,error:nullfunction,assert:nullfunction},function(t){var e=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame,n=t.cancelAnimationFrame||t.mozCancelAnimationFrame||t.webkitCancelAnimationFrame||t.msCancelAnimationFrame;if(e&&n)$.requestAnimationFrame=function(){return e.apply(t,arguments)},$.cancelAnimationFrame=function(){return n.apply(t,arguments)};else{var i,r=[],o=[],s=0;$.requestAnimationFrame=function(t){return r.push([++s,t]),i=i||setInterval(function(){if(r.length){var t=$.now(),e=o;for(o=r,r=e;o.length;)o.shift()[1](t)}else clearInterval(i),i=void 0},20),s},$.cancelAnimationFrame=function(t){var e,n;for(e=0,n=r.length;e<n;e+=1)if(r[e][0]===t)return void r.splice(e,1);for(e=0,n=o.length;e<n;e+=1)if(o[e][0]===t)return void o.splice(e,1)}}}(window)}(OpenSeadragon),__WEBPACK_AMD_DEFINE_ARRAY__=[],void 0!==(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof(__WEBPACK_AMD_DEFINE_FACTORY__=function(){return OpenSeadragon})?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__)&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},function(t,e){function i(t,e){var n,i=t.controls;for(n=i.length-1;0<=n;n--)if(i[n].element==e)return n;return-1}var r;(r=OpenSeadragon).ControlDock=function(t){var e,n,i=["topleft","topright","bottomright","bottomleft"];for(r.extend(!0,this,{id:"controldock-"+r.now()+"-"+Math.floor(1e6*Math.random()),container:r.makeNeutralElement("div"),controls:[]},t),this.container.onsubmit=function(){return!1},this.element&&(this.element=r.getElement(this.element),this.element.appendChild(this.container),this.element.style.position="relative",this.container.style.width="100%",this.container.style.height="100%"),n=0;n<i.length;n++)e=i[n],this.controls[e]=r.makeNeutralElement("div"),this.controls[e].style.position="absolute",e.match("left")&&(this.controls[e].style.left="0px"),e.match("right")&&(this.controls[e].style.right="0px"),e.match("top")&&(this.controls[e].style.top="0px"),e.match("bottom")&&(this.controls[e].style.bottom="0px");this.container.appendChild(this.controls.topleft),this.container.appendChild(this.controls.topright),this.container.appendChild(this.controls.bottomright),this.container.appendChild(this.controls.bottomleft)},r.ControlDock.prototype={addControl:function(t,e){var n=null;if(!(0<=i(this,t=r.getElement(t)))){switch(e.anchor){case r.ControlAnchor.TOP_RIGHT:n=this.controls.topright,t.style.position="relative",t.style.paddingRight="0px",t.style.paddingTop="0px";break;case r.ControlAnchor.BOTTOM_RIGHT:n=this.controls.bottomright,t.style.position="relative",t.style.paddingRight="0px",t.style.paddingBottom="0px";break;case r.ControlAnchor.BOTTOM_LEFT:n=this.controls.bottomleft,t.style.position="relative",t.style.paddingLeft="0px",t.style.paddingBottom="0px";break;case r.ControlAnchor.TOP_LEFT:n=this.controls.topleft,t.style.position="relative",t.style.paddingLeft="0px",t.style.paddingTop="0px";break;case r.ControlAnchor.ABSOLUTE:n=this.container,t.style.margin="0px",t.style.padding="0px";break;default:case r.ControlAnchor.NONE:n=this.container,t.style.margin="0px",t.style.padding="0px"}this.controls.push(new r.Control(t,e,n)),t.style.display="inline-block"}},removeControl:function(t){var e=i(this,t=r.getElement(t));return 0<=e&&(this.controls[e].destroy(),this.controls.splice(e,1)),this},clearControls:function(){for(;0<this.controls.length;)this.controls.pop().destroy();return this},areControlsEnabled:function(){var t;for(t=this.controls.length-1;0<=t;t--)if(this.controls[t].isVisible())return!0;return!1},setControlsEnabled:function(t){var e;for(e=this.controls.length-1;0<=e;e--)this.controls[e].setVisible(t);return this}}},function(t,e){var o;(o=OpenSeadragon).EventSource=function(){this.events={}},o.EventSource.prototype={addOnceHandler:function(e,n,t,i){var r=this;i=i||1;var o=0,s=function(t){++o===i&&r.removeHandler(e,s),n(t)};this.addHandler(e,s,t)},addHandler:function(t,e,n){var i=this.events[t];i||(this.events[t]=i=[]),e&&o.isFunction(e)&&(i[i.length]={handler:e,userData:n||null})},removeHandler:function(t,e){var n,i=this.events[t],r=[];if(i&&o.isArray(i)){for(n=0;n<i.length;n++)i[n].handler!==e&&r.push(i[n]);this.events[t]=r}},removeAllHandlers:function(t){if(t)this.events[t]=[];else for(var e in this.events)this.events[e]=[]},getHandler:function(t){var r=this.events[t];return r&&r.length?(r=1===r.length?[r[0]]:Array.apply(null,r),function(t,e){var n,i=r.length;for(n=0;n<i;n++)r[n]&&(e.eventSource=t,e.userData=r[n].userData,r[n].handler(e))}):null},raiseEvent:function(t,e){var n=this.getHandler(t);n&&n(this,e=e||{})}}},function(t,e){var h;(h=OpenSeadragon).TileSource=function(t,e,n,i,r,o){var s,a,l=this,c=arguments;if(s=h.isPlainObject(t)?t:{width:c[0],height:c[1],tileSize:c[2],tileOverlap:c[3],minLevel:c[4],maxLevel:c[5]},h.EventSource.call(this),h.extend(!0,this,s),!this.success)for(a=0;a<arguments.length;a++)if(h.isFunction(arguments[a])){this.success=arguments[a];break}this.success&&this.addHandler("ready",function(t){l.success(t)}),"string"==h.type(t)&&(this.url=t),this.url?(this.aspectRatio=1,this.dimensions=new h.Point(10,10),this._tileWidth=0,this._tileHeight=0,this.tileOverlap=0,this.minLevel=0,this.maxLevel=0,this.ready=!1,this.getImageInfo(this.url)):(this.ready=!0,this.aspectRatio=s.width&&s.height?s.width/s.height:1,this.dimensions=new h.Point(s.width,s.height),this.tileSize?(this._tileWidth=this._tileHeight=this.tileSize,delete this.tileSize):(this.tileWidth?(this._tileWidth=this.tileWidth,delete this.tileWidth):this._tileWidth=0,this.tileHeight?(this._tileHeight=this.tileHeight,delete this.tileHeight):this._tileHeight=0),this.tileOverlap=s.tileOverlap?s.tileOverlap:0,this.minLevel=s.minLevel?s.minLevel:0,this.maxLevel=void 0!==s.maxLevel&&null!==s.maxLevel?s.maxLevel:s.width&&s.height?Math.ceil(Math.log(Math.max(s.width,s.height))/Math.log(2)):0,this.success&&h.isFunction(this.success)&&this.success(this))},h.TileSource.prototype={getTileSize:function(t){return h.console.error("[TileSource.getTileSize] is deprecated.Use TileSource.getTileWidth() and TileSource.getTileHeight() instead"),this._tileWidth},getTileWidth:function(t){return this._tileWidth?this._tileWidth:this.getTileSize(t)},getTileHeight:function(t){return this._tileHeight?this._tileHeight:this.getTileSize(t)},getLevelScale:function(t){var e,n={};for(e=0;e<=this.maxLevel;e++)n[e]=1/Math.pow(2,this.maxLevel-e);return this.getLevelScale=function(t){return n[t]},this.getLevelScale(t)},getNumTiles:function(t){var e=this.getLevelScale(t),n=Math.ceil(e*this.dimensions.x/this.getTileWidth(t)),i=Math.ceil(e*this.dimensions.y/this.getTileHeight(t));return new h.Point(n,i)},getPixelRatio:function(t){var e=this.dimensions.times(this.getLevelScale(t)),n=1/e.x,i=1/e.y;return new h.Point(n,i)},getClosestLevel:function(){var t,e;for(t=this.minLevel+1;t<=this.maxLevel&&!(1<(e=this.getNumTiles(t)).x||1<e.y);t++);return t-1},getTileAtPoint:function(t,e){var n=0<=e.x&&e.x<=1&&0<=e.y&&e.y<=1/this.aspectRatio;h.console.assert(n,"[TileSource.getTileAtPoint] must be called with a valid point.");var i=this.dimensions.x*this.getLevelScale(t),r=e.x*i,o=e.y*i,s=Math.floor(r/this.getTileWidth(t)),a=Math.floor(o/this.getTileHeight(t));return 1<=e.x&&(s=this.getNumTiles(t).x-1),e.y>=1/this.aspectRatio-1e-16&&(a=this.getNumTiles(t).y-1),new h.Point(s,a)},getTileBounds:function(t,e,n){var i=this.dimensions.times(this.getLevelScale(t)),r=this.getTileWidth(t),o=this.getTileHeight(t),s=0===e?0:r*e-this.tileOverlap,a=0===n?0:o*n-this.tileOverlap,l=r+(0===e?1:2)*this.tileOverlap,c=o+(0===n?1:2)*this.tileOverlap,u=1/i.x;return l=Math.min(l,i.x-s),c=Math.min(c,i.y-a),new h.Rect(s*u,a*u,l*u,c*u)},getImageInfo:function(i){var t,n,r,o,e,s,a,l=this;!i||-1<(a=(s=(e=i.split("/"))[e.length-1]).lastIndexOf("."))&&(e[e.length-1]=s.slice(0,a)),n=function(t){"string"==typeof t&&(t=h.parseXml(t));var e=h.TileSource.determineType(l,t,i);e?(void 0===(o=e.prototype.configure.apply(l,[t,i])).ajaxWithCredentials&&(o.ajaxWithCredentials=l.ajaxWithCredentials),r=new e(o),l.ready=!0,l.raiseEvent("ready",{tileSource:r})):l.raiseEvent("open-failed",{message:"Unable to load TileSource",source:i})},i.match(/\.js$/)?(t=i.split("/").pop().replace(".js",""),h.jsonp({url:i,async:!1,callbackName:t,callback:n})):h.makeAjaxRequest({url:i,withCredentials:this.ajaxWithCredentials,headers:this.ajaxHeaders,success:function(t){var e=function(e){var t,n,i=e.responseText,r=e.status;if(!e)throw new Error(h.getString("Errors.Security"));if(200!==e.status&&0!==e.status)throw t=404==(r=e.status)?"Not Found":e.statusText,new Error(h.getString("Errors.Status",r,t));if(i.match(/\s*<.*/))try{n=e.responseXML&&e.responseXML.documentElement?e.responseXML:h.parseXml(i)}catch(t){n=e.responseText}else if(i.match(/\s*[\{\[].*/))try{n=h.parseJSON(i)}catch(t){n=i}else n=i;return n}(t);n(e)},error:function(t,e){var n;try{n="HTTP "+t.status+" attempting to load TileSource"}catch(t){n=(void 0!==e&&e.toString?e.toString():"Unknown error")+" attempting to load TileSource"}l.raiseEvent("open-failed",{message:n,source:i})}})},supports:function(t,e){return!1},configure:function(t,e){throw new Error("Method not implemented.")},getTileUrl:function(t,e,n){throw new Error("Method not implemented.")},getTileAjaxHeaders:function(t,e,n){return{}},tileExists:function(t,e,n){var i=this.getNumTiles(t);return t>=this.minLevel&&t<=this.maxLevel&&0<=e&&0<=n&&e<i.x&&n<i.y}},h.extend(!0,h.TileSource.prototype,h.EventSource.prototype),h.TileSource.determineType=function(t,e,n){var i;for(i in OpenSeadragon)if(i.match(/.+TileSource$/)&&h.isFunction(OpenSeadragon[i])&&h.isFunction(OpenSeadragon[i].prototype.supports)&&OpenSeadragon[i].prototype.supports.call(t,e,n))return OpenSeadragon[i];h.console.error("No TileSource was able to open %s %s",n,e)}},function(t,e){function i(t){if(!t||!t.documentElement)throw new Error(l.getString("Errors.Xml"));var e=t.documentElement,n=null;if("info"==e.tagName)try{return function t(e,n,i){var r,o;if(3==e.nodeType&&i)o=e.nodeValue.trim(),o.match(/^\d*$/)&&(o=Number(o)),n[i]?(l.isArray(n[i])||(n[i]=[n[i]]),n[i].push(o)):n[i]=o;else if(1==e.nodeType)for(r=0;r<e.childNodes.length;r++)t(e.childNodes[r],n,e.nodeName)}(e,n={}),n}catch(t){throw t instanceof Error?t:new Error(l.getString("Errors.IIIF"))}throw new Error(l.getString("Errors.IIIF"))}var l;(l=OpenSeadragon).IIIFTileSource=function(t){if(l.extend(!0,this,t),!(this.height&&this.width&&this["@id"]))throw new Error("IIIF required parameters not provided.");if(t.tileSizePerScaleFactor={},this.tile_width&&this.tile_height)t.tileWidth=this.tile_width,t.tileHeight=this.tile_height;else if(this.tile_width)t.tileSize=this.tile_width;else if(this.tile_height)t.tileSize=this.tile_height;else if(this.tiles)if(1==this.tiles.length)t.tileWidth=this.tiles[0].width,t.tileHeight=this.tiles[0].height||this.tiles[0].width,this.scale_factors=this.tiles[0].scaleFactors;else{this.scale_factors=[];for(var e=0;e<this.tiles.length;e++)for(var n=0;n<this.tiles[e].scaleFactors.length;n++){var i=this.tiles[e].scaleFactors[n];this.scale_factors.push(i),t.tileSizePerScaleFactor[i]={width:this.tiles[e].width,height:this.tiles[e].height||this.tiles[e].width}}}else if(function(t){return!(-1!=["http://library.stanford.edu/iiif/image-api/compliance.html#level0","http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level0","http://iiif.io/api/image/2/level0.json"].indexOf(t[0]))||-1!=t.indexOf("sizeByW")}(t.profile)){for(var r=Math.min(this.height,this.width),o=[256,512,1024],s=[],a=0;a<o.length;a++)o[a]<=r&&s.push(o[a]);0<s.length?t.tileSize=Math.max.apply(null,s):t.tileSize=r}else this.sizes&&0<this.sizes.length?(this.emulateLegacyImagePyramid=!0,t.levels=function(t){for(var e=[],n=0;n<t.sizes.length;n++)e.push({url:t["@id"]+"/full/"+t.sizes[n].width+",/0/default.jpg",width:t.sizes[n].width,height:t.sizes[n].height});return e.sort(function(t,e){return t.width-e.width})}(this),l.extend(!0,t,{width:t.levels[t.levels.length-1].width,height:t.levels[t.levels.length-1].height,tileSize:Math.max(t.height,t.width),tileOverlap:0,minLevel:0,maxLevel:t.levels.length-1}),this.levels=t.levels):l.console.error("Nothing in the info.json to construct image pyramids from");t.maxLevel||this.emulateLegacyImagePyramid||(this.scale_factors?t.maxLevel=Math.floor(Math.pow(Math.max.apply(null,this.scale_factors),.5)):t.maxLevel=Number(Math.ceil(Math.log(Math.max(this.width,this.height),2)))),l.TileSource.apply(this,[t])},l.extend(l.IIIFTileSource.prototype,l.TileSource.prototype,{supports:function(t,e){return!!(t.protocol&&"http://iiif.io/api/image"==t.protocol||t["@context"]&&("http://library.stanford.edu/iiif/image-api/1.1/context.json"==t["@context"]||"http://iiif.io/api/image/1/context.json"==t["@context"])||t.profile&&0===t.profile.indexOf("http://library.stanford.edu/iiif/image-api/compliance.html")||t.identifier&&t.width&&t.height||t.documentElement&&"info"==t.documentElement.tagName&&"http://library.stanford.edu/iiif/image-api/ns/"==t.documentElement.namespaceURI)},configure:function(t,e){if(l.isPlainObject(t))return t["@context"]||(t["@context"]="http://iiif.io/api/image/1.0/context.json",t["@id"]=e.replace("/info.json","")),t;var n=i(t);return n["@context"]="http://iiif.io/api/image/1.0/context.json",n["@id"]=e.replace("/info.xml",""),n},getTileWidth:function(t){if(this.emulateLegacyImagePyramid)return l.TileSource.prototype.getTileWidth.call(this,t);var e=Math.pow(2,this.maxLevel-t);return this.tileSizePerScaleFactor&&this.tileSizePerScaleFactor[e]?this.tileSizePerScaleFactor[e].width:this._tileWidth},getTileHeight:function(t){if(this.emulateLegacyImagePyramid)return l.TileSource.prototype.getTileHeight.call(this,t);var e=Math.pow(2,this.maxLevel-t);return this.tileSizePerScaleFactor&&this.tileSizePerScaleFactor[e]?this.tileSizePerScaleFactor[e].height:this._tileHeight},getLevelScale:function(t){if(this.emulateLegacyImagePyramid){var e=NaN;return 0<this.levels.length&&t>=this.minLevel&&t<=this.maxLevel&&(e=this.levels[t].width/this.levels[this.maxLevel].width),e}return l.TileSource.prototype.getLevelScale.call(this,t)},getNumTiles:function(t){return this.emulateLegacyImagePyramid?this.getLevelScale(t)?new l.Point(1,1):new l.Point(0,0):l.TileSource.prototype.getNumTiles.call(this,t)},getTileAtPoint:function(t,e){return this.emulateLegacyImagePyramid?new l.Point(0,0):l.TileSource.prototype.getTileAtPoint.call(this,t,e)},getTileUrl:function(t,e,n){if(this.emulateLegacyImagePyramid){var i=null;return 0<this.levels.length&&t>=this.minLevel&&t<=this.maxLevel&&(i=this.levels[t].url),i}var r,o,s,a,l,c,u,h,d,f,p,v=Math.pow(.5,this.maxLevel-t),g=Math.ceil(this.width*v),m=Math.ceil(this.height*v);return r=this.getTileWidth(t),o=this.getTileHeight(t),s=Math.ceil(r/v),a=Math.ceil(o/v),p=-1<this["@context"].indexOf("/1.0/context.json")||-1<this["@context"].indexOf("/1.1/context.json")||-1<this["@context"].indexOf("/1/context.json")?"native.jpg":"default.jpg",l=g<r&&m<o?(f=g+",","full"):(c=e*s,u=n*a,h=Math.min(s,this.width-c),d=Math.min(a,this.height-u),f=Math.ceil(h*v)+",",[c,u,h,d].join(",")),[this["@id"],l,f,"0",p].join("/")}})},function(t,e){var h;(h=OpenSeadragon).Drawer=function(t){h.console.assert(t.viewer,"[Drawer] options.viewer is required");var e=arguments;if(h.isPlainObject(t)||(t={source:e[0],viewport:e[1],element:e[2]}),h.console.assert(t.viewport,"[Drawer] options.viewport is required"),h.console.assert(t.element,"[Drawer] options.element is required"),t.source&&h.console.error("[Drawer] options.source is no longer accepted; use TiledImage instead"),this.viewer=t.viewer,this.viewport=t.viewport,this.debugGridColor="string"==typeof t.debugGridColor?[t.debugGridColor]:t.debugGridColor||h.DEFAULT_SETTINGS.debugGridColor,t.opacity&&h.console.error("[Drawer] options.opacity is no longer accepted; set the opacity on the TiledImage instead"),this.useCanvas=h.supportsCanvas&&(!this.viewer||this.viewer.useCanvas),this.container=h.getElement(t.element),this.canvas=h.makeNeutralElement(this.useCanvas?"canvas":"div"),this.context=this.useCanvas?this.canvas.getContext("2d"):null,this.sketchCanvas=null,this.sketchContext=null,this.element=this.container,this.container.dir="ltr",this.useCanvas){var n=this._calculateCanvasSize();this.canvas.width=n.x,this.canvas.height=n.y}this.canvas.style.width="100%",this.canvas.style.height="100%",this.canvas.style.position="absolute",h.setElementOpacity(this.canvas,this.opacity,!0),this.container.style.textAlign="left",this.container.appendChild(this.canvas)},h.Drawer.prototype={addOverlay:function(t,e,n,i){return h.console.error("drawer.addOverlay is deprecated. Use viewer.addOverlay instead."),this.viewer.addOverlay(t,e,n,i),this},updateOverlay:function(t,e,n){return h.console.error("drawer.updateOverlay is deprecated. Use viewer.updateOverlay instead."),this.viewer.updateOverlay(t,e,n),this},removeOverlay:function(t){return h.console.error("drawer.removeOverlay is deprecated. Use viewer.removeOverlay instead."),this.viewer.removeOverlay(t),this},clearOverlays:function(){return h.console.error("drawer.clearOverlays is deprecated. Use viewer.clearOverlays instead."),this.viewer.clearOverlays(),this},setOpacity:function(t){h.console.error("drawer.setOpacity is deprecated. Use tiledImage.setOpacity instead.");for(var e=this.viewer.world,n=0;n<e.getItemCount();n++)e.getItemAt(n).setOpacity(t);return this},getOpacity:function(){h.console.error("drawer.getOpacity is deprecated. Use tiledImage.getOpacity instead.");for(var t=this.viewer.world,e=0,n=0;n<t.getItemCount();n++){var i=t.getItemAt(n).getOpacity();e<i&&(e=i)}return e},needsUpdate:function(){return h.console.error("[Drawer.needsUpdate] this function is deprecated. Use World.needsDraw instead."),this.viewer.world.needsDraw()},numTilesLoaded:function(){return h.console.error("[Drawer.numTilesLoaded] this function is deprecated. Use TileCache.numTilesLoaded instead."),this.viewer.tileCache.numTilesLoaded()},reset:function(){return h.console.error("[Drawer.reset] this function is deprecated. Use World.resetItems instead."),this.viewer.world.resetItems(),this},update:function(){return h.console.error("[Drawer.update] this function is deprecated. Use Drawer.clear and World.draw instead."),this.clear(),this.viewer.world.draw(),this},canRotate:function(){return this.useCanvas},destroy:function(){this.canvas.width=1,this.canvas.height=1,this.sketchCanvas=null,this.sketchContext=null},clear:function(){if(this.canvas.innerHTML="",this.useCanvas){var t=this._calculateCanvasSize();if((this.canvas.width!=t.x||this.canvas.height!=t.y)&&(this.canvas.width=t.x,this.canvas.height=t.y,null!==this.sketchCanvas)){var e=this._calculateSketchCanvasSize();this.sketchCanvas.width=e.x,this.sketchCanvas.height=e.y}this._clear()}},_clear:function(t,e){if(this.useCanvas){var n=this._getContext(t);if(e)n.clearRect(e.x,e.y,e.width,e.height);else{var i=n.canvas;n.clearRect(0,0,i.width,i.height)}}},viewportToDrawerRectangle:function(t){var e=this.viewport.pixelFromPointNoRotate(t.getTopLeft(),!0),n=this.viewport.deltaPixelsFromPointsNoRotate(t.getSize(),!0);return new h.Rect(e.x*h.pixelDensityRatio,e.y*h.pixelDensityRatio,n.x*h.pixelDensityRatio,n.y*h.pixelDensityRatio)},drawTile:function(t,e,n,i,r){if(h.console.assert(t,"[Drawer.drawTile] tile is required"),h.console.assert(e,"[Drawer.drawTile] drawingHandler is required"),this.useCanvas){var o=this._getContext(n);i=i||1,t.drawCanvas(o,e,i,r)}else t.drawHTML(this.canvas)},_getContext:function(t){var e=this.context;if(t){if(null===this.sketchCanvas){this.sketchCanvas=document.createElement("canvas");var n=this._calculateSketchCanvasSize();if(this.sketchCanvas.width=n.x,this.sketchCanvas.height=n.y,this.sketchContext=this.sketchCanvas.getContext("2d"),0===this.viewport.getRotation()){var i=this;this.viewer.addHandler("rotate",function t(){if(0!==i.viewport.getRotation()){i.viewer.removeHandler("rotate",t);var e=i._calculateSketchCanvasSize();i.sketchCanvas.width=e.x,i.sketchCanvas.height=e.y}})}}e=this.sketchContext}return e},saveContext:function(t){this.useCanvas&&this._getContext(t).save()},restoreContext:function(t){this.useCanvas&&this._getContext(t).restore()},setClip:function(t,e){if(this.useCanvas){var n=this._getContext(e);n.beginPath(),n.rect(t.x,t.y,t.width,t.height),n.clip()}},drawRectangle:function(t,e,n){if(this.useCanvas){var i=this._getContext(n);i.save(),i.fillStyle=e,i.fillRect(t.x,t.y,t.width,t.height),i.restore()}},blendSketch:function(t,e,n,i){var r=t;if(h.isPlainObject(r)||(r={opacity:t,scale:e,translate:n,compositeOperation:i}),this.useCanvas&&this.sketchCanvas){t=r.opacity,i=r.compositeOperation;var o=r.bounds;if(this.context.save(),this.context.globalAlpha=t,i&&(this.context.globalCompositeOperation=i),o)o.x<0&&(o.width+=o.x,o.x=0),o.x+o.width>this.canvas.width&&(o.width=this.canvas.width-o.x),o.y<0&&(o.height+=o.y,o.y=0),o.y+o.height>this.canvas.height&&(o.height=this.canvas.height-o.y),this.context.drawImage(this.sketchCanvas,o.x,o.y,o.width,o.height,o.x,o.y,o.width,o.height);else{e=r.scale||1;var s=(n=r.translate)instanceof h.Point?n:new h.Point(0,0),a=0,l=0;if(n){var c=this.sketchCanvas.width-this.canvas.width,u=this.sketchCanvas.height-this.canvas.height;a=Math.round(c/2),l=Math.round(u/2)}this.context.drawImage(this.sketchCanvas,s.x-a*e,s.y-l*e,(this.canvas.width+2*a)*e,(this.canvas.height+2*l)*e,-a,-l,this.canvas.width+2*a,this.canvas.height+2*l)}this.context.restore()}},drawDebugInfo:function(t,e,n,i){if(this.useCanvas){var r=this.viewer.world.getIndexOfItem(i)%this.debugGridColor.length,o=this.context;o.save(),o.lineWidth=2*h.pixelDensityRatio,o.font="small-caps bold "+13*h.pixelDensityRatio+"px arial",o.strokeStyle=this.debugGridColor[r],o.fillStyle=this.debugGridColor[r],0!==this.viewport.degrees&&this._offsetForRotation({degrees:this.viewport.degrees}),i.getRotation(!0)%360!=0&&this._offsetForRotation({degrees:i.getRotation(!0),point:i.viewport.pixelFromPointNoRotate(i._getRotationPoint(!0),!0)}),o.strokeRect(t.position.x*h.pixelDensityRatio,t.position.y*h.pixelDensityRatio,t.size.x*h.pixelDensityRatio,t.size.y*h.pixelDensityRatio);var s=(t.position.x+t.size.x/2)*h.pixelDensityRatio,a=(t.position.y+t.size.y/2)*h.pixelDensityRatio;o.translate(s,a),o.rotate(Math.PI/180*-this.viewport.degrees),o.translate(-s,-a),0===t.x&&0===t.y&&(o.fillText("Zoom: "+this.viewport.getZoom(),t.position.x*h.pixelDensityRatio,(t.position.y-30)*h.pixelDensityRatio),o.fillText("Pan: "+this.viewport.getBounds().toString(),t.position.x*h.pixelDensityRatio,(t.position.y-20)*h.pixelDensityRatio)),o.fillText("Level: "+t.level,(t.position.x+10)*h.pixelDensityRatio,(t.position.y+20)*h.pixelDensityRatio),o.fillText("Column: "+t.x,(t.position.x+10)*h.pixelDensityRatio,(t.position.y+30)*h.pixelDensityRatio),o.fillText("Row: "+t.y,(t.position.x+10)*h.pixelDensityRatio,(t.position.y+40)*h.pixelDensityRatio),o.fillText("Order: "+n+" of "+e,(t.position.x+10)*h.pixelDensityRatio,(t.position.y+50)*h.pixelDensityRatio),o.fillText("Size: "+t.size.toString(),(t.position.x+10)*h.pixelDensityRatio,(t.position.y+60)*h.pixelDensityRatio),o.fillText("Position: "+t.position.toString(),(t.position.x+10)*h.pixelDensityRatio,(t.position.y+70)*h.pixelDensityRatio),0!==this.viewport.degrees&&this._restoreRotationChanges(),i.getRotation(!0)%360!=0&&this._restoreRotationChanges(),o.restore()}},debugRect:function(t){if(this.useCanvas){var e=this.context;e.save(),e.lineWidth=2*h.pixelDensityRatio,e.strokeStyle=this.debugGridColor[0],e.fillStyle=this.debugGridColor[0],e.strokeRect(t.x*h.pixelDensityRatio,t.y*h.pixelDensityRatio,t.width*h.pixelDensityRatio,t.height*h.pixelDensityRatio),e.restore()}},getCanvasSize:function(t){var e=this._getContext(t).canvas;return new h.Point(e.width,e.height)},getCanvasCenter:function(){return new h.Point(this.canvas.width/2,this.canvas.height/2)},_offsetForRotation:function(t){var e=t.point?t.point.times(h.pixelDensityRatio):this.getCanvasCenter(),n=this._getContext(t.useSketch);n.save(),n.translate(e.x,e.y),n.rotate(Math.PI/180*t.degrees),n.translate(-e.x,-e.y)},_restoreRotationChanges:function(t){this._getContext(t).restore()},_calculateCanvasSize:function(){var t=h.pixelDensityRatio,e=this.viewport.getContainerSize();return{x:e.x*t,y:e.y*t}},_calculateSketchCanvasSize:function(){var t=this._calculateCanvasSize();if(0===this.viewport.getRotation())return t;var e=Math.ceil(Math.sqrt(t.x*t.x+t.y*t.y));return{x:e,y:e}}}},function(t,e){function i(t){n.extend(!0,this,{timeout:n.DEFAULT_SETTINGS.timeout,jobId:null},t),this.image=null}var n;n=OpenSeadragon,i.prototype={errorMsg:null,start:function(){var o=this,t=this.abort;this.image=new Image,this.image.onload=function(){o.finish(!0)},this.image.onabort=this.image.onerror=function(){o.errorMsg="Image load aborted",o.finish(!1)},this.jobId=window.setTimeout(function(){o.errorMsg="Image load exceeded timeout",o.finish(!1)},this.timeout),this.loadWithAjax?(this.request=n.makeAjaxRequest({url:this.src,withCredentials:this.ajaxWithCredentials,headers:this.ajaxHeaders,responseType:"arraybuffer",success:function(e){var n;try{n=new window.Blob([e.response])}catch(t){var i=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder;if("TypeError"===t.name&&i){var r=new i;r.append(e.response),n=r.getBlob()}}0===n.size&&(o.errorMsg="Empty image response.",o.finish(!1));var t=(window.URL||window.webkitURL).createObjectURL(n);o.image.src=t},error:function(t){o.errorMsg="Image load aborted - XHR error",o.finish(!1)}}),this.abort=function(){o.request.abort(),"function"==typeof t&&t()}):(!1!==this.crossOriginPolicy&&(this.image.crossOrigin=this.crossOriginPolicy),this.image.src=this.src)},finish:function(t){this.image.onload=this.image.onerror=this.image.onabort=null,t||(this.image=null),this.jobId&&window.clearTimeout(this.jobId),this.callback(this)}},n.ImageLoader=function(t){n.extend(!0,this,{jobLimit:n.DEFAULT_SETTINGS.imageLoaderLimit,timeout:n.DEFAULT_SETTINGS.timeout,jobQueue:[],jobsInProgress:0},t)},n.ImageLoader.prototype={addJob:function(e){var n=this,t=new i({src:e.src,loadWithAjax:e.loadWithAjax,ajaxHeaders:e.loadWithAjax?e.ajaxHeaders:null,crossOriginPolicy:e.crossOriginPolicy,ajaxWithCredentials:e.ajaxWithCredentials,callback:function(t){!function(t,e,n){t.jobsInProgress--,(!t.jobLimit||t.jobsInProgress<t.jobLimit)&&0<t.jobQueue.length&&(t.jobQueue.shift().start(),t.jobsInProgress++),n(e.image,e.errorMsg,e.request)}(n,t,e.callback)},abort:e.abort,timeout:this.timeout});!this.jobLimit||this.jobsInProgress<this.jobLimit?(t.start(),this.jobsInProgress++):this.jobQueue.push(t)},clear:function(){for(var t=0;t<this.jobQueue.length;t++){var e=this.jobQueue[t];"function"==typeof e.abort&&e.abort()}this.jobQueue=[]}}},function(t,e){!function(v){function r(t){var e,n=U[t.hash],i=n.activePointersLists.length;for(e=0;e<i;e++)0<n.activePointersLists[e].captureCount&&(v.removeEvent(v.MouseTracker.captureElement,"mousemove",n.mousemovecaptured,!0),v.removeEvent(v.MouseTracker.captureElement,"mouseup",n.mouseupcaptured,!0),v.removeEvent(v.MouseTracker.captureElement,v.MouseTracker.unprefixedPointerEvents?"pointermove":"MSPointerMove",n.pointermovecaptured,!0),v.removeEvent(v.MouseTracker.captureElement,v.MouseTracker.unprefixedPointerEvents?"pointerup":"MSPointerUp",n.pointerupcaptured,!0),v.removeEvent(v.MouseTracker.captureElement,"touchmove",n.touchmovecaptured,!0),v.removeEvent(v.MouseTracker.captureElement,"touchend",n.touchendcaptured,!0),n.activePointersLists[e].captureCount=0);for(e=0;e<i;e++)n.activePointersLists.pop()}function e(t){var e,n,i=U[t.hash];if(i.tracking){for(n=0;n<v.MouseTracker.subscribeEvents.length;n++)e=v.MouseTracker.subscribeEvents[n],v.removeEvent(t.element,e,i[e],!1);r(t),i.tracking=!1}}function o(t,e){var n=U[t.hash];if("pointerevent"===e)return{upName:v.MouseTracker.unprefixedPointerEvents?"pointerup":"MSPointerUp",upHandler:n.pointerupcaptured,moveName:v.MouseTracker.unprefixedPointerEvents?"pointermove":"MSPointerMove",moveHandler:n.pointermovecaptured};if("mouse"===e)return{upName:"mouseup",upHandler:n.mouseupcaptured,moveName:"mousemove",moveHandler:n.mousemovecaptured};if("touch"===e)return{upName:"touchend",upHandler:n.touchendcaptured,moveName:"touchmove",moveHandler:n.touchmovecaptured};throw new Error("MouseTracker.getCaptureEventParams: Unknown pointer type.")}function c(t,e,n){var i,r=t.getActivePointersListByType(e);r.captureCount+=n||1,1===r.captureCount&&(v.Browser.vendor===v.BROWSERS.IE&&v.Browser.version<9?t.element.setCapture(!0):(i=o(t,v.MouseTracker.havePointerEvents?"pointerevent":e),G&&H(window.top)&&v.addEvent(window.top,i.upName,i.upHandler,!0),v.addEvent(v.MouseTracker.captureElement,i.upName,i.upHandler,!0),v.addEvent(v.MouseTracker.captureElement,i.moveName,i.moveHandler,!0)))}function l(t,e,n){var i,r=t.getActivePointersListByType(e);r.captureCount-=n||1,0===r.captureCount&&(v.Browser.vendor===v.BROWSERS.IE&&v.Browser.version<9?t.element.releaseCapture():(i=o(t,v.MouseTracker.havePointerEvents?"pointerevent":e),G&&H(window.top)&&v.removeEvent(window.top,i.upName,i.upHandler,!0),v.removeEvent(v.MouseTracker.captureElement,i.moveName,i.moveHandler,!0),v.removeEvent(v.MouseTracker.captureElement,i.upName,i.upHandler,!0)))}function i(t){var e;if(v.MouseTracker.unprefixedPointerEvents)e=t.pointerType;else switch(t.pointerType){case 2:e="touch";break;case 3:e="pen";break;case 4:e="mouse";break;default:e=""}return e}function u(t){return v.getMousePosition(t)}function h(t,e){return g(u(t),e)}function g(t,e){var n=v.getElementOffset(e);return t.minus(n)}function m(t,e){return new v.Point((t.x+e.x)/2,(t.y+e.y)/2)}function s(t,e){var n={target:(e=v.getEvent(e)).target||e.srcElement,type:"wheel",shiftKey:e.shiftKey||!1,clientX:e.clientX,clientY:e.clientY,pageX:e.pageX?e.pageX:e.clientX,pageY:e.pageY?e.pageY:e.clientY,deltaMode:"MozMousePixelScroll"==e.type?0:1,deltaX:0,deltaZ:0};"mousewheel"==v.MouseTracker.wheelEventName?n.deltaY=-e.wheelDelta/v.DEFAULT_SETTINGS.pixelsPerWheelLine:n.deltaY=e.detail,a(t,n,e)}function a(t,e,n){var i;i=e.deltaY<0?1:-1,t.scrollHandler&&!1===t.scrollHandler({eventSource:t,pointerType:"mouse",position:h(e,t.element),scroll:i,shift:e.shiftKey,isTouchEvent:!1,originalEvent:n,preventDefaultAction:!1,userData:t.userData})&&v.cancelEvent(n)}function d(t,e){if(t===e)return!1;for(;e&&e!==t;)e=e.parentNode;return e===t}function f(t,e){M(t,e,[{id:v.MouseTracker.mousePointerId,type:"mouse",isPrimary:!0,currentPos:u(e),currentTime:v.now()}])}function p(t,e){D(t,e,[{id:v.MouseTracker.mousePointerId,type:"mouse",isPrimary:!0,currentPos:u(e),currentTime:v.now()}])}function y(t){return v.Browser.vendor===v.BROWSERS.IE&&v.Browser.version<9?1===t?0:2===t?2:4===t?1:-1:t}function w(t,e){B(t,e=v.getEvent(e),[{id:v.MouseTracker.mousePointerId,type:"mouse",isPrimary:!0,currentPos:u(e),currentTime:v.now()}],y(e.button))&&l(t,"mouse")}function _(t,e){F(t,e=v.getEvent(e),[{id:v.MouseTracker.mousePointerId,type:"mouse",isPrimary:!0,currentPos:u(e),currentTime:v.now()}])}function x(t,e,n){var i,r=n.getLength(),o=[];if("touch"===n.type||0<n.contacts){for(i=0;i<r;i++)o.push(n.getByIndex(i));0<o.length&&(B(t,e,o,0),n.captureCount=1,l(t,n.type),D(t,e,o))}}function T(t,e){var n,i,r,o,s=e.changedTouches.length,a=[];for(n=v.now(),i=0;i<s;i++)a.push({id:e.changedTouches[i].identifier,type:"touch",currentPos:u(e.changedTouches[i]),currentTime:n});for(B(t,e,a,0)&&l(t,"touch",s),D(t,e,a),i=0;i<V.length;i++)if(V[i]!==t&&V[i].isTracking()&&d(V[i].element,t.element)){for(o=[],r=0;r<s;r++)o.push({id:e.changedTouches[r].identifier,type:"touch",currentPos:u(e.changedTouches[r]),currentTime:n});D(V[i],e,o)}v.cancelEvent(e)}function b(t,e){var n,i=e.changedTouches.length,r=[];for(n=0;n<i;n++)r.push({id:e.changedTouches[n].identifier,type:"touch",currentPos:u(e.changedTouches[n]),currentTime:v.now()});F(t,e,r),v.cancelEvent(e)}function S(t,e){e.currentTarget===e.relatedTarget||d(e.currentTarget,e.relatedTarget)||M(t,e,[{id:e.pointerId,type:i(e),isPrimary:e.isPrimary,currentPos:u(e),currentTime:v.now()}])}function P(t,e){e.currentTarget===e.relatedTarget||d(e.currentTarget,e.relatedTarget)||D(t,e,[{id:e.pointerId,type:i(e),isPrimary:e.isPrimary,currentPos:u(e),currentTime:v.now()}])}function C(t,e){var n;L(t,e,[n={id:e.pointerId,type:i(e),isPrimary:e.isPrimary,currentPos:u(e),currentTime:v.now()}],e.button)&&(v.stopEvent(e),c(t,n.type)),(t.clickHandler||t.dblClickHandler||t.pressHandler||t.dragHandler||t.dragEndHandler||t.pinchHandler)&&v.cancelEvent(e)}function E(t,e){R(t,e)}function R(t,e){var n;B(t,e,[n={id:e.pointerId,type:i(e),isPrimary:e.isPrimary,currentPos:u(e),currentTime:v.now()}],e.button)&&l(t,n.type)}function k(t,e){O(t,e)}function O(t,e){F(t,e,[{id:e.pointerId,type:i(e),isPrimary:e.isPrimary,currentPos:u(e),currentTime:v.now()}])}function I(t,e){(function(t,e,n){B(t,e,n,0),D(t,e,n)})(t,e,[{id:e.pointerId,type:i(e)}])}function A(t,e){return e.hasOwnProperty("isPrimary")||(0===t.getLength()?e.isPrimary=!0:e.isPrimary=!1),e.speed=0,e.direction=0,e.contactPos=e.currentPos,e.contactTime=e.currentTime,e.lastPos=e.currentPos,e.lastTime=e.currentTime,t.add(e)}function $(t,e){var n,i;return t.getById(e.id)?(n=t.removeById(e.id),e.hasOwnProperty("isPrimary")||(i=t.getPrimary())||(i=t.getByIndex(0))&&(i.isPrimary=!0)):n=t.getLength(),n}function M(t,e,n){var i,r,o,s=t.getActivePointersListByType(n[0].type),a=n.length;for(i=0;i<a;i++)r=n[i],(o=s.getById(r.id))?(o.insideElement=!0,o.lastPos=o.currentPos,o.lastTime=o.currentTime,o.currentPos=r.currentPos,o.currentTime=r.currentTime,r=o):(r.captured=!1,r.insideElementPressed=!1,r.insideElement=!0,A(s,r)),t.enterHandler&&!1===t.enterHandler({eventSource:t,pointerType:r.type,position:g(r.currentPos,t.element),buttons:s.buttons,pointers:t.getActivePointerCount(),insideElementPressed:r.insideElementPressed,buttonDownAny:0!==s.buttons,isTouchEvent:"touch"===r.type,originalEvent:e,preventDefaultAction:!1,userData:t.userData})&&v.cancelEvent(e)}function D(t,e,n){var i,r,o,s=t.getActivePointersListByType(n[0].type),a=n.length;for(i=0;i<a;i++)r=n[i],(o=s.getById(r.id))&&(o.captured?(o.insideElement=!1,o.lastPos=o.currentPos,o.lastTime=o.currentTime,o.currentPos=r.currentPos,o.currentTime=r.currentTime):$(s,o),r=o),t.exitHandler&&!1===t.exitHandler({eventSource:t,pointerType:r.type,position:g(r.currentPos,t.element),buttons:s.buttons,pointers:t.getActivePointerCount(),insideElementPressed:!!o&&o.insideElementPressed,buttonDownAny:0!==s.buttons,isTouchEvent:"touch"===r.type,originalEvent:e,preventDefaultAction:!1,userData:t.userData})&&v.cancelEvent(e)}function L(t,e,n,i){var r,o,s,a=U[t.hash],l=t.getActivePointersListByType(n[0].type),c=n.length;void 0!==e.buttons?l.buttons=e.buttons:v.Browser.vendor===v.BROWSERS.IE&&v.Browser.version<9?0===i?l.buttons+=1:1===i?l.buttons+=4:2===i?l.buttons+=2:3===i?l.buttons+=8:4===i?l.buttons+=16:5===i&&(l.buttons+=32):0===i?l.buttons|=1:1===i?l.buttons|=4:2===i?l.buttons|=2:3===i?l.buttons|=8:4===i?l.buttons|=16:5===i&&(l.buttons|=32);var u=t.getActivePointersListsExceptType(n[0].type);for(r=0;r<u.length;r++)x(t,e,u[r]);if(0!==i)return t.nonPrimaryPressHandler&&!1===t.nonPrimaryPressHandler({eventSource:t,pointerType:n[0].type,position:g(n[0].currentPos,t.element),button:i,buttons:l.buttons,isTouchEvent:"touch"===n[0].type,originalEvent:e,preventDefaultAction:!1,userData:t.userData})&&v.cancelEvent(e),!1;for(r=0;r<c;r++)o=n[r],(s=l.getById(o.id))?(s.captured=!0,s.insideElementPressed=!0,s.insideElement=!0,s.contactPos=o.currentPos,s.contactTime=o.currentTime,s.lastPos=s.currentPos,s.lastTime=s.currentTime,s.currentPos=o.currentPos,s.currentTime=o.currentTime,o=s):(o.captured=!0,o.insideElementPressed=!0,o.insideElement=!0,A(l,o)),l.addContact(),(t.dragHandler||t.dragEndHandler||t.pinchHandler)&&v.MouseTracker.gesturePointVelocityTracker.addPoint(t,o),1===l.contacts?t.pressHandler&&!1===t.pressHandler({eventSource:t,pointerType:o.type,position:g(o.contactPos,t.element),buttons:l.buttons,isTouchEvent:"touch"===o.type,originalEvent:e,preventDefaultAction:!1,userData:t.userData})&&v.cancelEvent(e):2===l.contacts&&t.pinchHandler&&"touch"===o.type&&(a.pinchGPoints=l.asArray(),a.lastPinchDist=a.currentPinchDist=a.pinchGPoints[0].currentPos.distanceTo(a.pinchGPoints[1].currentPos),a.lastPinchCenter=a.currentPinchCenter=m(a.pinchGPoints[0].currentPos,a.pinchGPoints[1].currentPos));return!0}function B(t,e,n,i){var r,o,s,a,l,c,u=U[t.hash],h=t.getActivePointersListByType(n[0].type),d=n.length,f=!1,p=!1;if(void 0!==e.buttons?h.buttons=e.buttons:v.Browser.vendor===v.BROWSERS.IE&&v.Browser.version<9?0===i?h.buttons-=1:1===i?h.buttons-=4:2===i?h.buttons-=2:3===i?h.buttons-=8:4===i?h.buttons-=16:5===i&&(h.buttons-=32):0===i?h.buttons^=-2:1===i?h.buttons^=-5:2===i?h.buttons^=-3:3===i?h.buttons^=-9:4===i?h.buttons^=-17:5===i&&(h.buttons^=-33),0!==i)return t.nonPrimaryReleaseHandler&&!1===t.nonPrimaryReleaseHandler({eventSource:t,pointerType:n[0].type,position:g(n[0].currentPos,t.element),button:i,buttons:h.buttons,isTouchEvent:"touch"===n[0].type,originalEvent:e,preventDefaultAction:!1,userData:t.userData})&&v.cancelEvent(e),x(t,e,t.getActivePointersListByType("mouse")),!1;for(s=0;s<d;s++)a=n[s],(l=h.getById(a.id))&&(l.captured&&(p=f=!(l.captured=!1)),l.lastPos=l.currentPos,l.lastTime=l.currentTime,l.currentPos=a.currentPos,l.currentTime=a.currentTime,l.insideElement||$(h,l),r=l.currentPos,o=l.currentTime,p?(h.removeContact(),(t.dragHandler||t.dragEndHandler||t.pinchHandler)&&v.MouseTracker.gesturePointVelocityTracker.removePoint(t,l),0===h.contacts?(t.releaseHandler&&!1===t.releaseHandler({eventSource:t,pointerType:l.type,position:g(r,t.element),buttons:h.buttons,insideElementPressed:l.insideElementPressed,insideElementReleased:l.insideElement,isTouchEvent:"touch"===l.type,originalEvent:e,preventDefaultAction:!1,userData:t.userData})&&v.cancelEvent(e),t.dragEndHandler&&!l.currentPos.equals(l.contactPos)&&!1===t.dragEndHandler({eventSource:t,pointerType:l.type,position:g(l.currentPos,t.element),speed:l.speed,direction:l.direction,shift:e.shiftKey,isTouchEvent:"touch"===l.type,originalEvent:e,preventDefaultAction:!1,userData:t.userData})&&v.cancelEvent(e),(t.clickHandler||t.dblClickHandler)&&l.insideElement&&(c=o-l.contactTime<=t.clickTimeThreshold&&l.contactPos.distanceTo(r)<=t.clickDistThreshold,t.clickHandler&&!1===t.clickHandler({eventSource:t,pointerType:l.type,position:g(l.currentPos,t.element),quick:c,shift:e.shiftKey,isTouchEvent:"touch"===l.type,originalEvent:e,preventDefaultAction:!1,userData:t.userData})&&v.cancelEvent(e),t.dblClickHandler&&c&&(h.clicks++,1===h.clicks?(u.lastClickPos=r,u.dblClickTimeOut=setTimeout(function(){h.clicks=0},t.dblClickTimeThreshold)):2===h.clicks&&(clearTimeout(u.dblClickTimeOut),h.clicks=0,u.lastClickPos.distanceTo(r)<=t.dblClickDistThreshold&&!1===t.dblClickHandler({eventSource:t,pointerType:l.type,position:g(l.currentPos,t.element),shift:e.shiftKey,isTouchEvent:"touch"===l.type,originalEvent:e,preventDefaultAction:!1,userData:t.userData})&&v.cancelEvent(e),u.lastClickPos=null)))):2===h.contacts&&t.pinchHandler&&"touch"===l.type&&(u.pinchGPoints=h.asArray(),u.lastPinchDist=u.currentPinchDist=u.pinchGPoints[0].currentPos.distanceTo(u.pinchGPoints[1].currentPos),u.lastPinchCenter=u.currentPinchCenter=m(u.pinchGPoints[0].currentPos,u.pinchGPoints[1].currentPos))):t.releaseHandler&&!1===t.releaseHandler({eventSource:t,pointerType:l.type,position:g(r,t.element),buttons:h.buttons,insideElementPressed:l.insideElementPressed,insideElementReleased:l.insideElement,isTouchEvent:"touch"===l.type,originalEvent:e,preventDefaultAction:!1,userData:t.userData})&&v.cancelEvent(e));return f}function F(t,e,n){var i,r,o,s,a,l=U[t.hash],c=t.getActivePointersListByType(n[0].type),u=n.length;for(void 0!==e.buttons&&(c.buttons=e.buttons),i=0;i<u;i++)r=n[i],(o=c.getById(r.id))?(r.hasOwnProperty("isPrimary")&&(o.isPrimary=r.isPrimary),o.lastPos=o.currentPos,o.lastTime=o.currentTime,o.currentPos=r.currentPos,o.currentTime=r.currentTime):(r.captured=!1,r.insideElementPressed=!1,r.insideElement=!0,A(c,r));t.stopHandler&&"mouse"===n[0].type&&(clearTimeout(t.stopTimeOut),t.stopTimeOut=setTimeout(function(){!function(t,e,n){t.stopHandler&&t.stopHandler({eventSource:t,pointerType:n,position:h(e,t.element),buttons:t.getActivePointersListByType(n).buttons,isTouchEvent:"touch"===n,originalEvent:e,preventDefaultAction:!1,userData:t.userData})}(t,e,n[0].type)},t.stopDelay)),0===c.contacts?t.moveHandler&&!1===t.moveHandler({eventSource:t,pointerType:n[0].type,position:g(n[0].currentPos,t.element),buttons:c.buttons,isTouchEvent:"touch"===n[0].type,originalEvent:e,preventDefaultAction:!1,userData:t.userData})&&v.cancelEvent(e):1===c.contacts?(t.moveHandler&&(o=c.asArray()[0],!1===t.moveHandler({eventSource:t,pointerType:o.type,position:g(o.currentPos,t.element),buttons:c.buttons,isTouchEvent:"touch"===o.type,originalEvent:e,preventDefaultAction:!1,userData:t.userData})&&v.cancelEvent(e)),t.dragHandler&&(a=(o=c.asArray()[0]).currentPos.minus(o.lastPos),!1===t.dragHandler({eventSource:t,pointerType:o.type,position:g(o.currentPos,t.element),buttons:c.buttons,delta:a,speed:o.speed,direction:o.direction,shift:e.shiftKey,isTouchEvent:"touch"===o.type,originalEvent:e,preventDefaultAction:!1,userData:t.userData})&&v.cancelEvent(e))):2===c.contacts&&(t.moveHandler&&(s=c.asArray(),!1===t.moveHandler({eventSource:t,pointerType:s[0].type,position:g(m(s[0].currentPos,s[1].currentPos),t.element),buttons:c.buttons,isTouchEvent:"touch"===s[0].type,originalEvent:e,preventDefaultAction:!1,userData:t.userData})&&v.cancelEvent(e)),t.pinchHandler&&"touch"===n[0].type&&(a=l.pinchGPoints[0].currentPos.distanceTo(l.pinchGPoints[1].currentPos))!=l.currentPinchDist&&(l.lastPinchDist=l.currentPinchDist,l.currentPinchDist=a,l.lastPinchCenter=l.currentPinchCenter,l.currentPinchCenter=m(l.pinchGPoints[0].currentPos,l.pinchGPoints[1].currentPos),!1===t.pinchHandler({eventSource:t,pointerType:"touch",gesturePoints:l.pinchGPoints,lastCenter:g(l.lastPinchCenter,t.element),center:g(l.currentPinchCenter,t.element),lastDistance:l.lastPinchDist,distance:l.currentPinchDist,shift:e.shiftKey,originalEvent:e,preventDefaultAction:!1,userData:t.userData})&&v.cancelEvent(e)))}function H(t){try{return t.addEventListener&&t.removeEventListener}catch(t){return!1}}var t,N,z,j,V=[],U={};function W(t,e){return t.hash.toString()+e.type+e.id.toString()}function q(){var t,e,n,i,r,o,s=N.length,a=v.now();for(i=a-j,j=a,t=0;t<s;t++)(n=(e=N[t]).gPoint).direction=Math.atan2(n.currentPos.y-e.lastPos.y,n.currentPos.x-e.lastPos.x),r=e.lastPos.distanceTo(n.currentPos),e.lastPos=n.currentPos,o=1e3*r/(1+i),n.speed=.75*o+.25*n.speed}v.MouseTracker=function(t){V.push(this);var e=arguments;v.isPlainObject(t)||(t={element:e[0],clickTimeThreshold:e[1],clickDistThreshold:e[2]}),this.hash=Math.random(),this.element=v.getElement(t.element),this.clickTimeThreshold=t.clickTimeThreshold||v.DEFAULT_SETTINGS.clickTimeThreshold,this.clickDistThreshold=t.clickDistThreshold||v.DEFAULT_SETTINGS.clickDistThreshold,this.dblClickTimeThreshold=t.dblClickTimeThreshold||v.DEFAULT_SETTINGS.dblClickTimeThreshold,this.dblClickDistThreshold=t.dblClickDistThreshold||v.DEFAULT_SETTINGS.dblClickDistThreshold,this.userData=t.userData||null,this.stopDelay=t.stopDelay||50,this.enterHandler=t.enterHandler||null,this.exitHandler=t.exitHandler||null,this.pressHandler=t.pressHandler||null,this.nonPrimaryPressHandler=t.nonPrimaryPressHandler||null,this.releaseHandler=t.releaseHandler||null,this.nonPrimaryReleaseHandler=t.nonPrimaryReleaseHandler||null,this.moveHandler=t.moveHandler||null,this.scrollHandler=t.scrollHandler||null,this.clickHandler=t.clickHandler||null,this.dblClickHandler=t.dblClickHandler||null,this.dragHandler=t.dragHandler||null,this.dragEndHandler=t.dragEndHandler||null,this.pinchHandler=t.pinchHandler||null,this.stopHandler=t.stopHandler||null,this.keyDownHandler=t.keyDownHandler||null,this.keyUpHandler=t.keyUpHandler||null,this.keyHandler=t.keyHandler||null,this.focusHandler=t.focusHandler||null,this.blurHandler=t.blurHandler||null;var n=this;U[this.hash]={click:function(t){!function(t,e){t.clickHandler&&v.cancelEvent(e)}(n,t)},dblclick:function(t){!function(t,e){t.dblClickHandler&&v.cancelEvent(e)}(n,t)},keydown:function(t){!function(t,e){t.keyDownHandler&&(e=v.getEvent(e),t.keyDownHandler({eventSource:t,keyCode:e.keyCode?e.keyCode:e.charCode,ctrl:e.ctrlKey,shift:e.shiftKey,alt:e.altKey,meta:e.metaKey,originalEvent:e,preventDefaultAction:!1,userData:t.userData})||v.cancelEvent(e))}(n,t)},keyup:function(t){!function(t,e){t.keyUpHandler&&(e=v.getEvent(e),t.keyUpHandler({eventSource:t,keyCode:e.keyCode?e.keyCode:e.charCode,ctrl:e.ctrlKey,shift:e.shiftKey,alt:e.altKey,meta:e.metaKey,originalEvent:e,preventDefaultAction:!1,userData:t.userData})||v.cancelEvent(e))}(n,t)},keypress:function(t){!function(t,e){t.keyHandler&&(e=v.getEvent(e),t.keyHandler({eventSource:t,keyCode:e.keyCode?e.keyCode:e.charCode,ctrl:e.ctrlKey,shift:e.shiftKey,alt:e.altKey,meta:e.metaKey,originalEvent:e,preventDefaultAction:!1,userData:t.userData})||v.cancelEvent(e))}(n,t)},focus:function(t){!function(t,e){t.focusHandler&&(e=v.getEvent(e),!1===t.focusHandler({eventSource:t,originalEvent:e,preventDefaultAction:!1,userData:t.userData})&&v.cancelEvent(e))}(n,t)},blur:function(t){!function(t,e){t.blurHandler&&(e=v.getEvent(e),!1===t.blurHandler({eventSource:t,originalEvent:e,preventDefaultAction:!1,userData:t.userData})&&v.cancelEvent(e))}(n,t)},wheel:function(t){!function(t,e){a(t,e,e)}(n,t)},mousewheel:function(t){s(n,t)},DOMMouseScroll:function(t){s(n,t)},MozMousePixelScroll:function(t){s(n,t)},mouseenter:function(t){!function(t,e){f(t,e=v.getEvent(e))}(n,t)},mouseleave:function(t){!function(t,e){p(t,e=v.getEvent(e))}(n,t)},mouseover:function(t){!function(t,e){(e=v.getEvent(e)).currentTarget===e.relatedTarget||d(e.currentTarget,e.relatedTarget)||f(t,e)}(n,t)},mouseout:function(t){!function(t,e){(e=v.getEvent(e)).currentTarget===e.relatedTarget||d(e.currentTarget,e.relatedTarget)||p(t,e)}(n,t)},mousedown:function(t){!function(t,e){L(t,e=v.getEvent(e),[{id:v.MouseTracker.mousePointerId,type:"mouse",isPrimary:!0,currentPos:u(e),currentTime:v.now()}],y(e.button))&&(v.stopEvent(e),c(t,"mouse")),(t.clickHandler||t.dblClickHandler||t.pressHandler||t.dragHandler||t.dragEndHandler)&&v.cancelEvent(e)}(n,t)},mouseup:function(t){!function(t,e){w(t,e)}(n,t)},mouseupcaptured:function(t){!function(t,e){w(t,e),v.stopEvent(e)}(n,t)},mousemove:function(t){!function(t,e){_(t,e)}(n,t)},mousemovecaptured:function(t){!function(t,e){_(t,e),v.stopEvent(e)}(n,t)},touchstart:function(t){!function(t,e){var n,i,r,o,s=e.changedTouches.length,a=[],l=t.getActivePointersListByType("touch");for(n=v.now(),l.getLength()>e.touches.length-s&&(v.console.warn("Tracked touch contact count doesn't match event.touches.length. Removing all tracked touch pointers."),x(t,e,l)),i=0;i<s;i++)a.push({id:e.changedTouches[i].identifier,type:"touch",currentPos:u(e.changedTouches[i]),currentTime:n});for(M(t,e,a),i=0;i<V.length;i++)if(V[i]!==t&&V[i].isTracking()&&d(V[i].element,t.element)){for(o=[],r=0;r<s;r++)o.push({id:e.changedTouches[r].identifier,type:"touch",currentPos:u(e.changedTouches[r]),currentTime:n});M(V[i],e,o)}L(t,e,a,0)&&(v.stopEvent(e),c(t,"touch",s)),v.cancelEvent(e)}(n,t)},touchend:function(t){!function(t,e){T(t,e)}(n,t)},touchendcaptured:function(t){!function(t,e){T(t,e),v.stopEvent(e)}(n,t)},touchmove:function(t){!function(t,e){b(t,e)}(n,t)},touchmovecaptured:function(t){!function(t,e){b(t,e),v.stopEvent(e)}(n,t)},touchcancel:function(t){!function(t,e){x(t,e,t.getActivePointersListByType("touch"))}(n,t)},gesturestart:function(t){!function(t,e){e.stopPropagation(),e.preventDefault()}(0,t)},gesturechange:function(t){!function(t,e){e.stopPropagation(),e.preventDefault()}(0,t)},pointerover:function(t){S(n,t)},MSPointerOver:function(t){S(n,t)},pointerout:function(t){P(n,t)},MSPointerOut:function(t){P(n,t)},pointerdown:function(t){C(n,t)},MSPointerDown:function(t){C(n,t)},pointerup:function(t){E(n,t)},MSPointerUp:function(t){E(n,t)},pointermove:function(t){k(n,t)},MSPointerMove:function(t){k(n,t)},pointercancel:function(t){I(n,t)},MSPointerCancel:function(t){I(n,t)},pointerupcaptured:function(t){!function(t,e){t.getActivePointersListByType(i(e)).getById(e.pointerId)&&R(t,e),v.stopEvent(e)}(n,t)},pointermovecaptured:function(t){!function(t,e){t.getActivePointersListByType(i(e)).getById(e.pointerId)&&O(t,e),v.stopEvent(e)}(n,t)},tracking:!1,activePointersLists:[],lastClickPos:null,dblClickTimeOut:null,pinchGPoints:[],lastPinchDist:0,currentPinchDist:0,lastPinchCenter:null,currentPinchCenter:null},t.startDisabled||this.setTracking(!0)},v.MouseTracker.prototype={destroy:function(){var t;for(e(this),this.element=null,t=0;t<V.length;t++)if(V[t]===this){V.splice(t,1);break}U[this.hash]=null,delete U[this.hash]},isTracking:function(){return U[this.hash].tracking},setTracking:function(t){return t?function(t){var e,n,i=U[t.hash];if(!i.tracking){for(n=0;n<v.MouseTracker.subscribeEvents.length;n++)e=v.MouseTracker.subscribeEvents[n],v.addEvent(t.element,e,i[e],!1);r(t),i.tracking=!0}}(this):e(this),this},getActivePointersListsExceptType:function(t){for(var e=U[this.hash],n=[],i=0;i<e.activePointersLists.length;++i)e.activePointersLists[i].type!==t&&n.push(e.activePointersLists[i]);return n},getActivePointersListByType:function(t){var e,n,i=U[this.hash],r=i.activePointersLists.length;for(e=0;e<r;e++)if(i.activePointersLists[e].type===t)return i.activePointersLists[e];return n=new v.MouseTracker.GesturePointList(t),i.activePointersLists.push(n),n},getActivePointerCount:function(){var t,e=U[this.hash],n=e.activePointersLists.length,i=0;for(t=0;t<n;t++)i+=e.activePointersLists[t].getLength();return i},enterHandler:function(){},exitHandler:function(){},pressHandler:function(){},nonPrimaryPressHandler:function(){},releaseHandler:function(){},nonPrimaryReleaseHandler:function(){},moveHandler:function(){},scrollHandler:function(){},clickHandler:function(){},dblClickHandler:function(){},dragHandler:function(){},dragEndHandler:function(){},pinchHandler:function(){},stopHandler:function(){},keyDownHandler:function(){},keyUpHandler:function(){},keyHandler:function(){},focusHandler:function(){},blurHandler:function(){}},v.MouseTracker.resetAllMouseTrackers=function(){for(var t=0;t<V.length;t++)V[t].isTracking()&&(V[t].setTracking(!1),V[t].setTracking(!0))},v.MouseTracker.gesturePointVelocityTracker=(N=[],j=z=0,{addPoint:function(t,e){var n=W(t,e);N.push({guid:n,gPoint:e,lastPos:e.currentPos}),1===N.length&&(j=v.now(),z=window.setInterval(q,50))},removePoint:function(t,e){var n,i=W(t,e),r=N.length;for(n=0;n<r;n++)if(N[n].guid===i){N.splice(n,1),0==--r&&window.clearInterval(z);break}}}),v.MouseTracker.captureElement=document,v.MouseTracker.wheelEventName=v.Browser.vendor==v.BROWSERS.IE&&8<v.Browser.version||"onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll",v.MouseTracker.supportsMouseCapture=(t=document.createElement("div"),v.isFunction(t.setCapture)&&v.isFunction(t.releaseCapture)),v.MouseTracker.subscribeEvents=["click","dblclick","keydown","keyup","keypress","focus","blur",v.MouseTracker.wheelEventName],"DOMMouseScroll"==v.MouseTracker.wheelEventName&&v.MouseTracker.subscribeEvents.push("MozMousePixelScroll"),window.PointerEvent&&(window.navigator.pointerEnabled||v.Browser.vendor!==v.BROWSERS.IE)?(v.MouseTracker.havePointerEvents=!0,v.MouseTracker.subscribeEvents.push("pointerover","pointerout","pointerdown","pointerup","pointermove","pointercancel"),v.MouseTracker.unprefixedPointerEvents=!0,navigator.maxTouchPoints?v.MouseTracker.maxTouchPoints=navigator.maxTouchPoints:v.MouseTracker.maxTouchPoints=0,v.MouseTracker.haveMouseEnter=!1):window.MSPointerEvent&&window.navigator.msPointerEnabled?(v.MouseTracker.havePointerEvents=!0,v.MouseTracker.subscribeEvents.push("MSPointerOver","MSPointerOut","MSPointerDown","MSPointerUp","MSPointerMove","MSPointerCancel"),v.MouseTracker.unprefixedPointerEvents=!1,navigator.msMaxTouchPoints?v.MouseTracker.maxTouchPoints=navigator.msMaxTouchPoints:v.MouseTracker.maxTouchPoints=0,v.MouseTracker.haveMouseEnter=!1):(v.MouseTracker.havePointerEvents=!1,v.Browser.vendor===v.BROWSERS.IE&&v.Browser.version<9?(v.MouseTracker.subscribeEvents.push("mouseenter","mouseleave"),v.MouseTracker.haveMouseEnter=!0):(v.MouseTracker.subscribeEvents.push("mouseover","mouseout"),v.MouseTracker.haveMouseEnter=!1),v.MouseTracker.subscribeEvents.push("mousedown","mouseup","mousemove"),"ontouchstart"in window&&v.MouseTracker.subscribeEvents.push("touchstart","touchend","touchmove","touchcancel"),"ongesturestart"in window&&v.MouseTracker.subscribeEvents.push("gesturestart","gesturechange"),v.MouseTracker.mousePointerId="legacy-mouse",v.MouseTracker.maxTouchPoints=10),v.MouseTracker.GesturePointList=function(t){this._gPoints=[],this.type=t,this.buttons=0,this.contacts=0,this.clicks=0,this.captureCount=0},v.MouseTracker.GesturePointList.prototype={getLength:function(){return this._gPoints.length},asArray:function(){return this._gPoints},add:function(t){return this._gPoints.push(t)},removeById:function(t){var e,n=this._gPoints.length;for(e=0;e<n;e++)if(this._gPoints[e].id===t){this._gPoints.splice(e,1);break}return this._gPoints.length},getByIndex:function(t){return t<this._gPoints.length?this._gPoints[t]:null},getById:function(t){var e,n=this._gPoints.length;for(e=0;e<n;e++)if(this._gPoints[e].id===t)return this._gPoints[e];return null},getPrimary:function(t){var e,n=this._gPoints.length;for(e=0;e<n;e++)if(this._gPoints[e].isPrimary)return this._gPoints[e];return null},addContact:function(){1<++this.contacts&&("mouse"===this.type||"pen"===this.type)&&(this.contacts=1)},removeContact:function(){--this.contacts<0&&(this.contacts=0)}};var G=function(){try{return window.self!==window.top}catch(t){return!0}}()}(OpenSeadragon)},function(t,e){var n;(n=OpenSeadragon).Placement=n.freezeObject({CENTER:0,TOP_LEFT:1,TOP:2,TOP_RIGHT:3,RIGHT:4,BOTTOM_RIGHT:5,BOTTOM:6,BOTTOM_LEFT:7,LEFT:8,properties:{0:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!1,isVerticallyCentered:!0,isBottom:!1},1:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!0,isVerticallyCentered:!1,isBottom:!1},2:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!0,isVerticallyCentered:!1,isBottom:!1},3:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!0,isVerticallyCentered:!1,isBottom:!1},4:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!1,isVerticallyCentered:!0,isBottom:!1},5:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!1,isVerticallyCentered:!1,isBottom:!0},6:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!1,isVerticallyCentered:!1,isBottom:!0},7:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!1,isVerticallyCentered:!1,isBottom:!0},8:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!1,isVerticallyCentered:!0,isBottom:!1}}})},function(t,e){var a;(a=OpenSeadragon).Point=function(t,e){this.x="number"==typeof t?t:0,this.y="number"==typeof e?e:0},a.Point.prototype={clone:function(){return new a.Point(this.x,this.y)},plus:function(t){return new a.Point(this.x+t.x,this.y+t.y)},minus:function(t){return new a.Point(this.x-t.x,this.y-t.y)},times:function(t){return new a.Point(this.x*t,this.y*t)},divide:function(t){return new a.Point(this.x/t,this.y/t)},negate:function(){return new a.Point(-this.x,-this.y)},distanceTo:function(t){return Math.sqrt(Math.pow(this.x-t.x,2)+Math.pow(this.y-t.y,2))},squaredDistanceTo:function(t){return Math.pow(this.x-t.x,2)+Math.pow(this.y-t.y,2)},apply:function(t){return new a.Point(t(this.x),t(this.y))},equals:function(t){return t instanceof a.Point&&this.x===t.x&&this.y===t.y},rotate:function(t,e){var n,i;if(e=e||new a.Point(0,0),t%90==0)switch(a.positiveModulo(t,360)){case 0:n=1,i=0;break;case 90:n=0,i=1;break;case 180:n=-1,i=0;break;case 270:n=0,i=-1}else{var r=t*Math.PI/180;n=Math.cos(r),i=Math.sin(r)}var o=n*(this.x-e.x)-i*(this.y-e.y)+e.x,s=i*(this.x-e.x)+n*(this.y-e.y)+e.y;return new a.Point(o,s)},toString:function(){return"("+Math.round(100*this.x)/100+","+Math.round(100*this.y)/100+")"}}},function(t,e){var r;(r=OpenSeadragon).Spring=function(t){var e=arguments;"object"!=typeof t&&(t={initial:e.length&&"number"==typeof e[0]?e[0]:void 0,springStiffness:1<e.length?e[1].springStiffness:5,animationTime:1<e.length?e[1].animationTime:1.5}),r.console.assert("number"==typeof t.springStiffness&&0!==t.springStiffness,"[OpenSeadragon.Spring] options.springStiffness must be a non-zero number"),r.console.assert("number"==typeof t.animationTime&&0<=t.animationTime,"[OpenSeadragon.Spring] options.animationTime must be a number greater than or equal to 0"),t.exponential&&(this._exponential=!0,delete t.exponential),r.extend(!0,this,t),this.current={value:"number"==typeof this.initial?this.initial:this._exponential?0:1,time:r.now()},r.console.assert(!this._exponential||0!==this.current.value,"[OpenSeadragon.Spring] value must be non-zero for exponential springs"),this.start={value:this.current.value,time:this.current.time},this.target={value:this.current.value,time:this.current.time},this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},r.Spring.prototype={resetTo:function(t){r.console.assert(!this._exponential||0!==t,"[OpenSeadragon.Spring.resetTo] target must be non-zero for exponential springs"),this.start.value=this.target.value=this.current.value=t,this.start.time=this.target.time=this.current.time=r.now(),this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},springTo:function(t){r.console.assert(!this._exponential||0!==t,"[OpenSeadragon.Spring.springTo] target must be non-zero for exponential springs"),this.start.value=this.current.value,this.start.time=this.current.time,this.target.value=t,this.target.time=this.start.time+1e3*this.animationTime,this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value))},shiftBy:function(t){this.start.value+=t,this.target.value+=t,this._exponential&&(r.console.assert(0!==this.target.value&&0!==this.start.value,"[OpenSeadragon.Spring.shiftBy] spring value must be non-zero for exponential springs"),this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value))},setExponential:function(t){this._exponential=t,this._exponential&&(r.console.assert(0!==this.current.value&&0!==this.target.value&&0!==this.start.value,"[OpenSeadragon.Spring.setExponential] spring value must be non-zero for exponential springs"),this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},update:function(){var t,e;this.current.time=r.now(),e=this._exponential?(t=this.start._logValue,this.target._logValue):(t=this.start.value,this.target.value);var n=this.current.time>=this.target.time?e:t+(e-t)*function(t,e){return(1-Math.exp(t*-e))/(1-Math.exp(-t))}(this.springStiffness,(this.current.time-this.start.time)/(this.target.time-this.start.time)),i=this.current.value;return this._exponential?this.current.value=Math.exp(n):this.current.value=n,i!=this.current.value},isAtTargetValue:function(){return this.current.value===this.target.value}}},function(t,e){var a;(a=OpenSeadragon).Tile=function(t,e,n,i,r,o,s,a,l){this.level=t,this.x=e,this.y=n,this.bounds=i,this.exists=r,this.url=o,this.context2D=s,this.loadWithAjax=a,this.ajaxHeaders=l,this.ajaxHeaders?this.cacheKey=this.url+"+"+JSON.stringify(this.ajaxHeaders):this.cacheKey=this.url,this.loaded=!1,this.loading=!1,this.element=null,this.imgElement=null,this.image=null,this.style=null,this.position=null,this.size=null,this.blendStart=null,this.opacity=null,this.squaredDistance=null,this.visibility=null,this.beingDrawn=!1,this.lastTouchTime=0,this.isRightMost=!1,this.isBottomMost=!1},a.Tile.prototype={toString:function(){return this.level+"/"+this.x+"_"+this.y},_hasTransparencyChannel:function(){return!!this.context2D||this.url.match(".png")},drawHTML:function(t){return this.cacheImageRecord?this.loaded?(this.element||(this.element=a.makeNeutralElement("div"),this.imgElement=this.cacheImageRecord.getImage().cloneNode(),this.imgElement.style.msInterpolationMode="nearest-neighbor",this.imgElement.style.width="100%",this.imgElement.style.height="100%",this.style=this.element.style,this.style.position="absolute"),this.element.parentNode!=t&&t.appendChild(this.element),this.imgElement.parentNode!=this.element&&this.element.appendChild(this.imgElement),this.style.top=this.position.y+"px",this.style.left=this.position.x+"px",this.style.height=this.size.y+"px",this.style.width=this.size.x+"px",void a.setElementOpacity(this.element,this.opacity)):void a.console.warn("Attempting to draw tile %s when it's not yet loaded.",this.toString()):void a.console.warn("[Tile.drawHTML] attempting to draw tile %s when it's not cached",this.toString())},drawCanvas:function(t,e,n,i){var r,o=this.position.times(a.pixelDensityRatio),s=this.size.times(a.pixelDensityRatio);return this.context2D||this.cacheImageRecord?(r=this.context2D||this.cacheImageRecord.getRenderedContext(),this.loaded&&r?(t.save(),t.globalAlpha=this.opacity,"number"==typeof n&&1!==n&&(o=o.times(n),s=s.times(n)),i instanceof a.Point&&(o=o.plus(i)),1===t.globalAlpha&&this._hasTransparencyChannel()&&t.clearRect(o.x+1,o.y+1,s.x-2,s.y-2),e({context:t,tile:this,rendered:r}),t.drawImage(r.canvas,0,0,r.canvas.width,r.canvas.height,o.x,o.y,s.x,s.y),void t.restore()):void a.console.warn("Attempting to draw tile %s when it's not yet loaded.",this.toString())):void a.console.warn("[Tile.drawCanvas] attempting to draw tile %s when it's not cached",this.toString())},getScaleForEdgeSmoothing:function(){var t;if(this.cacheImageRecord)t=this.cacheImageRecord.getRenderedContext();else{if(!this.context2D)return a.console.warn("[Tile.drawCanvas] attempting to get tile scale %s when tile's not cached",this.toString()),1;t=this.context2D}return t.canvas.width/(this.size.x*a.pixelDensityRatio)},getTranslationForEdgeSmoothing:function(t,e,n){var i=Math.max(1,Math.ceil((n.x-e.x)/2)),r=Math.max(1,Math.ceil((n.y-e.y)/2));return new a.Point(i,r).minus(this.position.times(a.pixelDensityRatio).times(t||1).apply(function(t){return t%1}))},unload:function(){this.imgElement&&this.imgElement.parentNode&&this.imgElement.parentNode.removeChild(this.imgElement),this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.element=null,this.imgElement=null,this.loaded=!1,this.loading=!1}}},function(t,e){function p(t){g.console.assert(t,"[TileCache.cacheTile] options is required"),g.console.assert(t.tile,"[TileCache.cacheTile] options.tile is required"),g.console.assert(t.tiledImage,"[TileCache.cacheTile] options.tiledImage is required"),this.tile=t.tile,this.tiledImage=t.tiledImage}function v(t){g.console.assert(t,"[ImageRecord] options is required"),g.console.assert(t.image,"[ImageRecord] options.image is required"),this._image=t.image,this._tiles=[]}var g;g=OpenSeadragon,v.prototype={destroy:function(){this._image=null,this._renderedContext=null,this._tiles=null},getImage:function(){return this._image},getRenderedContext:function(){if(!this._renderedContext){var t=document.createElement("canvas");t.width=this._image.width,t.height=this._image.height,this._renderedContext=t.getContext("2d"),this._renderedContext.drawImage(this._image,0,0),this._image=null}return this._renderedContext},setRenderedContext:function(t){g.console.error("ImageRecord.setRenderedContext is deprecated. The rendered context should be created by the ImageRecord itself when calling ImageRecord.getRenderedContext."),this._renderedContext=t},addTile:function(t){g.console.assert(t,"[ImageRecord.addTile] tile is required"),this._tiles.push(t)},removeTile:function(t){for(var e=0;e<this._tiles.length;e++)if(this._tiles[e]===t)return void this._tiles.splice(e,1);g.console.warn("[ImageRecord.removeTile] trying to remove unknown tile",t)},getTileCount:function(){return this._tiles.length}},g.TileCache=function(t){t=t||{},this._maxImageCacheCount=t.maxImageCacheCount||g.DEFAULT_SETTINGS.maxImageCacheCount,this._tilesLoaded=[],this._imagesLoaded=[],this._imagesLoadedCount=0},g.TileCache.prototype={numTilesLoaded:function(){return this._tilesLoaded.length},cacheTile:function(t){g.console.assert(t,"[TileCache.cacheTile] options is required"),g.console.assert(t.tile,"[TileCache.cacheTile] options.tile is required"),g.console.assert(t.tile.cacheKey,"[TileCache.cacheTile] options.tile.cacheKey is required"),g.console.assert(t.tiledImage,"[TileCache.cacheTile] options.tiledImage is required");var e=t.cutoff||0,n=this._tilesLoaded.length,i=this._imagesLoaded[t.tile.cacheKey];if(i||(g.console.assert(t.image,"[TileCache.cacheTile] options.image is required to create an ImageRecord"),i=this._imagesLoaded[t.tile.cacheKey]=new v({image:t.image}),this._imagesLoadedCount++),i.addTile(t.tile),t.tile.cacheImageRecord=i,this._imagesLoadedCount>this._maxImageCacheCount){for(var r,o,s,a,l,c,u=null,h=-1,d=null,f=this._tilesLoaded.length-1;0<=f;f--)(r=(c=this._tilesLoaded[f]).tile).level<=e||r.beingDrawn||(u?(a=r.lastTouchTime,o=u.lastTouchTime,l=r.level,s=u.level,(a<o||a==o&&s<l)&&(u=r,h=f,d=c)):(u=r,h=f,d=c));u&&0<=h&&(this._unloadTile(d),n=h)}this._tilesLoaded[n]=new p({tile:t.tile,tiledImage:t.tiledImage})},clearTilesFor:function(t){g.console.assert(t,"[TileCache.clearTilesFor] tiledImage is required");for(var e,n=0;n<this._tilesLoaded.length;++n)(e=this._tilesLoaded[n]).tiledImage===t&&(this._unloadTile(e),this._tilesLoaded.splice(n,1),n--)},getImageRecord:function(t){return g.console.assert(t,"[TileCache.getImageRecord] cacheKey is required"),this._imagesLoaded[t]},_unloadTile:function(t){g.console.assert(t,"[TileCache._unloadTile] tileRecord is required");var e=t.tile,n=t.tiledImage;e.unload(),e.cacheImageRecord=null;var i=this._imagesLoaded[e.cacheKey];i.removeTile(e),i.getTileCount()||(i.destroy(),delete this._imagesLoaded[e.cacheKey],this._imagesLoadedCount--),n.viewer.raiseEvent("tile-unloaded",{tile:e,tiledImage:n})}}},function(t,e){function v(t,e,n,i,r,o,s,a,l){var c=s.getBoundingBox().getTopLeft(),u=s.getBoundingBox().getBottomRight();t.viewer&&t.viewer.raiseEvent("update-level",{tiledImage:t,havedrawn:e,level:i,opacity:r,visibility:o,drawArea:s,topleft:c,bottomright:u,currenttime:a,best:l}),T(t.coverage,i),T(t.loadingCoverage,i);for(var h=t._getCornerTiles(i,c,u),d=h.topLeft,f=h.bottomRight,p=t.source.getNumTiles(i),v=t.viewport.pixelFromPoint(t.viewport.getCenter()),g=d.x;g<=f.x;g++)for(var m=d.y;m<=f.y;m++){if(!t.wrapHorizontal&&!t.wrapVertical){var y=t.source.getTileBounds(i,g,m);if(null===s.intersection(y))continue}l=w(t,n,e,g,m,i,r,o,v,p,a,l)}return l}function w(t,e,n,i,r,o,s,a,l,c,u,h){var d=function(t,e,n,i,r,o,s,a,l,c){var u,h,d,f,p,v,g,m;return o[n]||(o[n]={}),o[n][t]||(o[n][t]={}),o[n][t][e]||(u=(a.x+t%a.x)%a.x,h=(a.y+e%a.y)%a.y,d=r.getTileBounds(n,u,h),f=r.tileExists(n,u,h),p=r.getTileUrl(n,u,h),i.loadTilesWithAjax?(v=r.getTileAjaxHeaders(n,u,h),S.isPlainObject(i.ajaxHeaders)&&(v=S.extend({},i.ajaxHeaders,v))):v=null,g=r.getContext2D?r.getContext2D(n,u,h):void 0,d.x+=(t-u)/a.x,d.y+=c/l*((e-h)/a.y),m=new S.Tile(n,t,e,d,f,p,g,i.loadTilesWithAjax,v),u==a.x-1&&(m.isRightMost=!0),h==a.y-1&&(m.isBottomMost=!0),o[n][t][e]=m),(m=o[n][t][e]).lastTouchTime=s,m}(i,r,o,t,t.source,t.tilesMatrix,u,c,t._worldWidthCurrent,t._worldHeightCurrent),f=n;t.viewer&&t.viewer.raiseEvent("update-tile",{tiledImage:t,tile:d}),x(t.coverage,o,i,r,!1);var p=d.loaded||d.loading||_(t.loadingCoverage,o,i,r);if(x(t.loadingCoverage,o,i,r,p),!d.exists)return h;if(e&&!f&&(_(t.coverage,o,i,r)?x(t.coverage,o,i,r,!0):f=!0),!f)return h;if(function(t,e,n,i,r,o){var s=t.bounds.getTopLeft();s.x*=o._scaleSpring.current.value,s.y*=o._scaleSpring.current.value,s.x+=o._xSpring.current.value,s.y+=o._ySpring.current.value;var a=t.bounds.getSize();a.x*=o._scaleSpring.current.value,a.y*=o._scaleSpring.current.value;var l=n.pixelFromPointNoRotate(s,!0),c=n.pixelFromPointNoRotate(s,!1),u=n.deltaPixelsFromPointsNoRotate(a,!0),h=n.deltaPixelsFromPointsNoRotate(a,!1),d=c.plus(h.divide(2)),f=i.squaredDistanceTo(d);e||(u=u.plus(new S.Point(1,1))),t.isRightMost&&o.wrapHorizontal&&(u.x+=.75),t.isBottomMost&&o.wrapVertical&&(u.y+=.75),t.position=l,t.size=u,t.squaredDistance=f,t.visibility=r}(d,t.source.tileOverlap,t.viewport,l,a,t),!d.loaded)if(d.context2D)m(t,d);else{var v=t._tileCache.getImageRecord(d.cacheKey);if(v)m(t,d,v.getImage())}return d.loaded?function(t,e,n,i,r,o,s){var a,l,c=1e3*t.blendTime;if(e.blendStart||(e.blendStart=s),a=s-e.blendStart,l=c?Math.min(1,a/c):1,t.alwaysBlend&&(l*=o),e.opacity=l,t.lastDrawn.push(e),1==l)x(t.coverage,r,n,i,!0),t._hasOpaqueTile=!0;else if(a<c)return!0;return!1}(t,d,i,r,o,s,u)&&(t._needsDraw=!0):d.loading?t._tilesLoading++:p||(h=function(t,e){return t?e.visibility>t.visibility?e:e.visibility==t.visibility&&e.squaredDistance<t.squaredDistance?e:t:e}(h,d)),h}function g(i,r,o){r.loading=!0,i._imageLoader.addJob({src:r.url,loadWithAjax:r.loadWithAjax,ajaxHeaders:r.ajaxHeaders,crossOriginPolicy:i.crossOriginPolicy,ajaxWithCredentials:i.ajaxWithCredentials,callback:function(t,e,n){!function(e,n,t,i,r,o){if(!i)return S.console.log("Tile %s failed to load: %s - error: %s",n,n.url,r),e.viewer.raiseEvent("tile-load-failed",{tile:n,tiledImage:e,time:t,message:r,tileRequest:o}),n.loading=!1,n.exists=!1;if(t<e.lastResetTime)return S.console.log("Ignoring tile %s loaded before reset: %s",n,n.url),n.loading=!1;function s(){var t=e.source.getClosestLevel();m(e,n,i,t,o)}e._midDraw?window.setTimeout(s,1):s()}(i,r,o,t,e,n)},abort:function(){r.loading=!1}})}function m(t,e,n,i,r){function o(){return a++,s}function s(){0==--a&&(e.loading=!1,e.loaded=!0,e.context2D||t._tileCache.cacheTile({image:n,tile:e,cutoff:i,tiledImage:t}),t._needsDraw=!0)}var a=0;t.viewer.raiseEvent("tile-loaded",{tile:e,tiledImage:t,tileRequest:r,image:n,getCompletionCallback:o}),o()()}function y(t,e,n,i){var r,o,s,a;if(!t[e])return!1;if(void 0!==n&&void 0!==i)return void 0===t[e][n]||void 0===t[e][n][i]||!0===t[e][n][i];for(s in r=t[e])if(r.hasOwnProperty(s))for(a in o=r[s])if(o.hasOwnProperty(a)&&!o[a])return!1;return!0}function _(t,e,n,i){return void 0===n||void 0===i?y(t,e+1):y(t,e+1,2*n,2*i)&&y(t,e+1,2*n,2*i+1)&&y(t,e+1,2*n+1,2*i)&&y(t,e+1,2*n+1,2*i+1)}function x(t,e,n,i,r){t[e]?(t[e][n]||(t[e][n]={}),t[e][n][i]=r):S.console.warn("Setting coverage for a tile before its level's coverage has been reset: %s",e)}function T(t,e){t[e]={}}function b(t,e){if(0!==t.opacity&&(0!==e.length||t.placeholderFillStyle)){var n,i=e[0];i&&(n=t.opacity<1||t.compositeOperation&&"source-over"!==t.compositeOperation||!t._isBottomItem()&&i._hasTransparencyChannel());var r,o,s,a=t.viewport.getZoom(!0),l=t.viewportToImageZoom(a);1<e.length&&l>t.smoothTileEdgesMinZoom&&!t.iOSDevice&&t.getRotation(!0)%360==0&&S.supportsCanvas&&(n=!0,r=i.getScaleForEdgeSmoothing(),o=i.getTranslationForEdgeSmoothing(r,t._drawer.getCanvasSize(!1),t._drawer.getCanvasSize(!0))),n&&(r||(s=t.viewport.viewportToViewerElementRectangle(t.getClippedBounds(!0)).getIntegerBoundingBox().times(S.pixelDensityRatio)),t._drawer._clear(!0,s)),r||(0!==t.viewport.degrees&&t._drawer._offsetForRotation({degrees:t.viewport.degrees,useSketch:n}),t.getRotation(!0)%360!=0&&t._drawer._offsetForRotation({degrees:t.getRotation(!0),point:t.viewport.pixelFromPointNoRotate(t._getRotationPoint(!0),!0),useSketch:n}));var c=!1;if(t._clip){t._drawer.saveContext(n);var u=t.imageToViewportRectangle(t._clip,!0);u=u.rotate(-t.getRotation(!0),t._getRotationPoint(!0));var h=t._drawer.viewportToDrawerRectangle(u);r&&(h=h.times(r)),o&&(h=h.translate(o)),t._drawer.setClip(h,n),c=!0}if(t.placeholderFillStyle&&!1===t._hasOpaqueTile){var d=t._drawer.viewportToDrawerRectangle(t.getBounds(!0));r&&(d=d.times(r)),o&&(d=d.translate(o));var f;f="function"==typeof t.placeholderFillStyle?t.placeholderFillStyle(t,t._drawer.context):t.placeholderFillStyle,t._drawer.drawRectangle(d,f,n)}for(var p=e.length-1;0<=p;p--)i=e[p],t._drawer.drawTile(i,t._drawingHandler,n,r,o),i.beingDrawn=!0,t.viewer&&t.viewer.raiseEvent("tile-drawn",{tiledImage:t,tile:i});c&&t._drawer.restoreContext(n),r||(t.getRotation(!0)%360!=0&&t._drawer._restoreRotationChanges(n),0!==t.viewport.degrees&&t._drawer._restoreRotationChanges(n)),n&&(r&&(0!==t.viewport.degrees&&t._drawer._offsetForRotation({degrees:t.viewport.degrees,useSketch:!1}),t.getRotation(!0)%360!=0&&t._drawer._offsetForRotation({degrees:t.getRotation(!0),point:t.viewport.pixelFromPointNoRotate(t._getRotationPoint(!0),!0),useSketch:!1})),t._drawer.blendSketch({opacity:t.opacity,scale:r,translate:o,compositeOperation:t.compositeOperation,bounds:s}),r&&(t.getRotation(!0)%360!=0&&t._drawer._restoreRotationChanges(!1),0!==t.viewport.degrees&&t._drawer._restoreRotationChanges(!1))),function(t,e){if(t.debugMode)for(var n=e.length-1;0<=n;n--){var i=e[n];try{t._drawer.drawDebugInfo(i,e.length,n,t)}catch(t){S.console.error(t)}}}(t,e)}}var S;(S=OpenSeadragon).TiledImage=function(t){var e=this;S.console.assert(t.tileCache,"[TiledImage] options.tileCache is required"),S.console.assert(t.drawer,"[TiledImage] options.drawer is required"),S.console.assert(t.viewer,"[TiledImage] options.viewer is required"),S.console.assert(t.imageLoader,"[TiledImage] options.imageLoader is required"),S.console.assert(t.source,"[TiledImage] options.source is required"),S.console.assert(!t.clip||t.clip instanceof S.Rect,"[TiledImage] options.clip must be an OpenSeadragon.Rect if present"),S.EventSource.call(this),this._tileCache=t.tileCache,delete t.tileCache,this._drawer=t.drawer,delete t.drawer,this._imageLoader=t.imageLoader,delete t.imageLoader,t.clip instanceof S.Rect&&(this._clip=t.clip.clone()),delete t.clip;var n=t.x||0;delete t.x;var i=t.y||0;delete t.y,this.normHeight=t.source.dimensions.y/t.source.dimensions.x,this.contentAspectX=t.source.dimensions.x/t.source.dimensions.y;var r=1;t.width?(r=t.width,delete t.width,t.height&&(S.console.error("specifying both width and height to a tiledImage is not supported"),delete t.height)):t.height&&(r=t.height/this.normHeight,delete t.height);var o=t.fitBounds;delete t.fitBounds;var s=t.fitBoundsPlacement||OpenSeadragon.Placement.CENTER;delete t.fitBoundsPlacement;var a=t.degrees||0;delete t.degrees,S.extend(!0,this,{viewer:null,tilesMatrix:{},coverage:{},loadingCoverage:{},lastDrawn:[],lastResetTime:0,_midDraw:!1,_needsDraw:!0,_hasOpaqueTile:!1,_tilesLoading:0,springStiffness:S.DEFAULT_SETTINGS.springStiffness,animationTime:S.DEFAULT_SETTINGS.animationTime,minZoomImageRatio:S.DEFAULT_SETTINGS.minZoomImageRatio,wrapHorizontal:S.DEFAULT_SETTINGS.wrapHorizontal,wrapVertical:S.DEFAULT_SETTINGS.wrapVertical,immediateRender:S.DEFAULT_SETTINGS.immediateRender,blendTime:S.DEFAULT_SETTINGS.blendTime,alwaysBlend:S.DEFAULT_SETTINGS.alwaysBlend,minPixelRatio:S.DEFAULT_SETTINGS.minPixelRatio,smoothTileEdgesMinZoom:S.DEFAULT_SETTINGS.smoothTileEdgesMinZoom,iOSDevice:S.DEFAULT_SETTINGS.iOSDevice,debugMode:S.DEFAULT_SETTINGS.debugMode,crossOriginPolicy:S.DEFAULT_SETTINGS.crossOriginPolicy,ajaxWithCredentials:S.DEFAULT_SETTINGS.ajaxWithCredentials,placeholderFillStyle:S.DEFAULT_SETTINGS.placeholderFillStyle,opacity:S.DEFAULT_SETTINGS.opacity,preload:S.DEFAULT_SETTINGS.preload,compositeOperation:S.DEFAULT_SETTINGS.compositeOperation},t),this._preload=this.preload,delete this.preload,this._fullyLoaded=!1,this._xSpring=new S.Spring({initial:n,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._ySpring=new S.Spring({initial:i,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._scaleSpring=new S.Spring({initial:r,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._degreesSpring=new S.Spring({initial:a,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._updateForScale(),o&&this.fitBounds(o,s,!0),this._drawingHandler=function(t){e.viewer.raiseEvent("tile-drawing",S.extend({tiledImage:e},t))}},S.extend(S.TiledImage.prototype,S.EventSource.prototype,{needsDraw:function(){return this._needsDraw},getFullyLoaded:function(){return this._fullyLoaded},_setFullyLoaded:function(t){t!==this._fullyLoaded&&(this._fullyLoaded=t,this.raiseEvent("fully-loaded-change",{fullyLoaded:this._fullyLoaded}))},reset:function(){this._tileCache.clearTilesFor(this),this.lastResetTime=S.now(),this._needsDraw=!0},update:function(){var t=this._xSpring.update(),e=this._ySpring.update(),n=this._scaleSpring.update(),i=this._degreesSpring.update();return!!(t||e||n||i)&&(this._updateForScale(),this._needsDraw=!0)},draw:function(){0===this.opacity&&!this._preload||(this._midDraw=!0,this._updateViewport(),this._midDraw=!1)},destroy:function(){this.reset()},getBounds:function(t){return this.getBoundsNoRotate(t).rotate(this.getRotation(t),this._getRotationPoint(t))},getBoundsNoRotate:function(t){return t?new S.Rect(this._xSpring.current.value,this._ySpring.current.value,this._worldWidthCurrent,this._worldHeightCurrent):new S.Rect(this._xSpring.target.value,this._ySpring.target.value,this._worldWidthTarget,this._worldHeightTarget)},getWorldBounds:function(){return S.console.error("[TiledImage.getWorldBounds] is deprecated; use TiledImage.getBounds instead"),this.getBounds()},getClippedBounds:function(t){var e=this.getBoundsNoRotate(t);if(this._clip){var n=(t?this._worldWidthCurrent:this._worldWidthTarget)/this.source.dimensions.x,i=this._clip.times(n);e=new S.Rect(e.x+i.x,e.y+i.y,i.width,i.height)}return e.rotate(this.getRotation(t),this._getRotationPoint(t))},getContentSize:function(){return new S.Point(this.source.dimensions.x,this.source.dimensions.y)},_viewportToImageDelta:function(t,e,n){var i=n?this._scaleSpring.current.value:this._scaleSpring.target.value;return new S.Point(t*(this.source.dimensions.x/i),e*(this.source.dimensions.y*this.contentAspectX/i))},viewportToImageCoordinates:function(t,e,n){var i;return i=(i=t instanceof S.Point?(n=e,t):new S.Point(t,e)).rotate(-this.getRotation(n),this._getRotationPoint(n)),n?this._viewportToImageDelta(i.x-this._xSpring.current.value,i.y-this._ySpring.current.value):this._viewportToImageDelta(i.x-this._xSpring.target.value,i.y-this._ySpring.target.value)},_imageToViewportDelta:function(t,e,n){var i=n?this._scaleSpring.current.value:this._scaleSpring.target.value;return new S.Point(t/this.source.dimensions.x*i,e/this.source.dimensions.y/this.contentAspectX*i)},imageToViewportCoordinates:function(t,e,n){t instanceof S.Point&&(n=e,e=t.y,t=t.x);var i=this._imageToViewportDelta(t,e);return n?(i.x+=this._xSpring.current.value,i.y+=this._ySpring.current.value):(i.x+=this._xSpring.target.value,i.y+=this._ySpring.target.value),i.rotate(this.getRotation(n),this._getRotationPoint(n))},imageToViewportRectangle:function(t,e,n,i,r){var o=t;o instanceof S.Rect?r=e:o=new S.Rect(t,e,n,i);var s=this.imageToViewportCoordinates(o.getTopLeft(),r),a=this._imageToViewportDelta(o.width,o.height,r);return new S.Rect(s.x,s.y,a.x,a.y,o.degrees+this.getRotation(r))},viewportToImageRectangle:function(t,e,n,i,r){var o=t;t instanceof S.Rect?r=e:o=new S.Rect(t,e,n,i);var s=this.viewportToImageCoordinates(o.getTopLeft(),r),a=this._viewportToImageDelta(o.width,o.height,r);return new S.Rect(s.x,s.y,a.x,a.y,o.degrees-this.getRotation(r))},viewerElementToImageCoordinates:function(t){var e=this.viewport.pointFromPixel(t,!0);return this.viewportToImageCoordinates(e)},imageToViewerElementCoordinates:function(t){var e=this.imageToViewportCoordinates(t);return this.viewport.pixelFromPoint(e,!0)},windowToImageCoordinates:function(t){var e=t.minus(OpenSeadragon.getElementPosition(this.viewer.element));return this.viewerElementToImageCoordinates(e)},imageToWindowCoordinates:function(t){return this.imageToViewerElementCoordinates(t).plus(OpenSeadragon.getElementPosition(this.viewer.element))},_viewportToTiledImageRectangle:function(t){var e=this._scaleSpring.current.value;return t=t.rotate(-this.getRotation(!0),this._getRotationPoint(!0)),new S.Rect((t.x-this._xSpring.current.value)/e,(t.y-this._ySpring.current.value)/e,t.width/e,t.height/e,t.degrees)},viewportToImageZoom:function(t){return this._scaleSpring.current.value*this.viewport._containerInnerSize.x/this.source.dimensions.x*t},imageToViewportZoom:function(t){return t/(this._scaleSpring.current.value*this.viewport._containerInnerSize.x/this.source.dimensions.x)},setPosition:function(t,e){var n=this._xSpring.target.value===t.x&&this._ySpring.target.value===t.y;if(e){if(n&&this._xSpring.current.value===t.x&&this._ySpring.current.value===t.y)return;this._xSpring.resetTo(t.x),this._ySpring.resetTo(t.y),this._needsDraw=!0}else{if(n)return;this._xSpring.springTo(t.x),this._ySpring.springTo(t.y),this._needsDraw=!0}n||this._raiseBoundsChange()},setWidth:function(t,e){this._setScale(t,e)},setHeight:function(t,e){this._setScale(t/this.normHeight,e)},fitBounds:function(t,e,n){e=e||S.Placement.CENTER;var i=S.Placement.properties[e],r=this.contentAspectX,o=0,s=0,a=1,l=1;if(this._clip&&(r=this._clip.getAspectRatio(),a=this._clip.width/this.source.dimensions.x,l=this._clip.height/this.source.dimensions.y,s=t.getAspectRatio()>r?(o=this._clip.x/this._clip.height*t.height,this._clip.y/this._clip.height*t.height):(o=this._clip.x/this._clip.width*t.width,this._clip.y/this._clip.width*t.width)),t.getAspectRatio()>r){var c=t.height/l,u=0;i.isHorizontallyCentered?u=(t.width-t.height*r)/2:i.isRight&&(u=t.width-t.height*r),this.setPosition(new S.Point(t.x-o+u,t.y-s),n),this.setHeight(c,n)}else{var h=t.width/a,d=0;i.isVerticallyCentered?d=(t.height-t.width/r)/2:i.isBottom&&(d=t.height-t.width/r),this.setPosition(new S.Point(t.x-o,t.y-s+d),n),this.setWidth(h,n)}},getClip:function(){return this._clip?this._clip.clone():null},setClip:function(t){S.console.assert(!t||t instanceof S.Rect,"[TiledImage.setClip] newClip must be an OpenSeadragon.Rect or null"),t instanceof S.Rect?this._clip=t.clone():this._clip=null,this._needsDraw=!0,this.raiseEvent("clip-change")},getOpacity:function(){return this.opacity},setOpacity:function(t){t!==this.opacity&&(this.opacity=t,this._needsDraw=!0,this.raiseEvent("opacity-change",{opacity:this.opacity}))},getPreload:function(){return this._preload},setPreload:function(t){this._preload=!!t,this._needsDraw=!0},getRotation:function(t){return t?this._degreesSpring.current.value:this._degreesSpring.target.value},setRotation:function(t,e){this._degreesSpring.target.value===t&&this._degreesSpring.isAtTargetValue()||(e?this._degreesSpring.resetTo(t):this._degreesSpring.springTo(t),this._needsDraw=!0,this._raiseBoundsChange())},_getRotationPoint:function(t){return this.getBoundsNoRotate(t).getCenter()},getCompositeOperation:function(){return this.compositeOperation},setCompositeOperation:function(t){t!==this.compositeOperation&&(this.compositeOperation=t,this._needsDraw=!0,this.raiseEvent("composite-operation-change",{compositeOperation:this.compositeOperation}))},_setScale:function(t,e){var n=this._scaleSpring.target.value===t;if(e){if(n&&this._scaleSpring.current.value===t)return;this._scaleSpring.resetTo(t),this._updateForScale(),this._needsDraw=!0}else{if(n)return;this._scaleSpring.springTo(t),this._updateForScale(),this._needsDraw=!0}n||this._raiseBoundsChange()},_updateForScale:function(){this._worldWidthTarget=this._scaleSpring.target.value,this._worldHeightTarget=this.normHeight*this._scaleSpring.target.value,this._worldWidthCurrent=this._scaleSpring.current.value,this._worldHeightCurrent=this.normHeight*this._scaleSpring.current.value},_raiseBoundsChange:function(){this.raiseEvent("bounds-change")},_isBottomItem:function(){return this.viewer.world.getItemAt(0)===this},_getLevelsInterval:function(){var t=Math.max(this.source.minLevel,Math.floor(Math.log(this.minZoomImageRatio)/Math.log(2))),e=this.viewport.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(0),!0).x*this._scaleSpring.current.value,n=Math.min(Math.abs(this.source.maxLevel),Math.abs(Math.floor(Math.log(e/this.minPixelRatio)/Math.log(2))));return{lowestLevel:t=Math.min(t,n),highestLevel:n}},_updateViewport:function(){for(this._needsDraw=!1,this._tilesLoading=0,this.loadingCoverage={};0<this.lastDrawn.length;)this.lastDrawn.pop().beingDrawn=!1;var t=this.viewport,e=this._viewportToTiledImageRectangle(t.getBoundsWithMargins(!0));if(!this.wrapHorizontal&&!this.wrapVertical){var n=this._viewportToTiledImageRectangle(this.getClippedBounds(!0));if(null===(e=e.intersection(n)))return}for(var i=this._getLevelsInterval(),r=i.lowestLevel,o=i.highestLevel,s=null,a=!1,l=S.now(),c=o;r<=c;c--){var u=!1,h=t.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(c),!0).x*this._scaleSpring.current.value;if(c===r||!a&&h>=this.minPixelRatio)a=u=!0;else if(!a)continue;var d=t.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(c),!1).x*this._scaleSpring.current.value,f=t.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(Math.max(this.source.getClosestLevel(),0)),!1).x*this._scaleSpring.current.value,p=this.immediateRender?1:f;if(s=v(this,a,u,c,Math.min(1,(h-.5)/.5),p/Math.abs(p-d),e,l,s),y(this.coverage,c))break}b(this,this.lastDrawn),s&&!s.context2D?(g(this,s,l),this._needsDraw=!0,this._setFullyLoaded(!1)):this._setFullyLoaded(0===this._tilesLoading)},_getCornerTiles:function(t,e,n){var i,r;r=this.wrapHorizontal?(i=S.positiveModulo(e.x,1),S.positiveModulo(n.x,1)):(i=Math.max(0,e.x),Math.min(1,n.x));var o,s,a=1/this.source.aspectRatio;s=this.wrapVertical?(o=S.positiveModulo(e.y,a),S.positiveModulo(n.y,a)):(o=Math.max(0,e.y),Math.min(a,n.y));var l=this.source.getTileAtPoint(t,new S.Point(i,o)),c=this.source.getTileAtPoint(t,new S.Point(r,s)),u=this.source.getNumTiles(t);return this.wrapHorizontal&&(l.x+=u.x*Math.floor(e.x),c.x+=u.x*Math.floor(n.x)),this.wrapVertical&&(l.y+=u.y*Math.floor(e.y/a),c.y+=u.y*Math.floor(n.y/a)),{topLeft:l,bottomRight:c}}})},function(t,e){var S;(S=OpenSeadragon).Rect=function(t,e,n,i,r){var o,s;this.x="number"==typeof t?t:0,this.y="number"==typeof e?e:0,this.width="number"==typeof n?n:0,this.height="number"==typeof i?i:0,this.degrees="number"==typeof r?r:0,this.degrees=S.positiveModulo(this.degrees,360),270<=this.degrees?(o=this.getTopRight(),this.x=o.x,this.y=o.y,s=this.height,this.height=this.width,this.width=s,this.degrees-=270):180<=this.degrees?(o=this.getBottomRight(),this.x=o.x,this.y=o.y,this.degrees-=180):90<=this.degrees&&(o=this.getBottomLeft(),this.x=o.x,this.y=o.y,s=this.height,this.height=this.width,this.width=s,this.degrees-=90)},S.Rect.fromSummits=function(t,e,n){var i=t.distanceTo(e),r=t.distanceTo(n),o=e.minus(t),s=Math.atan(o.y/o.x);return o.x<0?s+=Math.PI:o.y<0&&(s+=2*Math.PI),new S.Rect(t.x,t.y,i,r,s/Math.PI*180)},S.Rect.prototype={clone:function(){return new S.Rect(this.x,this.y,this.width,this.height,this.degrees)},getAspectRatio:function(){return this.width/this.height},getTopLeft:function(){return new S.Point(this.x,this.y)},getBottomRight:function(){return new S.Point(this.x+this.width,this.y+this.height).rotate(this.degrees,this.getTopLeft())},getTopRight:function(){return new S.Point(this.x+this.width,this.y).rotate(this.degrees,this.getTopLeft())},getBottomLeft:function(){return new S.Point(this.x,this.y+this.height).rotate(this.degrees,this.getTopLeft())},getCenter:function(){return new S.Point(this.x+this.width/2,this.y+this.height/2).rotate(this.degrees,this.getTopLeft())},getSize:function(){return new S.Point(this.width,this.height)},equals:function(t){return t instanceof S.Rect&&this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height&&this.degrees===t.degrees},times:function(t){return new S.Rect(this.x*t,this.y*t,this.width*t,this.height*t,this.degrees)},translate:function(t){return new S.Rect(this.x+t.x,this.y+t.y,this.width,this.height,this.degrees)},union:function(t){var e=this.getBoundingBox(),n=t.getBoundingBox(),i=Math.min(e.x,n.x),r=Math.min(e.y,n.y),o=Math.max(e.x+e.width,n.x+n.width),s=Math.max(e.y+e.height,n.y+n.height);return new S.Rect(i,r,o-i,s-r)},intersection:function(t){var c=1e-10,e=[],n=this.getTopLeft();t.containsPoint(n,c)&&e.push(n);var i=this.getTopRight();t.containsPoint(i,c)&&e.push(i);var r=this.getBottomLeft();t.containsPoint(r,c)&&e.push(r);var o=this.getBottomRight();t.containsPoint(o,c)&&e.push(o);var s=t.getTopLeft();this.containsPoint(s,c)&&e.push(s);var a=t.getTopRight();this.containsPoint(a,c)&&e.push(a);var l=t.getBottomLeft();this.containsPoint(l,c)&&e.push(l);var u=t.getBottomRight();this.containsPoint(u,c)&&e.push(u);for(var h=this._getSegments(),d=t._getSegments(),f=0;f<h.length;f++)for(var p=h[f],v=0;v<d.length;v++){var g=d[v],m=function(t,e,n,i){var r=e.minus(t),o=i.minus(n),s=-o.x*r.y+r.x*o.y;if(0==s)return null;var a=(r.x*(t.y-n.y)-r.y*(t.x-n.x))/s,l=(o.x*(t.y-n.y)-o.y*(t.x-n.x))/s;return-c<=a&&a<=1-c&&-c<=l&&l<=1-c?new S.Point(t.x+l*r.x,t.y+l*r.y):null}(p[0],p[1],g[0],g[1]);m&&e.push(m)}if(0===e.length)return null;for(var y=e[0].x,w=e[0].x,_=e[0].y,x=e[0].y,T=1;T<e.length;T++){var b=e[T];b.x<y&&(y=b.x),b.x>w&&(w=b.x),b.y<_&&(_=b.y),b.y>x&&(x=b.y)}return new S.Rect(y,_,w-y,x-_)},_getSegments:function(){var t=this.getTopLeft(),e=this.getTopRight(),n=this.getBottomLeft(),i=this.getBottomRight();return[[t,e],[e,i],[i,n],[n,t]]},rotate:function(t,e){if(0===(t=S.positiveModulo(t,360)))return this.clone();e=e||this.getCenter();var n=this.getTopLeft().rotate(t,e),i=this.getTopRight().rotate(t,e).minus(n);i=i.apply(function(t){return Math.abs(t)<1e-15?0:t});var r=Math.atan(i.y/i.x);return i.x<0?r+=Math.PI:i.y<0&&(r+=2*Math.PI),new S.Rect(n.x,n.y,this.width,this.height,r/Math.PI*180)},getBoundingBox:function(){if(0===this.degrees)return this.clone();var t=this.getTopLeft(),e=this.getTopRight(),n=this.getBottomLeft(),i=this.getBottomRight(),r=Math.min(t.x,e.x,n.x,i.x),o=Math.max(t.x,e.x,n.x,i.x),s=Math.min(t.y,e.y,n.y,i.y),a=Math.max(t.y,e.y,n.y,i.y);return new S.Rect(r,s,o-r,a-s)},getIntegerBoundingBox:function(){var t=this.getBoundingBox(),e=Math.floor(t.x),n=Math.floor(t.y),i=Math.ceil(t.width+t.x-e),r=Math.ceil(t.height+t.y-n);return new S.Rect(e,n,i,r)},containsPoint:function(t,e){e=e||0;var n=this.getTopLeft(),i=this.getTopRight(),r=this.getBottomLeft(),o=i.minus(n),s=r.minus(n);return(t.x-n.x)*o.x+(t.y-n.y)*o.y>=-e&&(t.x-i.x)*o.x+(t.y-i.y)*o.y<=e&&(t.x-n.x)*s.x+(t.y-n.y)*s.y>=-e&&(t.x-r.x)*s.x+(t.y-r.y)*s.y<=e},toString:function(){return"["+Math.round(100*this.x)/100+", "+Math.round(100*this.y)/100+", "+Math.round(100*this.width)/100+"x"+Math.round(100*this.height)/100+", "+Math.round(100*this.degrees)/100+"deg]"}}},function(t,e){function u(t){return t=U.getElement(t),new U.Point(0===t.clientWidth?1:t.clientWidth,0===t.clientHeight?1:t.clientHeight)}function c(t,e){if(e instanceof U.Overlay)return e;var n=null;if(e.element)n=U.getElement(e.element);else{var i=e.id?e.id:"openseadragon-overlay-"+Math.floor(1e7*Math.random());(n=U.getElement(e.id))||((n=document.createElement("a")).href="#/overlay/"+i),n.id=i,U.addClass(n,e.className?e.className:"openseadragon-overlay")}var r=e.location,o=e.width,s=e.height;if(!r){var a=e.x,l=e.y;if(void 0!==e.px){var c=t.viewport.imageToViewportRectangle(new U.Rect(e.px,e.py,o||0,s||0));a=c.x,l=c.y,o=void 0!==o?c.width:void 0,s=void 0!==s?c.height:void 0}r=new U.Point(a,l)}var u=e.placement;return u&&"string"===U.type(u)&&(u=U.Placement[e.placement.toUpperCase()]),new U.Overlay({element:n,location:r,placement:u,onDraw:e.onDraw,checkResize:e.checkResize,width:o,height:s,rotationMode:e.rotationMode})}function s(t,e){var n;for(n=t.length-1;0<=n;n--)if(t[n].element===e)return n;return-1}function a(t,e){return U.requestAnimationFrame(function(){e(t)})}function o(t){U.requestAnimationFrame(function(){!function(t){var e,n,i,r;if(t.controlsShouldFade){for(e=U.now(),n=e-t.controlsFadeBeginTime,i=1-n/t.controlsFadeLength,i=Math.min(1,i),i=Math.max(0,i),r=t.controls.length-1;0<=r;r--)t.controls[r].autoFade&&t.controls[r].setOpacity(i);0<i&&o(t)}}(t)})}function h(t){t.autoHideControls&&(t.controlsShouldFade=!0,t.controlsFadeBeginTime=U.now()+t.controlsFadeDelay,window.setTimeout(function(){o(t)},t.controlsFadeDelay))}function d(t){var e;for(t.controlsShouldFade=!1,e=t.controls.length-1;0<=e;e--)t.controls[e].setOpacity(1)}function p(){d(this)}function v(){h(this)}function l(t){if(t.preventDefaultAction||t.ctrl||t.alt||t.meta)return!0;switch(t.keyCode){case 38:return t.shift?this.viewport.zoomBy(1.1):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new U.Point(0,-40))),this.viewport.applyConstraints(),!1;case 40:return t.shift?this.viewport.zoomBy(.9):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new U.Point(0,40))),this.viewport.applyConstraints(),!1;case 37:return this.viewport.panBy(this.viewport.deltaPointsFromPixels(new U.Point(-40,0))),this.viewport.applyConstraints(),!1;case 39:return this.viewport.panBy(this.viewport.deltaPointsFromPixels(new U.Point(40,0))),this.viewport.applyConstraints(),!1;default:return!0}}function f(t){if(t.preventDefaultAction||t.ctrl||t.alt||t.meta)return!0;switch(t.keyCode){case 43:case 61:return this.viewport.zoomBy(1.1),this.viewport.applyConstraints(),!1;case 45:return this.viewport.zoomBy(.9),this.viewport.applyConstraints(),!1;case 48:return this.viewport.goHome(),this.viewport.applyConstraints(),!1;case 119:case 87:return t.shift?this.viewport.zoomBy(1.1):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new U.Point(0,-40))),this.viewport.applyConstraints(),!1;case 115:case 83:return t.shift?this.viewport.zoomBy(.9):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new U.Point(0,40))),this.viewport.applyConstraints(),!1;case 97:return this.viewport.panBy(this.viewport.deltaPointsFromPixels(new U.Point(-40,0))),this.viewport.applyConstraints(),!1;case 100:return this.viewport.panBy(this.viewport.deltaPointsFromPixels(new U.Point(40,0))),this.viewport.applyConstraints(),!1;default:return!0}}function g(t){document.activeElement==this.canvas||this.canvas.focus();var e={tracker:t.eventSource,position:t.position,quick:t.quick,shift:t.shift,originalEvent:t.originalEvent,preventDefaultAction:t.preventDefaultAction};this.raiseEvent("canvas-click",e),e.preventDefaultAction||!this.viewport||!t.quick||this.gestureSettingsByDeviceType(t.pointerType).clickToZoom&&(this.viewport.zoomBy(t.shift?1/this.zoomPerClick:this.zoomPerClick,this.viewport.pointFromPixel(t.position,!0)),this.viewport.applyConstraints())}function m(t){t.preventDefaultAction||!this.viewport||this.gestureSettingsByDeviceType(t.pointerType).dblClickToZoom&&(this.viewport.zoomBy(t.shift?1/this.zoomPerClick:this.zoomPerClick,this.viewport.pointFromPixel(t.position,!0)),this.viewport.applyConstraints()),this.raiseEvent("canvas-double-click",{tracker:t.eventSource,position:t.position,shift:t.shift,originalEvent:t.originalEvent})}function y(t){var e,n={tracker:t.eventSource,position:t.position,delta:t.delta,speed:t.speed,direction:t.direction,shift:t.shift,originalEvent:t.originalEvent,preventDefaultAction:t.preventDefaultAction};if(this.raiseEvent("canvas-drag",n),!n.preventDefaultAction&&this.viewport){if(e=this.gestureSettingsByDeviceType(t.pointerType),this.panHorizontal||(t.delta.x=0),this.panVertical||(t.delta.y=0),this.constrainDuringPan){var i=this.viewport.deltaPointsFromPixels(t.delta.negate());this.viewport.centerSpringX.target.value+=i.x,this.viewport.centerSpringY.target.value+=i.y;var r=this.viewport.getBounds(),o=this.viewport.getConstrainedBounds();this.viewport.centerSpringX.target.value-=i.x,this.viewport.centerSpringY.target.value-=i.y,r.x!=o.x&&(t.delta.x=0),r.y!=o.y&&(t.delta.y=0)}this.viewport.panBy(this.viewport.deltaPointsFromPixels(t.delta.negate()),e.flickEnabled&&!this.constrainDuringPan)}}function w(t){if(!t.preventDefaultAction&&this.viewport){var e=this.gestureSettingsByDeviceType(t.pointerType);if(e.flickEnabled&&t.speed>=e.flickMinSpeed){var n=0;this.panHorizontal&&(n=e.flickMomentum*t.speed*Math.cos(t.direction));var i=0;this.panVertical&&(i=e.flickMomentum*t.speed*Math.sin(t.direction));var r=this.viewport.pixelFromPoint(this.viewport.getCenter(!0)),o=this.viewport.pointFromPixel(new U.Point(r.x-n,r.y-i));this.viewport.panTo(o,!1)}this.viewport.applyConstraints()}this.raiseEvent("canvas-drag-end",{tracker:t.eventSource,position:t.position,speed:t.speed,direction:t.direction,shift:t.shift,originalEvent:t.originalEvent})}function _(t){this.raiseEvent("canvas-enter",{tracker:t.eventSource,pointerType:t.pointerType,position:t.position,buttons:t.buttons,pointers:t.pointers,insideElementPressed:t.insideElementPressed,buttonDownAny:t.buttonDownAny,originalEvent:t.originalEvent})}function x(t){window.location!=window.parent.location&&U.MouseTracker.resetAllMouseTrackers(),this.raiseEvent("canvas-exit",{tracker:t.eventSource,pointerType:t.pointerType,position:t.position,buttons:t.buttons,pointers:t.pointers,insideElementPressed:t.insideElementPressed,buttonDownAny:t.buttonDownAny,originalEvent:t.originalEvent})}function T(t){this.raiseEvent("canvas-press",{tracker:t.eventSource,pointerType:t.pointerType,position:t.position,insideElementPressed:t.insideElementPressed,insideElementReleased:t.insideElementReleased,originalEvent:t.originalEvent})}function b(t){this.raiseEvent("canvas-release",{tracker:t.eventSource,pointerType:t.pointerType,position:t.position,insideElementPressed:t.insideElementPressed,insideElementReleased:t.insideElementReleased,originalEvent:t.originalEvent})}function S(t){this.raiseEvent("canvas-nonprimary-press",{tracker:t.eventSource,position:t.position,pointerType:t.pointerType,button:t.button,buttons:t.buttons,originalEvent:t.originalEvent})}function P(t){this.raiseEvent("canvas-nonprimary-release",{tracker:t.eventSource,position:t.position,pointerType:t.pointerType,button:t.button,buttons:t.buttons,originalEvent:t.originalEvent})}function C(t){var e,n,i;if(!t.preventDefaultAction&&this.viewport&&((e=this.gestureSettingsByDeviceType(t.pointerType)).pinchToZoom&&(n=this.viewport.pointFromPixel(t.center,!0),i=this.viewport.pointFromPixel(t.lastCenter,!0).minus(n),this.panHorizontal||(i.x=0),this.panVertical||(i.y=0),this.viewport.zoomBy(t.distance/t.lastDistance,n,!0),this.viewport.panBy(i,!0),this.viewport.applyConstraints()),e.pinchRotate)){var r=Math.atan2(t.gesturePoints[0].currentPos.y-t.gesturePoints[1].currentPos.y,t.gesturePoints[0].currentPos.x-t.gesturePoints[1].currentPos.x),o=Math.atan2(t.gesturePoints[0].lastPos.y-t.gesturePoints[1].lastPos.y,t.gesturePoints[0].lastPos.x-t.gesturePoints[1].lastPos.x);this.viewport.setRotation(this.viewport.getRotation()+(r-o)*(180/Math.PI))}return this.raiseEvent("canvas-pinch",{tracker:t.eventSource,gesturePoints:t.gesturePoints,lastCenter:t.lastCenter,center:t.center,lastDistance:t.lastDistance,distance:t.distance,shift:t.shift,originalEvent:t.originalEvent}),!1}function E(t){var e,n,i;if((i=U.now())-this._lastScrollTime>this.minScrollDeltaTime){if(this._lastScrollTime=i,!t.preventDefaultAction&&this.viewport&&((e=this.gestureSettingsByDeviceType(t.pointerType)).scrollToZoom&&(n=Math.pow(this.zoomPerScroll,t.scroll),this.viewport.zoomBy(n,this.viewport.pointFromPixel(t.position,!0)),this.viewport.applyConstraints())),this.raiseEvent("canvas-scroll",{tracker:t.eventSource,position:t.position,scroll:t.scroll,shift:t.shift,originalEvent:t.originalEvent}),e&&e.scrollToZoom)return!1}else if((e=this.gestureSettingsByDeviceType(t.pointerType))&&e.scrollToZoom)return!1}function R(t){W[this.hash].mouseInside=!0,d(this),this.raiseEvent("container-enter",{tracker:t.eventSource,position:t.position,buttons:t.buttons,pointers:t.pointers,insideElementPressed:t.insideElementPressed,buttonDownAny:t.buttonDownAny,originalEvent:t.originalEvent})}function k(t){t.pointers<1&&(W[this.hash].mouseInside=!1,W[this.hash].animating||h(this)),this.raiseEvent("container-exit",{tracker:t.eventSource,position:t.position,buttons:t.buttons,pointers:t.pointers,insideElementPressed:t.insideElementPressed,buttonDownAny:t.buttonDownAny,originalEvent:t.originalEvent})}function O(t){(function(t){if(!t._opening){if(t.autoResize){var e=u(t.container),n=W[t.hash].prevContainerSize;if(!e.equals(n)){var i=t.viewport;if(t.preserveImageSizeOnResize){var r=n.x/e.x,o=i.getZoom()*r,s=i.getCenter();i.resize(e,!1),i.zoomTo(o,null,!0),i.panTo(s,!0)}else{var a=i.getBounds();i.resize(e,!0),i.fitBoundsWithConstraints(a,!0)}W[t.hash].prevContainerSize=e,W[t.hash].forceRedraw=!0}}var l=t.viewport.update(),c=t.world.update()||l;l&&t.raiseEvent("viewport-change"),t.referenceStrip&&(c=t.referenceStrip.update(t.viewport)||c),!W[t.hash].animating&&c&&(t.raiseEvent("animation-start"),d(t)),(c||W[t.hash].forceRedraw||t.world.needsDraw())&&(function(t){t.imageLoader.clear(),t.drawer.clear(),t.world.draw(),t.raiseEvent("update-viewport",{})}(t),t._drawOverlays(),t.navigator&&t.navigator.update(t.viewport),W[t.hash].forceRedraw=!1,c&&t.raiseEvent("animation")),W[t.hash].animating&&!c&&(t.raiseEvent("animation-finish"),W[t.hash].mouseInside||h(t)),W[t.hash].animating=c}})(t),t.isOpen()?t._updateRequestId=a(t,O):t._updateRequestId=!1}function I(t,e){return t?t+e:e}function A(){W[this.hash].lastZoomTime=U.now(),W[this.hash].zoomFactor=this.zoomPerSecond,W[this.hash].zooming=!0,i(this)}function $(){W[this.hash].lastZoomTime=U.now(),W[this.hash].zoomFactor=1/this.zoomPerSecond,W[this.hash].zooming=!0,i(this)}function M(){W[this.hash].zooming=!1}function i(t){U.requestAnimationFrame(U.delegate(t,n))}function n(){var t,e,n;W[this.hash].zooming&&this.viewport&&(e=(t=U.now())-W[this.hash].lastZoomTime,n=Math.pow(W[this.hash].zoomFactor,e/1e3),this.viewport.zoomBy(n),this.viewport.applyConstraints(),W[this.hash].lastZoomTime=t,i(this))}function D(){this.viewport&&(W[this.hash].zooming=!1,this.viewport.zoomBy(this.zoomPerClick/1),this.viewport.applyConstraints())}function L(){this.viewport&&(W[this.hash].zooming=!1,this.viewport.zoomBy(1/this.zoomPerClick),this.viewport.applyConstraints())}function B(){this.buttons.emulateEnter(),this.buttons.emulateExit()}function F(){this.viewport&&this.viewport.goHome()}function H(){this.isFullPage()&&!U.isFullScreen()?this.setFullPage(!1):this.setFullScreen(!this.isFullPage()),this.buttons&&this.buttons.emulateExit(),this.fullPageButton.element.focus(),this.viewport&&this.viewport.applyConstraints()}function N(){if(this.viewport){var t=this.viewport.getRotation();0===t?t=270:t-=90,this.viewport.setRotation(t)}}function z(){if(this.viewport){var t=this.viewport.getRotation();270===t?t=0:t+=90,this.viewport.setRotation(t)}}function j(){var t=this._sequenceIndex-1;this.navPrevNextWrap&&t<0&&(t+=this.tileSources.length),this.goToPage(t)}function V(){var t=this._sequenceIndex+1;this.navPrevNextWrap&&t>=this.tileSources.length&&(t=0),this.goToPage(t)}var U,W,q;U=OpenSeadragon,W={},q=1,U.Viewer=function(t){var e,n,i,r=arguments,o=this;if(U.isPlainObject(t)||(t={id:r[0],xmlPath:1<r.length?r[1]:void 0,prefixUrl:2<r.length?r[2]:void 0,controls:3<r.length?r[3]:void 0,overlays:4<r.length?r[4]:void 0}),t.config&&(U.extend(!0,t,t.config),delete t.config),U.extend(!0,this,{id:t.id,hash:t.hash||q++,initialPage:0,element:null,container:null,canvas:null,overlays:[],overlaysContainer:null,previousBody:[],customControls:[],source:null,drawer:null,world:null,viewport:null,navigator:null,collectionViewport:null,collectionDrawer:null,navImages:null,buttons:null,profiler:null},U.DEFAULT_SETTINGS,t),void 0===this.hash)throw new Error("A hash must be defined, either by specifying options.id or options.hash.");for(void 0!==W[this.hash]&&U.console.warn("Hash "+this.hash+" has already been used."),W[this.hash]={fsBoundsDelta:new U.Point(1,1),prevContainerSize:null,animating:!1,forceRedraw:!1,mouseInside:!1,group:null,zooming:!1,zoomFactor:null,lastZoomTime:null,fullPage:!1,onfullscreenchange:null},this._sequenceIndex=0,this._firstOpen=!0,this._updateRequestId=null,this._loadQueue=[],this.currentOverlays=[],this._lastScrollTime=U.now(),U.EventSource.call(this),this.addHandler("open-failed",function(t){var e=U.getString("Errors.OpenFailed",t.eventSource,t.message);o._showMessage(e)}),U.ControlDock.call(this,t),this.xmlPath&&(this.tileSources=[this.xmlPath]),this.element=this.element||document.getElementById(this.id),this.canvas=U.makeNeutralElement("div"),this.canvas.className="openseadragon-canvas",(i=this.canvas.style).width="100%",i.height="100%",i.overflow="hidden",i.position="absolute",i.top="0px",i.left="0px",U.setElementTouchActionNone(this.canvas),""!==t.tabIndex&&(this.canvas.tabIndex=void 0===t.tabIndex?0:t.tabIndex),this.container.className="openseadragon-container",(n=this.container.style).width="100%",n.height="100%",n.position="relative",n.overflow="hidden",n.left="0px",n.top="0px",n.textAlign="left",this.container.insertBefore(this.canvas,this.container.firstChild),this.element.appendChild(this.container),this.bodyWidth=document.body.style.width,this.bodyHeight=document.body.style.height,this.bodyOverflow=document.body.style.overflow,this.docOverflow=document.documentElement.style.overflow,this.innerTracker=new U.MouseTracker({element:this.canvas,startDisabled:!this.mouseNavEnabled,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,dblClickTimeThreshold:this.dblClickTimeThreshold,dblClickDistThreshold:this.dblClickDistThreshold,keyDownHandler:U.delegate(this,l),keyHandler:U.delegate(this,f),clickHandler:U.delegate(this,g),dblClickHandler:U.delegate(this,m),dragHandler:U.delegate(this,y),dragEndHandler:U.delegate(this,w),enterHandler:U.delegate(this,_),exitHandler:U.delegate(this,x),pressHandler:U.delegate(this,T),releaseHandler:U.delegate(this,b),nonPrimaryPressHandler:U.delegate(this,S),nonPrimaryReleaseHandler:U.delegate(this,P),scrollHandler:U.delegate(this,E),pinchHandler:U.delegate(this,C)}),this.outerTracker=new U.MouseTracker({element:this.container,startDisabled:!this.mouseNavEnabled,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,dblClickTimeThreshold:this.dblClickTimeThreshold,dblClickDistThreshold:this.dblClickDistThreshold,enterHandler:U.delegate(this,R),exitHandler:U.delegate(this,k)}),this.toolbar&&(this.toolbar=new U.ControlDock({element:this.toolbar})),this.bindStandardControls(),W[this.hash].prevContainerSize=u(this.container),this.world=new U.World({viewer:this}),this.world.addHandler("add-item",function(t){o.source=o.world.getItemAt(0).source,W[o.hash].forceRedraw=!0,o._updateRequestId||(o._updateRequestId=a(o,O))}),this.world.addHandler("remove-item",function(t){o.world.getItemCount()?o.source=o.world.getItemAt(0).source:o.source=null,W[o.hash].forceRedraw=!0}),this.world.addHandler("metrics-change",function(t){o.viewport&&o.viewport._setContentBounds(o.world.getHomeBounds(),o.world.getContentFactor())}),this.world.addHandler("item-index-change",function(t){o.source=o.world.getItemAt(0).source}),this.viewport=new U.Viewport({containerSize:W[this.hash].prevContainerSize,springStiffness:this.springStiffness,animationTime:this.animationTime,minZoomImageRatio:this.minZoomImageRatio,maxZoomPixelRatio:this.maxZoomPixelRatio,visibilityRatio:this.visibilityRatio,wrapHorizontal:this.wrapHorizontal,wrapVertical:this.wrapVertical,defaultZoomLevel:this.defaultZoomLevel,minZoomLevel:this.minZoomLevel,maxZoomLevel:this.maxZoomLevel,viewer:this,degrees:this.degrees,navigatorRotate:this.navigatorRotate,homeFillsViewer:this.homeFillsViewer,margins:this.viewportMargins}),this.viewport._setContentBounds(this.world.getHomeBounds(),this.world.getContentFactor()),this.imageLoader=new U.ImageLoader({jobLimit:this.imageLoaderLimit,timeout:t.timeout}),this.tileCache=new U.TileCache({maxImageCacheCount:this.maxImageCacheCount}),this.drawer=new U.Drawer({viewer:this,viewport:this.viewport,element:this.canvas,debugGridColor:this.debugGridColor}),this.overlaysContainer=U.makeNeutralElement("div"),this.canvas.appendChild(this.overlaysContainer),this.drawer.canRotate()||(this.rotateLeft&&(e=this.buttons.buttons.indexOf(this.rotateLeft),this.buttons.buttons.splice(e,1),this.buttons.element.removeChild(this.rotateLeft.element)),this.rotateRight&&(e=this.buttons.buttons.indexOf(this.rotateRight),this.buttons.buttons.splice(e,1),this.buttons.element.removeChild(this.rotateRight.element))),this.showNavigator&&(this.navigator=new U.Navigator({id:this.navigatorId,position:this.navigatorPosition,sizeRatio:this.navigatorSizeRatio,maintainSizeRatio:this.navigatorMaintainSizeRatio,top:this.navigatorTop,left:this.navigatorLeft,width:this.navigatorWidth,height:this.navigatorHeight,autoResize:this.navigatorAutoResize,autoFade:this.navigatorAutoFade,prefixUrl:this.prefixUrl,viewer:this,navigatorRotate:this.navigatorRotate,crossOriginPolicy:this.crossOriginPolicy})),this.sequenceMode&&this.bindSequenceControls(),this.tileSources&&this.open(this.tileSources),e=0;e<this.customControls.length;e++)this.addControl(this.customControls[e].id,{anchor:this.customControls[e].anchor});U.requestAnimationFrame(function(){h(o)})},U.extend(U.Viewer.prototype,U.EventSource.prototype,U.ControlDock.prototype,{isOpen:function(){return!!this.world.getItemCount()},openDzi:function(t){return U.console.error("[Viewer.openDzi] this function is deprecated; use Viewer.open() instead."),this.open(t)},openTileSource:function(t){return U.console.error("[Viewer.openTileSource] this function is deprecated; use Viewer.open() instead."),this.open(t)},open:function(n,t){var r=this;if(this.close(),n){if(this.sequenceMode&&U.isArray(n))return this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null),void 0===t||isNaN(t)||(this.initialPage=t),this.tileSources=n,this._sequenceIndex=Math.max(0,Math.min(this.tileSources.length-1,this.initialPage)),this.tileSources.length&&(this.open(this.tileSources[this._sequenceIndex]),this.showReferenceStrip&&this.addReferenceStrip()),void this._updateSequenceButtons(this._sequenceIndex);if(U.isArray(n)||(n=[n]),n.length){function o(){if(a+l===i)if(a){!r._firstOpen&&r.preserveViewport||(r.viewport.goHome(!0),r.viewport.update()),r._firstOpen=!1;var t=n[0];if(t.tileSource&&(t=t.tileSource),r.overlays&&!r.preserveOverlays)for(var e=0;e<r.overlays.length;e++)r.currentOverlays[e]=c(r,r.overlays[e]);r._drawOverlays(),r._opening=!1,r.raiseEvent("open",{source:t})}else r._opening=!1,r.raiseEvent("open-failed",s)}this._opening=!0;for(var s,i=n.length,a=0,l=0,e=0;e<n.length;e++)!function(n){U.isPlainObject(n)&&n.tileSource||(n={tileSource:n}),void 0!==n.index&&(U.console.error("[Viewer.open] setting indexes here is not supported; use addTiledImage instead"),delete n.index),void 0===n.collectionImmediately&&(n.collectionImmediately=!0);var i=n.success;n.success=function(t){if(a++,n.tileSource.overlays)for(var e=0;e<n.tileSource.overlays.length;e++)r.addOverlay(n.tileSource.overlays[e]);i&&i(t),o()};var e=n.error;n.error=function(t){l++,s=s||t,e&&e(t),o()},r.addTiledImage(n)}(n[e]);return this}}},close:function(){return W[this.hash]&&(this._opening=!1,this.navigator&&this.navigator.close(),this.preserveOverlays||(this.clearOverlays(),this.overlaysContainer.innerHTML=""),W[this.hash].animating=!1,this.world.removeAll(),this.imageLoader.clear(),this.raiseEvent("close")),this},destroy:function(){if(W[this.hash]){if(this.close(),this.clearOverlays(),this.overlaysContainer.innerHTML="",this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null),null!==this._updateRequestId&&(U.cancelAnimationFrame(this._updateRequestId),this._updateRequestId=null),this.drawer&&this.drawer.destroy(),this.removeAllHandlers(),this.element)for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.innerTracker&&this.innerTracker.destroy(),this.outerTracker&&this.outerTracker.destroy(),W[this.hash]=null,delete W[this.hash],this.canvas=null,this.container=null,this.element=null}},isMouseNavEnabled:function(){return this.innerTracker.isTracking()},setMouseNavEnabled:function(t){return this.innerTracker.setTracking(t),this.outerTracker.setTracking(t),this.raiseEvent("mouse-enabled",{enabled:t}),this},areControlsEnabled:function(){var t,e=this.controls.length;for(t=0;t<this.controls.length;t++)e=e&&this.controls[t].isVisibile();return e},setControlsEnabled:function(t){return t?d(this):h(this),this.raiseEvent("controls-enabled",{enabled:t}),this},setDebugMode:function(t){for(var e=0;e<this.world.getItemCount();e++)this.world.getItemAt(e).debugMode=t;this.debugMode=t,this.forceRedraw()},isFullPage:function(){return W[this.hash].fullPage},setFullPage:function(t){var e,n,i=document.body,r=i.style,o=document.documentElement.style,s=this;if(t==this.isFullPage())return this;var a={fullPage:t,preventDefaultAction:!1};if(this.raiseEvent("pre-full-page",a),a.preventDefaultAction)return this;if(t){for(this.elementSize=U.getElementSize(this.element),this.pageScroll=U.getPageScroll(),this.elementMargin=this.element.style.margin,this.element.style.margin="0",this.elementPadding=this.element.style.padding,this.element.style.padding="0",this.bodyMargin=r.margin,this.docMargin=o.margin,r.margin="0",o.margin="0",this.bodyPadding=r.padding,this.docPadding=o.padding,r.padding="0",o.padding="0",this.bodyWidth=r.width,this.docWidth=o.width,r.width="100%",o.width="100%",this.bodyHeight=r.height,this.docHeight=o.height,r.height="100%",o.height="100%",this.previousBody=[],W[this.hash].prevElementParent=this.element.parentNode,W[this.hash].prevNextSibling=this.element.nextSibling,W[this.hash].prevElementWidth=this.element.style.width,W[this.hash].prevElementHeight=this.element.style.height,e=i.childNodes.length,n=0;n<e;n++)this.previousBody.push(i.childNodes[0]),i.removeChild(i.childNodes[0]);this.toolbar&&this.toolbar.element&&(this.toolbar.parentNode=this.toolbar.element.parentNode,this.toolbar.nextSibling=this.toolbar.element.nextSibling,i.appendChild(this.toolbar.element),U.addClass(this.toolbar.element,"fullpage")),U.addClass(this.element,"fullpage"),i.appendChild(this.element),this.element.style.height=U.getWindowSize().y+"px",this.element.style.width=U.getWindowSize().x+"px",this.toolbar&&this.toolbar.element&&(this.element.style.height=U.getElementSize(this.element).y-U.getElementSize(this.toolbar.element).y+"px"),W[this.hash].fullPage=!0,U.delegate(this,R)({})}else{for(this.element.style.margin=this.elementMargin,this.element.style.padding=this.elementPadding,r.margin=this.bodyMargin,o.margin=this.docMargin,r.padding=this.bodyPadding,o.padding=this.docPadding,r.width=this.bodyWidth,o.width=this.docWidth,r.height=this.bodyHeight,o.height=this.docHeight,i.removeChild(this.element),e=this.previousBody.length,n=0;n<e;n++)i.appendChild(this.previousBody.shift());U.removeClass(this.element,"fullpage"),W[this.hash].prevElementParent.insertBefore(this.element,W[this.hash].prevNextSibling),this.toolbar&&this.toolbar.element&&(i.removeChild(this.toolbar.element),U.removeClass(this.toolbar.element,"fullpage"),this.toolbar.parentNode.insertBefore(this.toolbar.element,this.toolbar.nextSibling),delete this.toolbar.parentNode,delete this.toolbar.nextSibling),this.element.style.width=W[this.hash].prevElementWidth,this.element.style.height=W[this.hash].prevElementHeight;var l=0,c=function(){U.setPageScroll(s.pageScroll);var t=U.getPageScroll();++l<10&&(t.x!==s.pageScroll.x||t.y!==s.pageScroll.y)&&U.requestAnimationFrame(c)};U.requestAnimationFrame(c),W[this.hash].fullPage=!1,U.delegate(this,k)({})}return this.navigator&&this.viewport&&this.navigator.update(this.viewport),this.raiseEvent("full-page",{fullPage:t}),this},setFullScreen:function(t){var e=this;if(!U.supportsFullScreen)return this.setFullPage(t);if(U.isFullScreen()===t)return this;var n={fullScreen:t,preventDefaultAction:!1};if(this.raiseEvent("pre-full-screen",n),n.preventDefaultAction)return this;if(t){if(this.setFullPage(!0),!this.isFullPage())return this;this.fullPageStyleWidth=this.element.style.width,this.fullPageStyleHeight=this.element.style.height,this.element.style.width="100%",this.element.style.height="100%";var i=function(){var t=U.isFullScreen();t||(U.removeEvent(document,U.fullScreenEventName,i),U.removeEvent(document,U.fullScreenErrorEventName,i),e.setFullPage(!1),e.isFullPage()&&(e.element.style.width=e.fullPageStyleWidth,e.element.style.height=e.fullPageStyleHeight)),e.navigator&&e.viewport&&e.navigator.update(e.viewport),e.raiseEvent("full-screen",{fullScreen:t})};U.addEvent(document,U.fullScreenEventName,i),U.addEvent(document,U.fullScreenErrorEventName,i),U.requestFullScreen(document.body)}else U.exitFullScreen();return this},isVisible:function(){return"hidden"!=this.container.style.visibility},setVisible:function(t){return this.container.style.visibility=t?"":"hidden",this.raiseEvent("visible",{visible:t}),this},addTiledImage:function(n){function e(t){for(var e=0;e<o._loadQueue.length;e++)if(o._loadQueue[e]===s){o._loadQueue.splice(e,1);break}0===o._loadQueue.length&&r(s),o.raiseEvent("add-item-failed",t),n.error&&n.error(t)}function r(t){o.collectionMode&&(o.world.arrange({immediately:t.options.collectionImmediately,rows:o.collectionRows,columns:o.collectionColumns,layout:o.collectionLayout,tileSize:o.collectionTileSize,tileMargin:o.collectionTileMargin}),o.world.setAutoRefigureSizes(!0))}function i(){for(var t,e,n;o._loadQueue.length&&(t=o._loadQueue[0]).tileSource;){if(o._loadQueue.splice(0,1),t.options.replace){var i=o.world.getIndexOfItem(t.options.replaceItem);-1!=i&&(t.options.index=i),o.world.removeItem(t.options.replaceItem)}e=new U.TiledImage({viewer:o,source:t.tileSource,viewport:o.viewport,drawer:o.drawer,tileCache:o.tileCache,imageLoader:o.imageLoader,x:t.options.x,y:t.options.y,width:t.options.width,height:t.options.height,fitBounds:t.options.fitBounds,fitBoundsPlacement:t.options.fitBoundsPlacement,clip:t.options.clip,placeholderFillStyle:t.options.placeholderFillStyle,opacity:t.options.opacity,preload:t.options.preload,degrees:t.options.degrees,compositeOperation:t.options.compositeOperation,springStiffness:o.springStiffness,animationTime:o.animationTime,minZoomImageRatio:o.minZoomImageRatio,wrapHorizontal:o.wrapHorizontal,wrapVertical:o.wrapVertical,immediateRender:o.immediateRender,blendTime:o.blendTime,alwaysBlend:o.alwaysBlend,minPixelRatio:o.minPixelRatio,smoothTileEdgesMinZoom:o.smoothTileEdgesMinZoom,iOSDevice:o.iOSDevice,crossOriginPolicy:t.options.crossOriginPolicy,ajaxWithCredentials:t.options.ajaxWithCredentials,loadTilesWithAjax:t.options.loadTilesWithAjax,ajaxHeaders:t.options.ajaxHeaders,debugMode:o.debugMode}),o.collectionMode&&o.world.setAutoRefigureSizes(!1),o.world.addItem(e,{index:t.options.index}),0===o._loadQueue.length&&r(t),1!==o.world.getItemCount()||o.preserveViewport||o.viewport.goHome(!0),o.navigator&&(n=U.extend({},t.options,{replace:!1,originalTiledImage:e,tileSource:t.tileSource}),o.navigator.addTiledImage(n)),t.options.success&&t.options.success({item:e})}}U.console.assert(n,"[Viewer.addTiledImage] options is required"),U.console.assert(n.tileSource,"[Viewer.addTiledImage] options.tileSource is required"),U.console.assert(!n.replace||-1<n.index&&n.index<this.world.getItemCount(),"[Viewer.addTiledImage] if options.replace is used, options.index must be a valid index in Viewer.world");var o=this;n.replace&&(n.replaceItem=o.world.getItemAt(n.index)),this._hideMessage(),void 0===n.placeholderFillStyle&&(n.placeholderFillStyle=this.placeholderFillStyle),void 0===n.opacity&&(n.opacity=this.opacity),void 0===n.preload&&(n.preload=this.preload),void 0===n.compositeOperation&&(n.compositeOperation=this.compositeOperation),void 0===n.crossOriginPolicy&&(n.crossOriginPolicy=void 0!==n.tileSource.crossOriginPolicy?n.tileSource.crossOriginPolicy:this.crossOriginPolicy),void 0===n.ajaxWithCredentials&&(n.ajaxWithCredentials=this.ajaxWithCredentials),void 0===n.loadTilesWithAjax&&(n.loadTilesWithAjax=this.loadTilesWithAjax),void 0===n.ajaxHeaders||null===n.ajaxHeaders?n.ajaxHeaders=this.ajaxHeaders:U.isPlainObject(n.ajaxHeaders)&&U.isPlainObject(this.ajaxHeaders)&&(n.ajaxHeaders=U.extend({},this.ajaxHeaders,n.ajaxHeaders));var s={options:n};U.isArray(n.tileSource)?setTimeout(function(){e({message:"[Viewer.addTiledImage] Sequences can not be added; add them one at a time instead.",source:n.tileSource,options:n})}):(this._loadQueue.push(s),function(n,i,r,o,s){function a(t,e){t.ready?o(t):(t.addHandler("ready",function(){o(t)}),t.addHandler("open-failed",function(t){s({message:t.message,source:e})}))}var l=n;if("string"==U.type(i))if(i.match(/^\s*<.*>\s*$/))i=U.parseXml(i);else if(i.match(/^\s*[\{\[].*[\}\]]\s*$/))try{var t=U.parseJSON(i);i=t}catch(t){}setTimeout(function(){if("string"==U.type(i))(i=new U.TileSource({url:i,crossOriginPolicy:void 0!==r.crossOriginPolicy?r.crossOriginPolicy:n.crossOriginPolicy,ajaxWithCredentials:n.ajaxWithCredentials,ajaxHeaders:n.ajaxHeaders,useCanvas:n.useCanvas,success:function(t){o(t.tileSource)}})).addHandler("open-failed",function(t){s(t)});else if(U.isPlainObject(i)||i.nodeType)if(void 0!==i.crossOriginPolicy||void 0===r.crossOriginPolicy&&void 0===n.crossOriginPolicy||(i.crossOriginPolicy=void 0!==r.crossOriginPolicy?r.crossOriginPolicy:n.crossOriginPolicy),void 0===i.ajaxWithCredentials&&(i.ajaxWithCredentials=n.ajaxWithCredentials),void 0===i.useCanvas&&(i.useCanvas=n.useCanvas),U.isFunction(i.getTileUrl)){var t=new U.TileSource(i);t.getTileUrl=i.getTileUrl,o(t)}else{var e=U.TileSource.determineType(l,i);if(!e)return void s({message:"Unable to load TileSource",source:i});a(new e(e.prototype.configure.apply(l,[i])),i)}else a(i,i)})}(this,n.tileSource,n,function(t){s.tileSource=t,i()},function(t){t.options=n,e(t),i()}))},addSimpleImage:function(t){U.console.assert(t,"[Viewer.addSimpleImage] options is required"),U.console.assert(t.url,"[Viewer.addSimpleImage] options.url is required");var e=U.extend({},t,{tileSource:{type:"image",url:t.url}});delete e.url,this.addTiledImage(e)},addLayer:function(e){var n=this;U.console.error("[Viewer.addLayer] this function is deprecated; use Viewer.addTiledImage() instead.");var t=U.extend({},e,{success:function(t){n.raiseEvent("add-layer",{options:e,drawer:t.item})},error:function(t){n.raiseEvent("add-layer-failed",t)}});return this.addTiledImage(t),this},getLayerAtLevel:function(t){return U.console.error("[Viewer.getLayerAtLevel] this function is deprecated; use World.getItemAt() instead."),this.world.getItemAt(t)},getLevelOfLayer:function(t){return U.console.error("[Viewer.getLevelOfLayer] this function is deprecated; use World.getIndexOfItem() instead."),this.world.getIndexOfItem(t)},getLayersCount:function(){return U.console.error("[Viewer.getLayersCount] this function is deprecated; use World.getItemCount() instead."),this.world.getItemCount()},setLayerLevel:function(t,e){return U.console.error("[Viewer.setLayerLevel] this function is deprecated; use World.setItemIndex() instead."),this.world.setItemIndex(t,e)},removeLayer:function(t){return U.console.error("[Viewer.removeLayer] this function is deprecated; use World.removeItem() instead."),this.world.removeItem(t)},forceRedraw:function(){return W[this.hash].forceRedraw=!0,this},bindSequenceControls:function(){var t=U.delegate(this,p),e=U.delegate(this,v),n=U.delegate(this,V),i=U.delegate(this,j),r=this.navImages,o=!0;return this.showSequenceControl&&((this.previousButton||this.nextButton)&&(o=!1),this.previousButton=new U.Button({element:this.previousButton?U.getElement(this.previousButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:U.getString("Tooltips.PreviousPage"),srcRest:I(this.prefixUrl,r.previous.REST),srcGroup:I(this.prefixUrl,r.previous.GROUP),srcHover:I(this.prefixUrl,r.previous.HOVER),srcDown:I(this.prefixUrl,r.previous.DOWN),onRelease:i,onFocus:t,onBlur:e}),this.nextButton=new U.Button({element:this.nextButton?U.getElement(this.nextButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:U.getString("Tooltips.NextPage"),srcRest:I(this.prefixUrl,r.next.REST),srcGroup:I(this.prefixUrl,r.next.GROUP),srcHover:I(this.prefixUrl,r.next.HOVER),srcDown:I(this.prefixUrl,r.next.DOWN),onRelease:n,onFocus:t,onBlur:e}),this.navPrevNextWrap||this.previousButton.disable(),this.tileSources&&this.tileSources.length||this.nextButton.disable(),o&&(this.paging=new U.ButtonGroup({buttons:[this.previousButton,this.nextButton],clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold}),this.pagingControl=this.paging.element,this.toolbar?this.toolbar.addControl(this.pagingControl,{anchor:U.ControlAnchor.BOTTOM_RIGHT}):this.addControl(this.pagingControl,{anchor:this.sequenceControlAnchor||U.ControlAnchor.TOP_LEFT}))),this},bindStandardControls:function(){var t=U.delegate(this,A),e=U.delegate(this,M),n=U.delegate(this,D),i=U.delegate(this,$),r=U.delegate(this,L),o=U.delegate(this,F),s=U.delegate(this,H),a=U.delegate(this,N),l=U.delegate(this,z),c=U.delegate(this,p),u=U.delegate(this,v),h=this.navImages,d=[],f=!0;return this.showNavigationControl&&((this.zoomInButton||this.zoomOutButton||this.homeButton||this.fullPageButton||this.rotateLeftButton||this.rotateRightButton)&&(f=!1),this.showZoomControl&&(d.push(this.zoomInButton=new U.Button({element:this.zoomInButton?U.getElement(this.zoomInButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:U.getString("Tooltips.ZoomIn"),srcRest:I(this.prefixUrl,h.zoomIn.REST),srcGroup:I(this.prefixUrl,h.zoomIn.GROUP),srcHover:I(this.prefixUrl,h.zoomIn.HOVER),srcDown:I(this.prefixUrl,h.zoomIn.DOWN),onPress:t,onRelease:e,onClick:n,onEnter:t,onExit:e,onFocus:c,onBlur:u})),d.push(this.zoomOutButton=new U.Button({element:this.zoomOutButton?U.getElement(this.zoomOutButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:U.getString("Tooltips.ZoomOut"),srcRest:I(this.prefixUrl,h.zoomOut.REST),srcGroup:I(this.prefixUrl,h.zoomOut.GROUP),srcHover:I(this.prefixUrl,h.zoomOut.HOVER),srcDown:I(this.prefixUrl,h.zoomOut.DOWN),onPress:i,onRelease:e,onClick:r,onEnter:i,onExit:e,onFocus:c,onBlur:u}))),this.showHomeControl&&d.push(this.homeButton=new U.Button({element:this.homeButton?U.getElement(this.homeButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:U.getString("Tooltips.Home"),srcRest:I(this.prefixUrl,h.home.REST),srcGroup:I(this.prefixUrl,h.home.GROUP),srcHover:I(this.prefixUrl,h.home.HOVER),srcDown:I(this.prefixUrl,h.home.DOWN),onRelease:o,onFocus:c,onBlur:u})),this.showFullPageControl&&d.push(this.fullPageButton=new U.Button({element:this.fullPageButton?U.getElement(this.fullPageButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:U.getString("Tooltips.FullPage"),srcRest:I(this.prefixUrl,h.fullpage.REST),srcGroup:I(this.prefixUrl,h.fullpage.GROUP),srcHover:I(this.prefixUrl,h.fullpage.HOVER),srcDown:I(this.prefixUrl,h.fullpage.DOWN),onRelease:s,onFocus:c,onBlur:u})),this.showRotationControl&&(d.push(this.rotateLeftButton=new U.Button({element:this.rotateLeftButton?U.getElement(this.rotateLeftButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:U.getString("Tooltips.RotateLeft"),srcRest:I(this.prefixUrl,h.rotateleft.REST),srcGroup:I(this.prefixUrl,h.rotateleft.GROUP),srcHover:I(this.prefixUrl,h.rotateleft.HOVER),srcDown:I(this.prefixUrl,h.rotateleft.DOWN),onRelease:a,onFocus:c,onBlur:u})),d.push(this.rotateRightButton=new U.Button({element:this.rotateRightButton?U.getElement(this.rotateRightButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:U.getString("Tooltips.RotateRight"),srcRest:I(this.prefixUrl,h.rotateright.REST),srcGroup:I(this.prefixUrl,h.rotateright.GROUP),srcHover:I(this.prefixUrl,h.rotateright.HOVER),srcDown:I(this.prefixUrl,h.rotateright.DOWN),onRelease:l,onFocus:c,onBlur:u}))),f&&(this.buttons=new U.ButtonGroup({buttons:d,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold}),this.navControl=this.buttons.element,this.addHandler("open",U.delegate(this,B)),this.toolbar?this.toolbar.addControl(this.navControl,{anchor:this.navigationControlAnchor||U.ControlAnchor.TOP_LEFT}):this.addControl(this.navControl,{anchor:this.navigationControlAnchor||U.ControlAnchor.TOP_LEFT}))),this},currentPage:function(){return this._sequenceIndex},goToPage:function(t){return this.tileSources&&0<=t&&t<this.tileSources.length&&(this.raiseEvent("page",{page:t}),this._sequenceIndex=t,this._updateSequenceButtons(t),this.open(this.tileSources[t]),this.referenceStrip&&this.referenceStrip.setFocus(t)),this},addOverlay:function(t,e,n,i){var r;if(r=U.isPlainObject(t)?t:{element:t,location:e,placement:n,onDraw:i},t=U.getElement(r.element),0<=s(this.currentOverlays,t))return this;var o=c(this,r);return this.currentOverlays.push(o),o.drawHTML(this.overlaysContainer,this.viewport),this.raiseEvent("add-overlay",{element:t,location:r.location,placement:r.placement}),this},updateOverlay:function(t,e,n){var i;return t=U.getElement(t),0<=(i=s(this.currentOverlays,t))&&(this.currentOverlays[i].update(e,n),W[this.hash].forceRedraw=!0,this.raiseEvent("update-overlay",{element:t,location:e,placement:n})),this},removeOverlay:function(t){var e;return t=U.getElement(t),0<=(e=s(this.currentOverlays,t))&&(this.currentOverlays[e].destroy(),this.currentOverlays.splice(e,1),W[this.hash].forceRedraw=!0,this.raiseEvent("remove-overlay",{element:t})),this},clearOverlays:function(){for(;0<this.currentOverlays.length;)this.currentOverlays.pop().destroy();return W[this.hash].forceRedraw=!0,this.raiseEvent("clear-overlay",{}),this},getOverlayById:function(t){var e;return t=U.getElement(t),0<=(e=s(this.currentOverlays,t))?this.currentOverlays[e]:null},_updateSequenceButtons:function(t){this.nextButton&&(this.tileSources&&this.tileSources.length-1!==t?this.nextButton.enable():this.navPrevNextWrap||this.nextButton.disable()),this.previousButton&&(0<t?this.previousButton.enable():this.navPrevNextWrap||this.previousButton.disable())},_showMessage:function(t){this._hideMessage();var e=U.makeNeutralElement("div");e.appendChild(document.createTextNode(t)),this.messageDiv=U.makeCenteredNode(e),U.addClass(this.messageDiv,"openseadragon-message"),this.container.appendChild(this.messageDiv)},_hideMessage:function(){var t=this.messageDiv;t&&(t.parentNode.removeChild(t),delete this.messageDiv)},gestureSettingsByDeviceType:function(t){switch(t){case"mouse":return this.gestureSettingsMouse;case"touch":return this.gestureSettingsTouch;case"pen":return this.gestureSettingsPen;default:return this.gestureSettingsUnknown}},_drawOverlays:function(){var t,e=this.currentOverlays.length;for(t=0;t<e;t++)this.currentOverlays[t].drawHTML(this.overlaysContainer,this.viewport)},_cancelPendingImages:function(){this._loadQueue=[]},removeReferenceStrip:function(){this.showReferenceStrip=!1,this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null)},addReferenceStrip:function(){if(this.showReferenceStrip=!0,this.sequenceMode){if(this.referenceStrip)return;this.tileSources.length&&1<this.tileSources.length&&(this.referenceStrip=new U.ReferenceStrip({id:this.referenceStripElement,position:this.referenceStripPosition,sizeRatio:this.referenceStripSizeRatio,scroll:this.referenceStripScroll,height:this.referenceStripHeight,width:this.referenceStripWidth,tileSources:this.tileSources,prefixUrl:this.prefixUrl,viewer:this}),this.referenceStrip.setFocus(this._sequenceIndex))}else U.console.warn('Attempting to display a reference strip while "sequenceMode" is off.')}})},function(t,e){var f;(f=OpenSeadragon).Viewport=function(t){var e=arguments;e.length&&e[0]instanceof f.Point&&(t={containerSize:e[0],contentSize:e[1],config:e[2]}),t.config&&(f.extend(!0,t,t.config),delete t.config),this._margins=f.extend({left:0,top:0,right:0,bottom:0},t.margins||{}),delete t.margins,f.extend(!0,this,{containerSize:null,contentSize:null,zoomPoint:null,viewer:null,springStiffness:f.DEFAULT_SETTINGS.springStiffness,animationTime:f.DEFAULT_SETTINGS.animationTime,minZoomImageRatio:f.DEFAULT_SETTINGS.minZoomImageRatio,maxZoomPixelRatio:f.DEFAULT_SETTINGS.maxZoomPixelRatio,visibilityRatio:f.DEFAULT_SETTINGS.visibilityRatio,wrapHorizontal:f.DEFAULT_SETTINGS.wrapHorizontal,wrapVertical:f.DEFAULT_SETTINGS.wrapVertical,defaultZoomLevel:f.DEFAULT_SETTINGS.defaultZoomLevel,minZoomLevel:f.DEFAULT_SETTINGS.minZoomLevel,maxZoomLevel:f.DEFAULT_SETTINGS.maxZoomLevel,degrees:f.DEFAULT_SETTINGS.degrees,homeFillsViewer:f.DEFAULT_SETTINGS.homeFillsViewer},t),this._updateContainerInnerSize(),this.centerSpringX=new f.Spring({initial:0,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.centerSpringY=new f.Spring({initial:0,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.zoomSpring=new f.Spring({exponential:!0,initial:1,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._oldCenterX=this.centerSpringX.current.value,this._oldCenterY=this.centerSpringY.current.value,this._oldZoom=this.zoomSpring.current.value,this._setContentBounds(new f.Rect(0,0,1,1),1),this.goHome(!0),this.update()},f.Viewport.prototype={resetContentSize:function(t){return f.console.assert(t,"[Viewport.resetContentSize] contentSize is required"),f.console.assert(t instanceof f.Point,"[Viewport.resetContentSize] contentSize must be an OpenSeadragon.Point"),f.console.assert(0<t.x,"[Viewport.resetContentSize] contentSize.x must be greater than 0"),f.console.assert(0<t.y,"[Viewport.resetContentSize] contentSize.y must be greater than 0"),this._setContentBounds(new f.Rect(0,0,1,t.y/t.x),t.x),this},setHomeBounds:function(t,e){f.console.error("[Viewport.setHomeBounds] this function is deprecated; The content bounds should not be set manually."),this._setContentBounds(t,e)},_setContentBounds:function(t,e){f.console.assert(t,"[Viewport._setContentBounds] bounds is required"),f.console.assert(t instanceof f.Rect,"[Viewport._setContentBounds] bounds must be an OpenSeadragon.Rect"),f.console.assert(0<t.width,"[Viewport._setContentBounds] bounds.width must be greater than 0"),f.console.assert(0<t.height,"[Viewport._setContentBounds] bounds.height must be greater than 0"),this._contentBoundsNoRotate=t.clone(),this._contentSizeNoRotate=this._contentBoundsNoRotate.getSize().times(e),this._contentBounds=t.rotate(this.degrees).getBoundingBox(),this._contentSize=this._contentBounds.getSize().times(e),this._contentAspectRatio=this._contentSize.x/this._contentSize.y,this.viewer&&this.viewer.raiseEvent("reset-size",{contentSize:this._contentSizeNoRotate.clone(),contentFactor:e,homeBounds:this._contentBoundsNoRotate.clone(),contentBounds:this._contentBounds.clone()})},getHomeZoom:function(){if(this.defaultZoomLevel)return this.defaultZoomLevel;var t=this._contentAspectRatio/this.getAspectRatio();return(this.homeFillsViewer?1<=t?t:1:1<=t?1:t)/this._contentBounds.width},getHomeBounds:function(){return this.getHomeBoundsNoRotate().rotate(-this.getRotation())},getHomeBoundsNoRotate:function(){var t=this._contentBounds.getCenter(),e=1/this.getHomeZoom(),n=e/this.getAspectRatio();return new f.Rect(t.x-e/2,t.y-n/2,e,n)},goHome:function(t){return this.viewer&&this.viewer.raiseEvent("home",{immediately:t}),this.fitBounds(this.getHomeBounds(),t)},getMinZoom:function(){var t=this.getHomeZoom();return this.minZoomLevel?this.minZoomLevel:this.minZoomImageRatio*t},getMaxZoom:function(){var t=this.maxZoomLevel;return t||(t=this._contentSize.x*this.maxZoomPixelRatio/this._containerInnerSize.x,t/=this._contentBounds.width),Math.max(t,this.getHomeZoom())},getAspectRatio:function(){return this._containerInnerSize.x/this._containerInnerSize.y},getContainerSize:function(){return new f.Point(this.containerSize.x,this.containerSize.y)},getMargins:function(){return f.extend({},this._margins)},setMargins:function(t){f.console.assert("object"===f.type(t),"[Viewport.setMargins] margins must be an object"),this._margins=f.extend({left:0,top:0,right:0,bottom:0},t),this._updateContainerInnerSize(),this.viewer&&this.viewer.forceRedraw()},getBounds:function(t){return this.getBoundsNoRotate(t).rotate(-this.getRotation())},getBoundsNoRotate:function(t){var e=this.getCenter(t),n=1/this.getZoom(t),i=n/this.getAspectRatio();return new f.Rect(e.x-n/2,e.y-i/2,n,i)},getBoundsWithMargins:function(t){return this.getBoundsNoRotateWithMargins(t).rotate(-this.getRotation(),this.getCenter(t))},getBoundsNoRotateWithMargins:function(t){var e=this.getBoundsNoRotate(t),n=this._containerInnerSize.x*this.getZoom(t);return e.x-=this._margins.left/n,e.y-=this._margins.top/n,e.width+=(this._margins.left+this._margins.right)/n,e.height+=(this._margins.top+this._margins.bottom)/n,e},getCenter:function(t){var e,n,i,r,o,s,a=new f.Point(this.centerSpringX.current.value,this.centerSpringY.current.value),l=new f.Point(this.centerSpringX.target.value,this.centerSpringY.target.value);return t?a:this.zoomPoint?(e=this.pixelFromPoint(this.zoomPoint,!0),r=(i=1/(n=this.getZoom()))/this.getAspectRatio(),o=new f.Rect(a.x-i/2,a.y-r/2,i,r),s=this._pixelFromPoint(this.zoomPoint,o).minus(e).divide(this._containerInnerSize.x*n),l.plus(s)):l},getZoom:function(t){return t?this.zoomSpring.current.value:this.zoomSpring.target.value},_applyZoomConstraints:function(t){return Math.max(Math.min(t,this.getMaxZoom()),this.getMinZoom())},_applyBoundaryConstraints:function(t){var e=new f.Rect(t.x,t.y,t.width,t.height);if(this.wrapHorizontal);else{var n=this.visibilityRatio*e.width,i=e.x+e.width,r=this._contentBoundsNoRotate.x+this._contentBoundsNoRotate.width,o=this._contentBoundsNoRotate.x-i+n,s=r-e.x-n;n>this._contentBoundsNoRotate.width?e.x+=(o+s)/2:s<0?e.x+=s:0<o&&(e.x+=o)}if(this.wrapVertical);else{var a=this.visibilityRatio*e.height,l=e.y+e.height,c=this._contentBoundsNoRotate.y+this._contentBoundsNoRotate.height,u=this._contentBoundsNoRotate.y-l+a,h=c-e.y-a;a>this._contentBoundsNoRotate.height?e.y+=(u+h)/2:h<0?e.y+=h:0<u&&(e.y+=u)}return e},_raiseConstraintsEvent:function(t){this.viewer&&this.viewer.raiseEvent("constrain",{immediately:t})},applyConstraints:function(t){var e=this.getZoom(),n=this._applyZoomConstraints(e);e!==n&&this.zoomTo(n,this.zoomPoint,t);var i=this.getBoundsNoRotate(),r=this._applyBoundaryConstraints(i);return this._raiseConstraintsEvent(t),i.x===r.x&&i.y===r.y&&!t||this.fitBounds(r.rotate(-this.getRotation()),t),this},ensureVisible:function(t){return this.applyConstraints(t)},_fitBounds:function(t,e){var n=(e=e||{}).immediately||!1,i=e.constraints||!1,r=this.getAspectRatio(),o=t.getCenter(),s=new f.Rect(t.x,t.y,t.width,t.height,t.degrees+this.getRotation()).getBoundingBox();s.getAspectRatio()>=r?s.height=s.width/r:s.width=s.height*r,s.x=o.x-s.width/2,s.y=o.y-s.height/2;var a=1/s.width;if(i){var l=s.getAspectRatio(),c=this._applyZoomConstraints(a);a!==c&&(a=c,s.width=1/a,s.x=o.x-s.width/2,s.height=s.width/l,s.y=o.y-s.height/2),o=(s=this._applyBoundaryConstraints(s)).getCenter(),this._raiseConstraintsEvent(n)}if(n)return this.panTo(o,!0),this.zoomTo(a,null,!0);this.panTo(this.getCenter(!0),!0),this.zoomTo(this.getZoom(!0),null,!0);var u=this.getBounds(),h=this.getZoom();if(0===h||Math.abs(a/h-1)<1e-8)return this.zoomTo(a,!0),this.panTo(o,n);var d=(s=s.rotate(-this.getRotation())).getTopLeft().times(a).minus(u.getTopLeft().times(h)).divide(a-h);return this.zoomTo(a,d,n)},fitBounds:function(t,e){return this._fitBounds(t,{immediately:e,constraints:!1})},fitBoundsWithConstraints:function(t,e){return this._fitBounds(t,{immediately:e,constraints:!0})},fitVertically:function(t){var e=new f.Rect(this._contentBounds.x+this._contentBounds.width/2,this._contentBounds.y,0,this._contentBounds.height);return this.fitBounds(e,t)},fitHorizontally:function(t){var e=new f.Rect(this._contentBounds.x,this._contentBounds.y+this._contentBounds.height/2,this._contentBounds.width,0);return this.fitBounds(e,t)},getConstrainedBounds:function(t){var e;return e=this.getBounds(t),this._applyBoundaryConstraints(e)},panBy:function(t,e){var n=new f.Point(this.centerSpringX.target.value,this.centerSpringY.target.value);return this.panTo(n.plus(t),e)},panTo:function(t,e){return e?(this.centerSpringX.resetTo(t.x),this.centerSpringY.resetTo(t.y)):(this.centerSpringX.springTo(t.x),this.centerSpringY.springTo(t.y)),this.viewer&&this.viewer.raiseEvent("pan",{center:t,immediately:e}),this},zoomBy:function(t,e,n){return this.zoomTo(this.zoomSpring.target.value*t,e,n)},zoomTo:function(t,e,n){var i=this;return this.zoomPoint=e instanceof f.Point&&!isNaN(e.x)&&!isNaN(e.y)?e:null,n?this._adjustCenterSpringsForZoomPoint(function(){i.zoomSpring.resetTo(t)}):this.zoomSpring.springTo(t),this.viewer&&this.viewer.raiseEvent("zoom",{zoom:t,refPoint:e,immediately:n}),this},setRotation:function(t){return this.viewer&&this.viewer.drawer.canRotate()&&(this.degrees=f.positiveModulo(t,360),this._setContentBounds(this.viewer.world.getHomeBounds(),this.viewer.world.getContentFactor()),this.viewer.forceRedraw(),this.viewer.raiseEvent("rotate",{degrees:t})),this},getRotation:function(){return this.degrees},resize:function(t,e){var n,i=this.getBoundsNoRotate(),r=i;return this.containerSize.x=t.x,this.containerSize.y=t.y,this._updateContainerInnerSize(),e&&(n=t.x/this.containerSize.x,r.width=i.width*n,r.height=r.width/this.getAspectRatio()),this.viewer&&this.viewer.raiseEvent("resize",{newContainerSize:t,maintain:e}),this.fitBounds(r,!0)},_updateContainerInnerSize:function(){this._containerInnerSize=new f.Point(Math.max(1,this.containerSize.x-(this._margins.left+this._margins.right)),Math.max(1,this.containerSize.y-(this._margins.top+this._margins.bottom)))},update:function(){var t=this;this._adjustCenterSpringsForZoomPoint(function(){t.zoomSpring.update()}),this.centerSpringX.update(),this.centerSpringY.update();var e=this.centerSpringX.current.value!==this._oldCenterX||this.centerSpringY.current.value!==this._oldCenterY||this.zoomSpring.current.value!==this._oldZoom;return this._oldCenterX=this.centerSpringX.current.value,this._oldCenterY=this.centerSpringY.current.value,this._oldZoom=this.zoomSpring.current.value,e},_adjustCenterSpringsForZoomPoint:function(t){if(this.zoomPoint){var e=this.pixelFromPoint(this.zoomPoint,!0);t();var n=this.pixelFromPoint(this.zoomPoint,!0).minus(e),i=this.deltaPointsFromPixels(n,!0);this.centerSpringX.shiftBy(i.x),this.centerSpringY.shiftBy(i.y),this.zoomSpring.isAtTargetValue()&&(this.zoomPoint=null)}else t()},deltaPixelsFromPointsNoRotate:function(t,e){return t.times(this._containerInnerSize.x*this.getZoom(e))},deltaPixelsFromPoints:function(t,e){return this.deltaPixelsFromPointsNoRotate(t.rotate(this.getRotation()),e)},deltaPointsFromPixelsNoRotate:function(t,e){return t.divide(this._containerInnerSize.x*this.getZoom(e))},deltaPointsFromPixels:function(t,e){return this.deltaPointsFromPixelsNoRotate(t,e).rotate(-this.getRotation())},pixelFromPointNoRotate:function(t,e){return this._pixelFromPointNoRotate(t,this.getBoundsNoRotate(e))},pixelFromPoint:function(t,e){return this._pixelFromPoint(t,this.getBoundsNoRotate(e))},_pixelFromPointNoRotate:function(t,e){return t.minus(e.getTopLeft()).times(this._containerInnerSize.x/e.width).plus(new f.Point(this._margins.left,this._margins.top))},_pixelFromPoint:function(t,e){return this._pixelFromPointNoRotate(t.rotate(this.getRotation(),this.getCenter(!0)),e)},pointFromPixelNoRotate:function(t,e){var n=this.getBoundsNoRotate(e);return t.minus(new f.Point(this._margins.left,this._margins.top)).divide(this._containerInnerSize.x/n.width).plus(n.getTopLeft())},pointFromPixel:function(t,e){return this.pointFromPixelNoRotate(t,e).rotate(-this.getRotation(),this.getCenter(!0))},_viewportToImageDelta:function(t,e){var n=this._contentBoundsNoRotate.width;return new f.Point(t*this._contentSizeNoRotate.x/n,e*this._contentSizeNoRotate.x/n)},viewportToImageCoordinates:function(t,e){if(t instanceof f.Point)return this.viewportToImageCoordinates(t.x,t.y);if(this.viewer){var n=this.viewer.world.getItemCount();if(1<n)f.console.error("[Viewport.viewportToImageCoordinates] is not accurate with multi-image; use TiledImage.viewportToImageCoordinates instead.");else if(1===n)return this.viewer.world.getItemAt(0).viewportToImageCoordinates(t,e,!0)}return this._viewportToImageDelta(t-this._contentBoundsNoRotate.x,e-this._contentBoundsNoRotate.y)},_imageToViewportDelta:function(t,e){var n=this._contentBoundsNoRotate.width;return new f.Point(t/this._contentSizeNoRotate.x*n,e/this._contentSizeNoRotate.x*n)},imageToViewportCoordinates:function(t,e){if(t instanceof f.Point)return this.imageToViewportCoordinates(t.x,t.y);if(this.viewer){var n=this.viewer.world.getItemCount();if(1<n)f.console.error("[Viewport.imageToViewportCoordinates] is not accurate with multi-image; use TiledImage.imageToViewportCoordinates instead.");else if(1===n)return this.viewer.world.getItemAt(0).imageToViewportCoordinates(t,e,!0)}var i=this._imageToViewportDelta(t,e);return i.x+=this._contentBoundsNoRotate.x,i.y+=this._contentBoundsNoRotate.y,i},imageToViewportRectangle:function(t,e,n,i){var r=t;if(r instanceof f.Rect||(r=new f.Rect(t,e,n,i)),this.viewer){var o=this.viewer.world.getItemCount();if(1<o)f.console.error("[Viewport.imageToViewportRectangle] is not accurate with multi-image; use TiledImage.imageToViewportRectangle instead.");else if(1===o)return this.viewer.world.getItemAt(0).imageToViewportRectangle(t,e,n,i,!0)}var s=this.imageToViewportCoordinates(r.x,r.y),a=this._imageToViewportDelta(r.width,r.height);return new f.Rect(s.x,s.y,a.x,a.y,r.degrees)},viewportToImageRectangle:function(t,e,n,i){var r=t;if(r instanceof f.Rect||(r=new f.Rect(t,e,n,i)),this.viewer){var o=this.viewer.world.getItemCount();if(1<o)f.console.error("[Viewport.viewportToImageRectangle] is not accurate with multi-image; use TiledImage.viewportToImageRectangle instead.");else if(1===o)return this.viewer.world.getItemAt(0).viewportToImageRectangle(t,e,n,i,!0)}var s=this.viewportToImageCoordinates(r.x,r.y),a=this._viewportToImageDelta(r.width,r.height);return new f.Rect(s.x,s.y,a.x,a.y,r.degrees)},viewerElementToImageCoordinates:function(t){var e=this.pointFromPixel(t,!0);return this.viewportToImageCoordinates(e)},imageToViewerElementCoordinates:function(t){var e=this.imageToViewportCoordinates(t);return this.pixelFromPoint(e,!0)},windowToImageCoordinates:function(t){f.console.assert(this.viewer,"[Viewport.windowToImageCoordinates] the viewport must have a viewer.");var e=t.minus(f.getElementPosition(this.viewer.element));return this.viewerElementToImageCoordinates(e)},imageToWindowCoordinates:function(t){return f.console.assert(this.viewer,"[Viewport.imageToWindowCoordinates] the viewport must have a viewer."),this.imageToViewerElementCoordinates(t).plus(f.getElementPosition(this.viewer.element))},viewerElementToViewportCoordinates:function(t){return this.pointFromPixel(t,!0)},viewportToViewerElementCoordinates:function(t){return this.pixelFromPoint(t,!0)},viewerElementToViewportRectangle:function(t){return f.Rect.fromSummits(this.pointFromPixel(t.getTopLeft(),!0),this.pointFromPixel(t.getTopRight(),!0),this.pointFromPixel(t.getBottomLeft(),!0))},viewportToViewerElementRectangle:function(t){return f.Rect.fromSummits(this.pixelFromPoint(t.getTopLeft(),!0),this.pixelFromPoint(t.getTopRight(),!0),this.pixelFromPoint(t.getBottomLeft(),!0))},windowToViewportCoordinates:function(t){f.console.assert(this.viewer,"[Viewport.windowToViewportCoordinates] the viewport must have a viewer.");var e=t.minus(f.getElementPosition(this.viewer.element));return this.viewerElementToViewportCoordinates(e)},viewportToWindowCoordinates:function(t){return f.console.assert(this.viewer,"[Viewport.viewportToWindowCoordinates] the viewport must have a viewer."),this.viewportToViewerElementCoordinates(t).plus(f.getElementPosition(this.viewer.element))},viewportToImageZoom:function(t){if(this.viewer){var e=this.viewer.world.getItemCount();if(1<e)f.console.error("[Viewport.viewportToImageZoom] is not accurate with multi-image.");else if(1===e)return this.viewer.world.getItemAt(0).viewportToImageZoom(t)}var n=this._contentSizeNoRotate.x;return t*(this._containerInnerSize.x/n*this._contentBoundsNoRotate.width)},imageToViewportZoom:function(t){if(this.viewer){var e=this.viewer.world.getItemCount();if(1<e)f.console.error("[Viewport.imageToViewportZoom] is not accurate with multi-image.");else if(1===e)return this.viewer.world.getItemAt(0).imageToViewportZoom(t)}return t*(this._contentSizeNoRotate.x/this._containerInnerSize.x/this._contentBoundsNoRotate.width)}}},function(t,e){var g;(g=OpenSeadragon).World=function(t){var e=this;g.console.assert(t.viewer,"[World] options.viewer is required"),g.EventSource.call(this),this.viewer=t.viewer,this._items=[],this._needsDraw=!1,this._autoRefigureSizes=!0,this._needsSizesFigured=!1,this._delegatedFigureSizes=function(t){e._autoRefigureSizes?e._figureSizes():e._needsSizesFigured=!0},this._figureSizes()},g.extend(g.World.prototype,g.EventSource.prototype,{addItem:function(t,e){if(g.console.assert(t,"[World.addItem] item is required"),g.console.assert(t instanceof g.TiledImage,"[World.addItem] only TiledImages supported at this time"),void 0!==(e=e||{}).index){var n=Math.max(0,Math.min(this._items.length,e.index));this._items.splice(n,0,t)}else this._items.push(t);this._autoRefigureSizes?this._figureSizes():this._needsSizesFigured=!0,this._needsDraw=!0,t.addHandler("bounds-change",this._delegatedFigureSizes),t.addHandler("clip-change",this._delegatedFigureSizes),this.raiseEvent("add-item",{item:t})},getItemAt:function(t){return g.console.assert(void 0!==t,"[World.getItemAt] index is required"),this._items[t]},getIndexOfItem:function(t){return g.console.assert(t,"[World.getIndexOfItem] item is required"),g.indexOf(this._items,t)},getItemCount:function(){return this._items.length},setItemIndex:function(t,e){g.console.assert(t,"[World.setItemIndex] item is required"),g.console.assert(void 0!==e,"[World.setItemIndex] index is required");var n=this.getIndexOfItem(t);if(e>=this._items.length)throw new Error("Index bigger than number of layers.");e!==n&&-1!==n&&(this._items.splice(n,1),this._items.splice(e,0,t),this._needsDraw=!0,this.raiseEvent("item-index-change",{item:t,previousIndex:n,newIndex:e}))},removeItem:function(t){g.console.assert(t,"[World.removeItem] item is required");var e=g.indexOf(this._items,t);-1!==e&&(t.removeHandler("bounds-change",this._delegatedFigureSizes),t.removeHandler("clip-change",this._delegatedFigureSizes),t.destroy(),this._items.splice(e,1),this._figureSizes(),this._needsDraw=!0,this._raiseRemoveItem(t))},removeAll:function(){var t,e;for(this.viewer._cancelPendingImages(),e=0;e<this._items.length;e++)(t=this._items[e]).removeHandler("bounds-change",this._delegatedFigureSizes),t.removeHandler("clip-change",this._delegatedFigureSizes),t.destroy();var n=this._items;for(this._items=[],this._figureSizes(),this._needsDraw=!0,e=0;e<n.length;e++)t=n[e],this._raiseRemoveItem(t)},resetItems:function(){for(var t=0;t<this._items.length;t++)this._items[t].reset()},update:function(){for(var t=!1,e=0;e<this._items.length;e++)t=this._items[e].update()||t;return t},draw:function(){for(var t=0;t<this._items.length;t++)this._items[t].draw();this._needsDraw=!1},needsDraw:function(){for(var t=0;t<this._items.length;t++)if(this._items[t].needsDraw())return!0;return this._needsDraw},getHomeBounds:function(){return this._homeBounds.clone()},getContentFactor:function(){return this._contentFactor},setAutoRefigureSizes:function(t){(this._autoRefigureSizes=t)&this._needsSizesFigured&&(this._figureSizes(),this._needsSizesFigured=!1)},arrange:function(t){var e,n=(t=t||{}).immediately||!1,i=t.layout||g.DEFAULT_SETTINGS.collectionLayout,r=t.rows||g.DEFAULT_SETTINGS.collectionRows,o=t.columns||g.DEFAULT_SETTINGS.collectionColumns,s=t.tileSize||g.DEFAULT_SETTINGS.collectionTileSize,a=s+(t.tileMargin||g.DEFAULT_SETTINGS.collectionTileMargin);e=!t.rows&&o?o:Math.ceil(this._items.length/r);var l,c,u,h,d,f=0,p=0;this.setAutoRefigureSizes(!1);for(var v=0;v<this._items.length;v++)v&&v%e==0&&("horizontal"===i?(p+=a,f=0):(f+=a,p=0)),h=(u=(c=(l=this._items[v]).getBounds()).width>c.height?s:s*(c.width/c.height))*(c.height/c.width),d=new g.Point(f+(s-u)/2,p+(s-h)/2),l.setPosition(d,n),l.setWidth(u,n),"horizontal"===i?f+=a:p+=a;this.setAutoRefigureSizes(!0)},_figureSizes:function(){var t=this._homeBounds?this._homeBounds.clone():null,e=this._contentSize?this._contentSize.clone():null,n=this._contentFactor||0;if(this._items.length){var i=this._items[0],r=i.getBounds();this._contentFactor=i.getContentSize().x/r.width;for(var o=i.getClippedBounds().getBoundingBox(),s=o.x,a=o.y,l=o.x+o.width,c=o.y+o.height,u=1;u<this._items.length;u++)r=(i=this._items[u]).getBounds(),this._contentFactor=Math.max(this._contentFactor,i.getContentSize().x/r.width),o=i.getClippedBounds().getBoundingBox(),s=Math.min(s,o.x),a=Math.min(a,o.y),l=Math.max(l,o.x+o.width),c=Math.max(c,o.y+o.height);this._homeBounds=new g.Rect(s,a,l-s,c-a),this._contentSize=new g.Point(this._homeBounds.width*this._contentFactor,this._homeBounds.height*this._contentFactor)}else this._homeBounds=new g.Rect(0,0,1,1),this._contentSize=new g.Point(1,1),this._contentFactor=1;this._contentFactor===n&&this._homeBounds.equals(t)&&this._contentSize.equals(e)||this.raiseEvent("metrics-change",{})},_raiseRemoveItem:function(t){this.raiseEvent("remove-item",{item:t})}})},function(t,e,n){"use strict";var i={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"tify-scan"},[n("h2",{staticClass:"tify-sr-only"},[e._v(e._s(e._f("trans")("Scan")))]),e._v(" "),e.customPageViewActive||e.isFirstPage?e._e():n("button",{staticClass:"tify-scan_page-button -previous",attrs:{title:e._f("trans")("Previous page")},on:{click:e.goToPreviousPage}},[n("icon",{attrs:{name:"navigate_before"}}),e._v(" "),n("span",{staticClass:"tify-sr-only"},[e._v(e._s(e._f("trans")("Previous page")))])],1),e._v(" "),e.customPageViewActive||e.isLastPage?e._e():n("button",{staticClass:"tify-scan_page-button -next",attrs:{title:e._f("trans")("Next page")},on:{click:e.goToNextPage}},[n("icon",{attrs:{name:"navigate_next"}}),e._v(" "),n("span",{staticClass:"tify-sr-only"},[e._v(e._s(e._f("trans")("Next page")))])],1),e._v(" "),e.viewer?n("div",{staticClass:"tify-scan_buttons"},[n("button",{staticClass:"tify-scan_button",attrs:{disabled:e.isMaxZoom,title:e._f("trans")("Zoom in")},on:{click:e.zoomIn}},[n("icon",{attrs:{name:"zoom_in"}}),e._v(" "),n("span",{staticClass:"tify-sr-only"},[e._v(e._s(e._f("trans")("Zoom in")))])],1),e._v(" "),n("button",{staticClass:"tify-scan_button",attrs:{disabled:e.isReset,title:e._f("trans")("Reset")},on:{click:function(t){e.resetView(t)}}},[n("icon",{attrs:{name:"aspect_ratio"}}),e._v(" "),n("span",{staticClass:"tify-sr-only"},[e._v(e._s(e._f("trans")("Reset")))])],1),e._v(" "),n("button",{staticClass:"tify-scan_button",attrs:{disabled:e.isMinZoom,title:e._f("trans")("Zoom out")},on:{click:e.zoomOut}},[n("icon",{attrs:{name:"zoom_out"}}),e._v(" "),n("span",{staticClass:"tify-sr-only"},[e._v(e._s(e._f("trans")("Zoom out")))])],1),e._v(" "),n("button",{staticClass:"tify-scan_button",class:{"-active":e.$root.params.rotation},attrs:{title:e._f("trans")("Rotate")},on:{click:function(t){e.rotateRight(t)}}},[n("icon",{attrs:{name:"rotate_right"}}),e._v(" "),n("span",{staticClass:"tify-sr-only"},[e._v(e._s(e._f("trans")("Rotate")))])],1),e._v(" "),e.cssFiltersSupported?n("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.closeFilters,expression:"closeFilters"}],staticClass:"tify-scan_filters",class:{"-open":e.filtersVisible}},[n("button",{staticClass:"tify-scan_button",class:{"-active":e.filtersActive},attrs:{title:e._f("trans")("Toggle image filters")},on:{click:function(t){e.filtersVisible=!e.filtersVisible}}},[n("icon",{attrs:{name:"tune"}}),e._v(" "),n("span",{staticClass:"tify-sr-only"},[e._v(e._s(e._f("trans")("Toggle image filters")))])],1),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.filtersVisible,expression:"filtersVisible"}],staticClass:"tify-scan_filter-popup"},[n("p",[n("label",{attrs:{for:"tify-scan_brightness"}},[n("icon",{staticClass:"-light",attrs:{name:"wb_sunny"}}),e._v("\n\t\t\t\t\t\t"+e._s(e._f("trans")("Brightness:"))+"\n\t\t\t\t\t\t"+e._s(Math.round(100*(e.$root.params.filters.brightness||1)))+" %\n\t\t\t\t\t")],1),e._v(" "),n("input",{ref:"firstSlider",staticClass:"tify-scan_range",attrs:{id:"tify-scan_brightness",max:"2",min:".5",step:".01",type:"range"},domProps:{value:e.$root.params.filters.brightness||1},on:{input:function(t){e.setFilter("brightness",t)}}})]),e._v(" "),n("p",[n("label",{attrs:{for:"tify-scan_contrast"}},[n("icon",{staticClass:"-light",attrs:{name:"brightness_medium"}}),e._v("\n\t\t\t\t\t\t"+e._s(e._f("trans")("Contrast:"))+"\n\t\t\t\t\t\t"+e._s(Math.round(100*(e.$root.params.filters.contrast||1)))+" %\n\t\t\t\t\t")],1),e._v(" "),n("input",{staticClass:"tify-scan_range",attrs:{id:"tify-scan_contrast",max:"2",min:".5",step:".01",type:"range"},domProps:{value:e.$root.params.filters.contrast||1},on:{input:function(t){e.setFilter("contrast",t)}}})]),e._v(" "),n("p",[n("label",{attrs:{for:"tify-scan_saturation"}},[n("icon",{staticClass:"-light",attrs:{name:"palette"}}),e._v("\n\t\t\t\t\t\t"+e._s(e._f("trans")("Saturation:"))+"\n\t\t\t\t\t\t"+e._s(Math.round(100*e.$root.params.filters.saturate||100))+" %\n\t\t\t\t\t")],1),e._v(" "),n("input",{staticClass:"tify-scan_range",attrs:{id:"tify-scan_saturation",max:"3",min:"0",step:".01",type:"range"},domProps:{value:e.$root.params.filters.saturate||1},on:{input:function(t){e.setFilter("saturate",t)}}})]),e._v(" "),n("p",[n("button",{staticClass:"tify-scan_reset",attrs:{disabled:!e.filtersActive},on:{click:e.resetFilters}},[n("icon",{attrs:{name:"settings_backup_restore"}}),e._v("\n\t\t\t\t\t\t"+e._s(e._f("trans")("Reset"))+"\n\t\t\t\t\t")],1)])])]):e._e()]):e._e(),e._v(" "),n("div",{ref:"image",staticClass:"tify-scan_image",attrs:{id:"tify-scan_image"}})])},staticRenderFns:[]};e.a=i},function(t,e,n){"use strict";var i=n(181),r=n(182),o=n(3)(i.a,r.a,!1,null,null,null);e.a=o.exports},function(t,e,n){"use strict";var i=n(75),r=n.n(i);e.a={mixins:[r.a],data:function(){return{itemHeight:0,itemVMargin:0,items:[{label:""}],itemsPerRow:0,knownImages:[],lastScrollTop:0,style:{},thumbnailWidth:0,touchTimer:null}},watch:{"$root.params.pages":function(t){var e=this;this.$nextTick(function(){2<t.length||1<t.length&&t[1]!==t[0]+1||(e.$refs.container.querySelector(".tify-thumbnails_item.-current")?e.updateScrollPos(".tify-thumbnails_item.-current"):e.scrollToCurrentPage())})},"$root.params.view":function(t){"thumbnails"===t&&this.updateDimensions()}},methods:{updateDimensions:function(){var t=this.$refs.container.querySelector(".tify-thumbnails_item"),e=t.currentStyle||window.getComputedStyle(t),n=parseInt(e.marginTop,10)+parseFloat(e.marginBottom,10);this.itemHeight=t.offsetHeight+n,this.itemVMargin=n;var i=parseInt(e.marginLeft,10)+parseFloat(e.marginRight,10),r=t.offsetWidth+i;this.thumbnailWidth=t.offsetWidth,this.itemsPerRow=Math.floor(this.$refs.container.clientWidth/r);var o=Math.ceil(this.$root.canvases.length/this.itemsPerRow)*this.itemHeight;this.$refs.container.style.height=o+"px",this.redrawThumbnails(),this.scrollToCurrentPage(!1)},init:function(){var t=this;this.updateDimensions(),this.scrollToCurrentPage(!1);var e=void 0;window.addEventListener("resize",function(){clearTimeout(e),e=setTimeout(function(){"thumbnails"===t.$root.params.view&&t.updateDimensions()},200)})},redrawThumbnails:function(){for(var e=this,t=this.$el.scrollTop,n=Math.floor(t/this.itemHeight)*this.itemsPerRow+1,i=Math.ceil(this.$el.offsetHeight/this.itemHeight)*this.itemsPerRow,r=n+this.itemsPerRow+i,o=Math.min(this.$root.canvases.length,r),s=[],a=n-1;a<o;a+=1){var l=this.$root.canvases[a].images[0].resource;if(l.service){var c="http://iiif.io/api/image/2/context.json"===l.service["@context"]?"default":"native",u=l.service["@id"];s.push({label:this.$root.iiifConvertToArray(this.$root.canvases[a].label)[0],imgUrl:u+("/"===u.slice(-1)?"":"/")+"full/"+this.thumbnailWidth+",/0/"+c+".jpg",page:a+1})}else s.push({label:this.$root.iiifConvertToArray(this.$root.canvases[a].label)[0],imgUrl:l["@id"],page:a+1})}this.items=s,this.$nextTick(function(){var t=Math.floor(n/e.itemsPerRow);e.$refs.container.style.paddingTop=t*e.itemHeight+"px"})},scrollToCurrentPage:function(){var t=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],e=Math.floor((this.$root.params.pages[0]-1)/this.itemsPerRow)*this.itemHeight+(this.itemVMargin-50);t?this.scrollTo(this.$el,e):this.$el.scrollTop=e},setPageAndSwitchView:function(t){if(1<arguments.length&&void 0!==arguments[1]&&arguments[1]){var e=this.$root.params.pages.slice(0),n=e.indexOf(t);return n<0?(e.push(t),e.sort(function(t,e){return t-e}),0===e[0]&&e.shift()):1<e.length&&e.splice(n,1),void this.$root.updateParams({pages:e})}this.$root.setPage(t),this.$root.isMobile()&&this.$root.updateParams({view:"scan"})},touchStartTogglePage:function(t){var e=this;this.lastScrollTop=this.$el.scrollTop,this.touchTimer=setTimeout(function(){e.$el.scrollTop===e.lastScrollTop&&e.setPageAndSwitchView(t,!0)},750)},touchEnd:function(){clearTimeout(this.touchTimer)}},mounted:function(){this.style.flex=this.$el.style.flex,"thumbnails"===this.$root.params.view&&this.init()}}},function(t,e,n){"use strict";var i={render:function(){var n=this,t=n.$createElement,i=n._self._c||t;return i("section",{staticClass:"tify-thumbnails",on:{scroll:n.redrawThumbnails}},[i("h2",{staticClass:"tify-sr-only"},[n._v(n._s(n._f("trans")("Pages")))]),n._v(" "),i("div",{ref:"container",staticClass:"tify-thumbnails_list"},n._l(n.items,function(e){return i("a",{key:e.page,staticClass:"tify-thumbnails_item",class:{"-current":-1<n.$root.params.pages.indexOf(e.page)},attrs:{href:""},on:{click:function(t){t.preventDefault(),n.setPageAndSwitchView(e.page,t.ctrlKey)},touchstart:function(t){n.touchStartTogglePage(e.page)},touchend:n.touchEnd}},[i("img",{attrs:{alt:"",src:e.imgUrl}}),n._v(" "),i("span",{staticClass:"tify-thumbnails_page"},[n._v("\n\t\t\t\t"+n._s(e.page)+" : "+n._s(e.label)+"\n\t\t\t")])])}))])},staticRenderFns:[]};e.a=i},function(t,e,n){"use strict";var i=n(184),r=n(185),o=n(3)(i.a,r.a,!1,null,null,null);e.a=o.exports},function(t,e,n){"use strict";var i=n(74),r=n(75),o=n.n(r),s=n(51),a=n.n(s);e.a={mixins:[o.a,a.a],components:{TocList:i.a},data:function(){return{isInited:!1}},computed:{hasChildStructures:function(){return this.structures.some(function(t){return t.childStructures})}},methods:{init:function(){var t=this;this.isInited=!0,this.$nextTick(function(){return t.updateScrollPos(".tify-toc_structure.-current",!1)})}},watch:{"$root.params.pages":function(){var t=this;this.$nextTick(function(){return t.updateScrollPos(".tify-toc_structure.-current")})},"$root.params.view":function(t){"toc"===t&&this.init()}},mounted:function(){"toc"===this.$root.params.view&&this.init()}}},function(t,e,n){"use strict";var i={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"tify-toc"},[n("h2",{staticClass:"tify-sr-only"},[e._v(e._s(e._f("trans")("Table of Contents")))]),e._v(" "),e.hasChildStructures?n("div",{staticClass:"tify-toc_header"},[n("button",{staticClass:"tify-toc_toggle-all",on:{click:function(t){e.$refs.children.toggleAllChildren(!0)}}},[e._v("\n\t\t\t"+e._s(e._f("trans")("Expand all"))+"\n\t\t")]),e._v(" "),n("button",{staticClass:"tify-toc_toggle-all",on:{click:function(t){e.$refs.children.toggleAllChildren(!1)}}},[e._v("\n\t\t\t"+e._s(e._f("trans")("Collapse all"))+"\n\t\t")])]):e._e(),e._v(" "),e.isInited?n("toc-list",{ref:"children",attrs:{level:0,structures:e.structures}}):e._e()],1)},staticRenderFns:[]};e.a=i},function(t,e,n){"use strict";var i={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tify-app"},[e.$root.manifest?n("app-header",{attrs:{fulltextEnabled:e.hasOtherContent,tocEnabled:e.hasToc}}):e._e(),e._v(" "),e.$root.manifest?n("div",{staticClass:"tify-app_main"},[n("scan"),e._v(" "),e.hasOtherContent?n("fulltext",{directives:[{name:"show",rawName:"v-show",value:"fulltext"===e.$root.params.view,expression:"$root.params.view === 'fulltext'"}]}):e._e(),e._v(" "),e.hasToc?n("toc",{directives:[{name:"show",rawName:"v-show",value:"toc"===e.$root.params.view,expression:"$root.params.view === 'toc'"}]}):e._e(),e._v(" "),n("thumbnails",{directives:[{name:"show",rawName:"v-show",value:"thumbnails"===e.$root.params.view,expression:"$root.params.view === 'thumbnails'"}]}),e._v(" "),n("info",{directives:[{name:"show",rawName:"v-show",value:"info"===e.$root.params.view,expression:"$root.params.view === 'info'"}]}),e._v(" "),n("export",{directives:[{name:"show",rawName:"v-show",value:"export"===e.$root.params.view,expression:"$root.params.view === 'export'"}]}),e._v(" "),n("help",{directives:[{name:"show",rawName:"v-show",value:"help"===e.$root.params.view,expression:"$root.params.view === 'help'"}]})],1):e._e(),e._v(" "),e.$root.loading?n("div",{staticClass:"tify-app_loading",class:{"-centered":!e.$root.manifest}},[n("span",{staticClass:"tify-sr-only"},[e._v(e._s(e._f("trans")("Loading")))])]):e._e(),e._v(" "),e.$root.error?n("div",{staticClass:"tify-app_error"},[n("button",{staticClass:"tify-app_error-close",on:{click:function(t){e.$root.error=""}}},[n("icon",{attrs:{name:"close"}})],1),e._v(" "),n("span",{domProps:{innerHTML:e._s(e.$root.error)}})]):e._e()],1)},staticRenderFns:[]};e.a=i},function(t,e,n){"use strict";var i=n(188),r=n(189),o=n(3)(i.a,r.a,!1,null,null,null);e.a=o.exports},function(t,e,n){"use strict";e.a={props:["name"]}},function(t,e,n){"use strict";var i={render:function(){var t=this.$createElement;return(this._self._c||t)("i",{class:"tify-icon -"+this.name},[this._v(this._s(this.name))])},staticRenderFns:[]};e.a=i},function(t,e,n){"use strict";n(26).a.directive("click-outside",{bind:function(e,n,i){e.event=function(t){e===t.target||e.contains(t.target)||i.context[n.expression](t)},document.body.addEventListener("click",e.event)},unbind:function(t){document.body.removeEventListener("click",t.event)}})},function(t,e,n){"use strict";var i=n(26),r=n(192),o=n.n(r);i.a.filter("filterHtml",function(t){var r={a:["href"],img:["alt","src"]},e=o()(t,["a","b","br","i","img","p","span"]);return e.replace(/<(\w+)((\s+.+?(\s*=\s*(?:".*?"|'.*?'|.*?|[\^'">\s]+))?)+\s*|\s*)>/g,function(t,n,e){if(!e)return"<"+n+">";var i=[];return e.replace(/(?:([^\s]+)=(?:"(.*?)"|'(.*?)'))|([^\s]+)/g,function(t,e){t!==e&&r[n]&&-1<r[n].indexOf(e)&&i.push(t)}),0<i.length?"<"+n+" "+i.join(" ")+">":"<"+n+">"})})},function(t,e,n){"use strict";var i,r,o;r=[],void 0!==(o="function"==typeof(i=function(){function d(t){for(var e,n=[];null!==(e=i.exec(t));)n.push(e[1]);return 0!==n.length?n:null}var f=/\s/,i=/<(\w*)>/g;return function(t,o,s){function e(t){0==a?c+=t:o&&1==a&&(u+=t)}t=t||"";var n,i,r,a=0,l=0,c="",u="",h=!1;for("string"==typeof o?o=d(o):Array.isArray(o)||(o=null),n=0,i=t.length;n<i;n++)switch(r=t[n]){case"<":if(h)break;if(" "==t[n+1]){e(r);break}if(0==a){a=1,e(r);break}if(1==a){l++;break}e(r);break;case">":if(l){l--;break}if(h)break;if(1==a){h=a=0,o&&(u+=">",function(){var t,e,n,i="",r=!1;t:for(t=0,e=u.length;t<e;t++)switch(n=u[t].toLowerCase()){case"<":break;case">":break t;case"/":r=!0;break;default:if(n.match(f)){if(r)break t}else r=!0,i+=n}-1!==o.indexOf(i)?c+=u:s&&(c+=s),u=""}());break}if(2==a){h=a=0,u="";break}if(3==a&&"-"==t[n-1]&&"-"==t[n-2]){h=a=0,u="";break}e(r);break;case'"':case"'":1==a&&(h=h!=r&&(h||r)),e(r);break;case"!":if(1==a&&"<"==t[n-1]){a=2;break}e(r);break;case"-":if(2==a&&"-"==t[n-1]&&"!"==t[n-2]){a=3;break}e(r);break;case"E":case"e":if(2==a&&"doctype"==t.substr(n-6,7).toLowerCase()){a=1;break}e(r);break;default:e(r)}return c}})?i.apply(e,r):i)&&(t.exports=o)},function(t,e,n){"use strict";var i=n(26),r=n(53);i.a.filter("trans",function(t){return r.default.messages?r.default.messages[t]?r.default.messages[t]:("en"!==r.default.options.language&&console.warn('Missing translation for "'+t+'"'),t):t})},function(t,e){Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{value:function(t){if(null==this)throw new TypeError("Array.prototype.findIndex called on null or undefined");if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var e=Object(this),n=e.length>>>0,i=arguments[1],r=void 0,o=0;o<n;o+=1)if(r=e[o],t.call(i,r,o,e))return o;return-1},enumerable:!1,configurable:!1,writable:!1})},function(h,t,e){(function(e){function i(){}function o(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],u(t,this)}function r(n,i){for(;3===n._state;)n=n._value;0!==n._state?(n._handled=!0,o._immediateFn(function(){var t=1===n._state?i.onFulfilled:i.onRejected;if(null!==t){var e;try{e=t(n._value)}catch(t){return void a(i.promise,t)}s(i.promise,e)}else(1===n._state?s:a)(i.promise,n._value)})):n._deferreds.push(i)}function s(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if(e instanceof o)return t._state=3,t._value=e,void l(t);if("function"==typeof n)return void u(function(t,e){return function(){t.apply(e,arguments)}}(n,e),t)}t._state=1,t._value=e,l(t)}catch(e){a(t,e)}}function a(t,e){t._state=2,t._value=e,l(t)}function l(t){2===t._state&&0===t._deferreds.length&&o._immediateFn(function(){t._handled||o._unhandledRejectionFn(t._value)});for(var e=0,n=t._deferreds.length;e<n;e++)r(t,t._deferreds[e]);t._deferreds=null}function c(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}function u(t,e){var n=!1;try{t(function(t){n||(n=!0,s(e,t))},function(t){n||(n=!0,a(e,t))})}catch(t){if(n)return;n=!0,a(e,t)}}var t,n;t=this,n=setTimeout,o.prototype.catch=function(t){return this.then(null,t)},o.prototype.then=function(t,e){var n=new this.constructor(i);return r(this,new c(t,e,n)),n},o.all=function(t){var a=Array.prototype.slice.call(t);return new o(function(i,r){function o(e,t){try{if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if("function"==typeof n)return void n.call(t,function(t){o(e,t)},r)}a[e]=t,0==--s&&i(a)}catch(t){r(t)}}if(0===a.length)return i([]);for(var s=a.length,t=0;t<a.length;t++)o(t,a[t])})},o.resolve=function(e){return e&&"object"==typeof e&&e.constructor===o?e:new o(function(t){t(e)})},o.reject=function(n){return new o(function(t,e){e(n)})},o.race=function(r){return new o(function(t,e){for(var n=0,i=r.length;n<i;n++)r[n].then(t,e)})},o._immediateFn="function"==typeof e&&function(t){e(t)}||function(t){n(t,0)},o._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)},o._setImmediateFn=function(t){o._immediateFn=t},o._setUnhandledRejectionFn=function(t){o._unhandledRejectionFn=t},void 0!==h&&h.exports?h.exports=o:t.Promise||(t.Promise=o)}).call(t,e(71).setImmediate)},function(t,e,n){t.exports=n(197)},function(t,e,n){"use strict";function i(t){var e=new s(t),n=o(s.prototype.request,e);return r.extend(n,s.prototype,e),r.extend(n,e),n}var r=n(4),o=n(76),s=n(199),a=n(52),l=i(a);l.Axios=s,l.create=function(t){return i(r.merge(a,t))},l.Cancel=n(80),l.CancelToken=n(213),l.isCancel=n(79),l.all=function(t){return Promise.all(t)},l.spread=n(214),t.exports=l,t.exports.default=l},function(t,e){function n(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}t.exports=function(t){return null!=t&&(n(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&n(t.slice(0,0))}(t)||!!t._isBuffer)}},function(t,e,n){"use strict";function r(t){this.defaults=t,this.interceptors={request:new s,response:new s}}var i=n(52),o=n(4),s=n(208),a=n(209);r.prototype.request=function(t){"string"==typeof t&&(t=o.merge({url:arguments[0]},arguments[1])),(t=o.merge(i,this.defaults,{method:"get"},t)).method=t.method.toLowerCase();var e=[a,void 0],n=Promise.resolve(t);for(this.interceptors.request.forEach(function(t){e.unshift(t.fulfilled,t.rejected)}),this.interceptors.response.forEach(function(t){e.push(t.fulfilled,t.rejected)});e.length;)n=n.then(e.shift(),e.shift());return n},o.forEach(["delete","get","head","options"],function(n){r.prototype[n]=function(t,e){return this.request(o.merge(e||{},{method:n,url:t}))}}),o.forEach(["post","put","patch"],function(i){r.prototype[i]=function(t,e,n){return this.request(o.merge(n||{},{method:i,url:t,data:e}))}}),t.exports=r},function(t,e,n){"use strict";var r=n(4);t.exports=function(n,i){r.forEach(n,function(t,e){e!==i&&e.toUpperCase()===i.toUpperCase()&&(n[i]=t,delete n[e])})}},function(t,e,n){"use strict";var r=n(78);t.exports=function(t,e,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?e(r("Request failed with status code "+n.status,n.config,null,n.request,n)):t(n)}},function(t,e,n){"use strict";t.exports=function(t,e,n,i,r){return t.config=e,n&&(t.code=n),t.request=i,t.response=r,t}},function(t,e,n){"use strict";function o(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var s=n(4);t.exports=function(t,e,n){if(!e)return t;var i;if(n)i=n(e);else if(s.isURLSearchParams(e))i=e.toString();else{var r=[];s.forEach(e,function(t,e){null!=t&&(s.isArray(t)&&(e+="[]"),s.isArray(t)||(t=[t]),s.forEach(t,function(t){s.isDate(t)?t=t.toISOString():s.isObject(t)&&(t=JSON.stringify(t)),r.push(o(e)+"="+o(t))}))}),i=r.join("&")}return i&&(t+=(-1===t.indexOf("?")?"?":"&")+i),t}},function(t,e,n){"use strict";var o=n(4),s=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,n,i,r={};return t&&o.forEach(t.split("\n"),function(t){if(i=t.indexOf(":"),e=o.trim(t.substr(0,i)).toLowerCase(),n=o.trim(t.substr(i+1)),e){if(r[e]&&0<=s.indexOf(e))return;r[e]="set-cookie"===e?(r[e]?r[e]:[]).concat([n]):r[e]?r[e]+", "+n:n}}),r}},function(t,e,n){"use strict";var i,r,o,s=n(4);function a(t){var e=t;return r&&(o.setAttribute("href",e),e=o.href),o.setAttribute("href",e),{href:o.href,protocol:o.protocol?o.protocol.replace(/:$/,""):"",host:o.host,search:o.search?o.search.replace(/^\?/,""):"",hash:o.hash?o.hash.replace(/^#/,""):"",hostname:o.hostname,port:o.port,pathname:"/"===o.pathname.charAt(0)?o.pathname:"/"+o.pathname}}t.exports=s.isStandardBrowserEnv()?(r=/(msie|trident)/i.test(navigator.userAgent),o=document.createElement("a"),i=a(window.location.href),function(t){var e=s.isString(t)?a(t):t;return e.protocol===i.protocol&&e.host===i.host}):function(){return!0}},function(t,e,n){"use strict";function a(){this.message="String contains an invalid character"}(a.prototype=new Error).code=5,a.prototype.name="InvalidCharacterError",t.exports=function(t){for(var e,n,i=String(t),r="",o=0,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.charAt(0|o)||(s="=",o%1);r+=s.charAt(63&e>>8-o%1*8)){if(255<(n=i.charCodeAt(o+=.75)))throw new a;e=e<<8|n}return r}},function(t,e,n){"use strict";var a=n(4);t.exports=a.isStandardBrowserEnv()?{write:function(t,e,n,i,r,o){var s=[];s.push(t+"="+encodeURIComponent(e)),a.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),a.isString(i)&&s.push("path="+i),a.isString(r)&&s.push("domain="+r),!0===o&&s.push("secure"),document.cookie=s.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(t,e,n){"use strict";function i(){this.handlers=[]}var r=n(4);i.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},i.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},i.prototype.forEach=function(e){r.forEach(this.handlers,function(t){null!==t&&e(t)})},t.exports=i},function(t,e,n){"use strict";function i(t){t.cancelToken&&t.cancelToken.throwIfRequested()}var r=n(4),o=n(210),s=n(79),a=n(52),l=n(211),c=n(212);t.exports=function(e){return i(e),e.baseURL&&!l(e.url)&&(e.url=c(e.baseURL,e.url)),e.headers=e.headers||{},e.data=o(e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),r.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]}),(e.adapter||a.adapter)(e).then(function(t){return i(e),t.data=o(t.data,t.headers,e.transformResponse),t},function(t){return s(t)||(i(e),t&&t.response&&(t.response.data=o(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)})}},function(t,e,n){"use strict";var i=n(4);t.exports=function(e,n,t){return i.forEach(t,function(t){e=t(e,n)}),e}},function(t,e,n){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},function(t,e,n){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},function(t,e,n){"use strict";function i(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(t){e=t});var n=this;t(function(t){n.reason||(n.reason=new r(t),e(n.reason))})}var r=n(80);i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var e;return{token:new i(function(t){e=t}),cancel:e}},t.exports=i},function(t,e,n){"use strict";t.exports=function(e){return function(t){return e.apply(null,t)}}}]);